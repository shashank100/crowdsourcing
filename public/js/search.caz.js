!function e(t,n,i){function r(a,o){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!o&&l)return l(a,!0);if(s)return s(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return r(n?n:e)},u,u.exports,e,t,n,i)}return n[a].exports}for(var s="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t){(function(e){var n="undefined"!=typeof window?window.jQuery:"undefined"!=typeof e?e.jQuery:null;t.exports=function(){var e=n(window),t=e.scrollTop(),i=!0,r=n("#page-header").height(),s=n(".pill-container"),a=n(".no-of-res-wrp"),o=n(".component-body > .inner-container"),l=n(".search-right-content"),d=n("#searchFilterWidget"),u=n("body"),c=function(){if(d.length>0&&e.width()>978){var t=d.offset().top;e.on("scroll",function(){f(t,!1)}),d.on("click",".accord-head",function(){setTimeout(function(){f(t,!0)},500)})}},h=function(){var e=d.offset().top;f(e,!0)},f=function(c,h){var f=r+o.height(),p=l.height(),m=e.height(),v=d.outerHeight();if(v>p||e.width()<978)return void d.removeClass("fixed");var g=e.scrollTop(),y=d.position().top,w=y+v,b=Math.abs(m-v),x=t-g,_=d.offset().top,E=g>t,k=m>v;!d.hasClass("fixed")&&(k&&g>c||!k&&g>c+b)?(d.css({top:-b}),d.addClass("fixed")):!E&&c>=g&&d.removeClass("fixed");var C=m>=w&&(E||h),S=_>=g&&!E;if(C)k?d.css("top",0):g>f-m?d.css("top",-b-(g-(f-m))):d.css("top",-b);else if(S)d.css("top",0),s.hide(),a.hide();else if(d.hasClass("fixed")){if(u.height()-e.height()<=g)return;var A=parseInt(d.css("top"),10),T=-b,N=A+x,O=g+m>=n(document).height(),P=O?T:N;d.css("top",P)}d.hasClass("fixed")||(s.show(),a.show()),t=g,i=E};return{init:c,reCalculatePositions:h}}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t){(function(e){"undefined"!=typeof window?window.jQuery:"undefined"!=typeof e?e.jQuery:null;t.exports=function(){function e(e){var t=e.map(function(e){var t={};return t.name=e.split("~")[0],t.shortName=e.split("~")[1],t.type=e.split("|")[1].split("_")[0],"area"===t.type&&(t.type="region"),t.id=e.split("|")[1],t});return t}function t(t){var n;return n=JSON.parse(t),n=e(n)}function n(e){var t=e.map(function(e){var t={};return t.title=e.split("~")[0],t.type="regularCity",t});return t}function i(e){var t;return t=JSON.parse(e),t=t[0],t=n(t)}return{city:i,projectOrLocality:t}}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t){(function(n){var i="undefined"!=typeof window?window.jQuery:"undefined"!=typeof n?n.jQuery:null,r="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,s=e("../components/auto-suggest-model");"undefined"!=typeof window?window.Selectize:"undefined"!=typeof n?n.Selectize:null,t.exports=function(){function e(e){return i(e.selector).selectize({onChange:e.onChange||"",valueField:"title",labelField:"title",searchField:"title",options:e.options||"",create:!1,maxOptions:8,maxItems:1,openOnFocus:!0,optgroups:[{value:"popularCity",label:"Popular cities"},{value:"regularCity",label:"Choose a city"}],optgroupField:"type",optgroupOrder:["regularCity","popularCity"],render:{option:function(e,t){return"<div><span class='title'><span class='name'>"+t(e.title)+"</span></span></div>"}},load:function(t,n){return t.length?void i.ajax({url:"/autosuggest.php",type:"GET",data:{c:"all",item:"city",str:t,sub_item:"null",autoSuggestRequired:1},error:function(){n()},success:function(t){var i=e.popularCityLocalityData();r.assign(i,JSON.parse(t)[1]),t=s.city(t),n(t)}}):n()}})}return{create:e}}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../components/auto-suggest-model":2}],4:[function(e,t){(function(n){var i="undefined"!=typeof window?window.jQuery:"undefined"!=typeof n?n.jQuery:null;Validator=e("../libs/validator.js"),t.exports=function(){var e=function(){i(document).on("click","button[data-cf-role='viewContact']",function(e){e.preventDefault(),e.stopPropagation();var t=i(this).attr("data-cf-l-id"),n=i(this).attr("data-cf-l-src"),s=i(this).attr("data-cf-l-trk-inf"),a=i(this).attr("data-cf-l-srch-res"),o=i(this).attr("data-cf-l-pagetype"),l=i(this).attr("data-cf-l-view"),d=(i(this).attr("data-cf-l-aggr"),i(this).attr("data-cf-l-resp")),u=i(this).attr("data-cftcat"),c=i(this).attr("data-cftlabl"),h=i(this).attr("data-cf-inmodel"),f=i(this).attr("data-cf-email"),p=i(this).attr("data-cf-mobile"),m=i(this).attr("data-cf-name");i("#imageGalleryModal").modal("hide"),r(t,n,this,s,a,o,l,d,u,c,h,f,p,m)}),u()},t=function(){i(document).on("click","button[data-cf-role='expressInterestInProject']",function(){var e=i(this).attr("data-cf-p-id"),t=i(this).attr("data-cftcat"),r=i(this).attr("data-cftlabl");n(e,t,r)})},n=function(e,t,n){i("#expressInterestInProject .modal-body").html('<iframe id="enquire-iframe" src="/property-public/lead-form?pid='+e+"&cftLabel="+n+"&cftCategory="+t+'" style="border:none;">')},r=function(e,t,n,r,a,l,d,u,c,h,f,p,m,v){var d=d||"vert",g="0";"other"==a?a="Relevant listing ":"agg"==a?(a="Aggregated ",g="1"):a="Project Overview"==a?"Project Overview ":"","owner"==d&&(a+=(0==a.length?"":" ")+"Owner"),void 0!=l&&(a=l+" "+a);var y=null;"Full Listing Top"==l||"Full Listing Bottom"==l||"Listing Snippet"==l?y="full-detail":"Full Listing Sticky Header"==l?y="full-detail-sticky":("Search page Project listing Snippet"==l||"Search page listing Snippet"==l)&&(y="search-results-snippets");var w=[],b=0;if(r===Object(r)){if(w.push(""),r.hasOwnProperty("position")&&(b=r.position,delete r.position),r.hasOwnProperty("viewContactInfoReminder")){var x=r.viewContactInfoReminder;delete r.viewContactInfoReminder}r.hasOwnProperty("sendMessageReminder")&&delete r.sendMessageReminder;for(var _ in r)r.hasOwnProperty(_)&&w.push(_+":"+r[_])}i(window).width()<=991||void 0!=typeof f&&"true"==f?o(n,e,t,g,a,d,x,y,u,c,h,p,m,v):s(n,e,t,g,a,d,x,y,u,c,h)},s=function(e,t,n,r,s,o,d,u,c,h,f){i("#contact-flow-wrp").remove(),i("body").append('<div class="contact-flow-overlay"></div><div id="contact-flow-wrp"><span class="icon-cross"></span></div>'),l(i(e),i("#contact-flow-wrp")),i("#contact-flow-wrp").append("<iframe src='/property-listing-public/view-contact-transformers?action=view-contact-info&listing_id="+t+"&contact_source="+n+"&aggregated="+r+"&listing_type=property&search_result_type="+s+"&view="+o+"&vci_reminder="+d+"&trk_caller="+u+"&isPageResponsive="+c+"&gaCategoryPrefix="+h+"&gaLabelPrefix="+f+"' height='500' width='350' style='border:none;'></iframe>"),i("#contact-flow-wrp").on("click",".icon-cross",function(e){a(e)}),i("body").mouseup(function(e){a(e)})},a=function(e){(0==i(e.target).parents("#contact-flow-wrp").length||"icon-cross"===e.target.className)&&(i("#contact-flow-wrp").remove(),i(".contact-flow-overlay").remove())},o=function(e,t,n,r,s,a,o,l,d,u,c,h,f,p){i("#viewContactModal").modal("show"),i("#viewContactModal .modal-body").html("<iframe src='/property-listing-public/view-contact-transformers?action=view-contact-info&listing_id="+t+"&contact_source="+n+"&aggregated="+r+"&listing_type=property&search_result_type="+s+"&view="+a+"&vci_reminder="+o+"&trk_caller="+l+"&isPageResponsive="+d+"&email="+h+"&mobile="+f+"&name="+p+"&is_auto_send_message=1&gaCategoryPrefix="+u+"&gaLabelPrefix="+c+"' height='500' width='350' style='border:none;'></iframe>")},l=function(e,t){d(e)&&(e=d(e));var n=e.offset(),r=e.outerWidth(),s=t.outerWidth(),a=n.top-200,o=0,l=e.attr("data-cf-l-pos");"top"===l?(a=n.top,t.addClass("top")):"bottom"===l&&(a=n.top-t.outerHeight(),t.addClass("bottom")),i(window).width()-(n.left+r+10)>=s?(o=n.left+r+10,t.addClass("left")):n.left>=s+10?(o=n.left-s-10,t.addClass("right")):(i(".contact-flow-overlay").show(),o="25%"),t.css({top:a,left:o}),e.focus()},d=function(e){return i("[data-cf-l-main]").length>0&&i("[data-cf-l-main]").data("cf-l-main")===e.attr("id")?i(i("[data-cf-l-main]")[0]):!1},u=function(){var e=i("#autoSendMessage").val();"undefined"!=typeof e&&1==e&&i("#autoSendMessageButton").click()};return{initExpressInterest:t,initViewContact:e}}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../libs/validator.js":28}],5:[function(e,t){(function(e){var n="undefined"!=typeof window?window.jQuery:"undefined"!=typeof e?e.jQuery:null;t.exports=function(){var e=function(){"use strict";n.fn.addCft=function(){for(var e,t=n.extend({cftcat:"commonfloor",cftact:"click",cftlabl:"",cftev:"click",cftclass:"addCft"},this.data()),r=t.cftev.split(" "),s=0;s<r.length;s++)""!=r[s]&&null!=r[s]&&n(this).on(r[s],function(){var t=n(this).attr("data-cftact");e=void 0!==t?t:"click",i(n(this).attr("data-cftcat"),e,n(this).attr("data-cftlabl"))})},n(function(){n(".addCft").each(function(){n(this).addCft()})})},t=function(e){n(e).addCft()},i=function(e,t,n){var i=e||"",r=t||"",s=n||"";try{_gaq.push(["_trackEvent",i,r,s])}catch(a){console.log(a)}};return{init:e,addNewCft:t,pushCft:i}}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(e,t){(function(n){var i="undefined"!=typeof window?window.jQuery:"undefined"!=typeof n?n.jQuery:null,r=e("./shortlist-header-new"),s=e("../libs/utils");r.init(),t.exports=function(){var e=function(){i(".logout-btn").on("click",function(){n()}),t(),s.platformType(),s.browserName()},t=function(){var e=i(".cf-login .text-label"),t=e.text().length;t>15&&e.text(e.text().substr(0,15)+"..")},n=function(){i.ajax({url:"/authorize/logout",method:"POST",success:function(e){var t=e.responseText;document.cookie="_icfuli=;path=/;domain="+t+";expires=Thu, 01 Jan 1970 00:00:01 GMT",window.location.href="/"},error:function(){alert("Could not connect to CommonFloor Server for this request")}})};return{init:e}}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../libs/utils":27,"./shortlist-header-new":17}],7:[function(e,t){(function(e){var n="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,i="undefined"!=typeof window?window.jQuery:"undefined"!=typeof e?e.jQuery:null;t.exports=function(){function e(){window.addEventListener("load",t,!1)}var t=function(){var e=document.querySelectorAll("[data-cf-lazyloaded='false']");n.forEach(e,function(e){e.getAttribute("data-src")&&(e.src=e.getAttribute("data-src")),e.getAttribute("data-bg")&&i(e).css("background",e.getAttribute("data-bg")),e.setAttribute("data-cf-lazyloaded","true")})};return{startAfterOnLoad:e,startNow:t}}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(e,t){(function(e){"undefined"!=typeof window?window.jQuery:"undefined"!=typeof e?e.jQuery:null;t.exports=function(){function e(){}return{init:e}}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(e,t){(function(e){var n="undefined"!=typeof window?window.jQuery:"undefined"!=typeof e?e.jQuery:null;t.exports=function(){var e,t="#img-gallery-listing",i="#img-gallery-carousel",r=n("#imageGalleryModal"),s=n(t),a=n(i),o="/transformers/gallery/get-gallery-urls?listing_id=",l="/transformers/gallery/get-gallery-urls?project_id=",d={targetWrapper:"document",targetClass:"modal-gallery-src",originalSlideIndex:0,showHeader:!1},u=function(t){e=n.extend(d,t);var i,s,a="."+e.targetClass;n(document).on("click",a,function(t){if(n(t.target).hasClass("flex-next")||n(t.target).hasClass("flex-prev"))return!1;var a=n(this).attr("data-cf-mig-type"),d=n(this).attr("data-cf-mig-isheader");if(e.showHeader="true"==d?!0:!1,e.showHeader?r.find(".modal-header").show():r.find(".modal-header").hide(),"listing"==a){var u="data-cf-lid";i=o}else{var u="data-cf-pid";i=l}s=n(this).attr(u),r.modal("show"),n(this).hasClass("flexslider")&&(e.originalSlideIndex=n(this).find(".flex-active-slide").index())}),c(),r.on("hide.bs.modal",function(){h()}),r.on("shown.bs.modal",function(){v(i,s)})},c=function(){r.find("ul.modal-title").on("click","li",function(){n(this).closest("ul.modal-title").find("li").removeClass("selected"),n(this).addClass("selected");var e=n(this).attr("data-img-label");a.find('[data-img-label="'+e+'"]').eq(0).click()})},h=function(){0!=r.find(".flexslider").length&&(r.find(".flexslider").each(function(){"undefined"!=typeof n(this).data("flexslider")&&n(this).data("flexslider").detach()}),r.find(".flexslider").remove(),r.find(".modal-body").html('<img src = "/cfassets/images/common/loader.gif" class="modal-loader-img">')),e.originalSlideIndex=0},f=function(){a.flexslider({animation:"slide",controlNav:!0,directionNav:!0,animationLoop:!1,slideshow:!1,lazyload:!0,llAttrib:"flex-ll-src",itemWidth:100,itemHeight:80,itemMargin:10,maxItems:10,keyboard:!0,multipleKeyboard:!0,minItems:1,asNavFor:t}),s.flexslider({animation:"slide",controlNav:!0,directionNav:!0,animationLoop:!1,slideshow:!1,lazyload:!0,maxItems:1,minItems:1,keyboard:!0,multipleKeyboard:!0,llAttrib:"flex-ll-src",after:function(){var e=s.find(".flex-active-slide img").attr("data-img-label"),t=r.find('.modal-title li[data-img-label="'+e+'"]');r.find(".modal-title li").removeClass("selected"),t.addClass("selected")},sync:i}),setTimeout(function(){s.data("flexslider").resize()},1e3),0!=e.originalSlideIndex&&a.find(".slides li").eq(e.originalSlideIndex).click()},p=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},m=function(o){var l=JSON.parse(o),d="",u="",c="";d+='<div class="slider-wrap"><div id="img-gallery-listing" class="flexslider v-middle"><ul class="slides">';for(key in l)if(null!=l[key]){e.showHeader&&r.find("ul.modal-title").find('[data-img-label="'+key+'"]').eq(0).css(0==l[key].length?{display:"none"}:{display:"inline-block"});for(var h=0;h<l[key].length;h++)if("undefined"!=typeof l[key][h]&&"undefined"!=typeof l[key][h]){var m=p("undefined"!=typeof l[key][h].tag_name&&""!=l[key][h].tag_name?l[key][h].tag_name:key),v=h+1;u+='<li><a href="javascript:void(0);"><div class="modal-image-wrapper"><img class="flex-lazyload" data-img-label="'+key+'" src="/cfassets/images/common/loader.gif" onerror="this.src=\'/cfassets/images/desktop/common/no-image-available.jpg\'" flex-ll-src="'+l[key][h].full_image_path+'"><p class="flex-caption"><br/><strong><span class="activeSlide">'+v+'</span></strong>/<span class="totalSlide">'+l[key].length+'</span> : <span class="slideTagName">'+m+"</span></p></div></a></li>",c+='<li><a href="javascript:void(0);"><img class="flex-lazyload" data-img-label="'+key+'" src="/cfassets/images/common/loader.gif" flex-ll-src="'+l[key][h].thumbnail_image_path+'" onerror="this.src=\'/cfassets/images/desktop/common/no-image-available.jpg\'"></a></li>'}}d+=u,d+='</ul></div></div><div class="slider-wrap"><div id="img-gallery-carousel" class="flexslider"><ul class="slides">',d+=c,d+="</ul></div></div>",r.find(".modal-body").html(d),s=n(t),a=n(i),f(),n("img:visible").trigger("unveil")},v=function(e,t){n(".modal").find(".modal-loader-img").show(),n.ajax({url:e+t,method:"GET",success:function(e){m(e)},error:function(){alert("Could not connect to CommonFloor Server for this request")},complete:function(){}})};return{init:u}}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],10:[function(e,t){(function(n){var i="undefined"!=typeof window?window.jQuery:"undefined"!=typeof n?n.jQuery:null,r=e("../components/auto-suggest-model");"undefined"!=typeof window?window.Selectize:"undefined"!=typeof n?n.Selectize:null,t.exports=function(){function e(e){return i(e.selector).selectize({onChange:e.onChange||"",valueField:"id",labelField:"name",searchField:"name",options:e.options()||"",create:!1,maxOptions:8,openOnFocus:!0,closeAfterSelect:!0,optgroups:[{value:"apartment",label:"Projects"},{value:"region",label:"Location"},{value:"popularLocality",label:"POPULAR LOCALITIES"},{value:"popularProject",label:"POPULAR PROJECTS"}],optgroupField:"type",optgroupOrder:["region","apartment","popularLocality","popularProject"],render:{option:function(e,t){return"<div><span class='title'><span class='name'>"+t(e.name)+"</span></span></div>"}},load:function(t,n){return t.length?void i.ajax({url:"/autosuggest.php",type:"GET",data:{c:e.currentCity(),item:"location",str:t,sub_item:"null"},error:function(){n()},success:function(e){e=r.projectOrLocality(e),n(e)}}):n()}})}return{create:e}}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../components/auto-suggest-model":2}],11:[function(e,t){(function(e){var n="undefined"!=typeof window?window.jQuery:"undefined"!=typeof e?e.jQuery:null;t.exports=function(){function e(){t()}function t(){n("body").append('<div class="scrollup"><a href="#page-header"><span class="gototop"><span class="icon-chevron-up"></span></span></a></div>'),r(),i()}function i(){n(window).scroll(function(){s(this)}),n(".scrollup").click(function(){a()})}function r(){n(".scrollup").css({position:"fixed",width:"45px",height:"45px",bottom:"50px",right:"70px",display:"none","font-size":"50px","z-index":"1"}),n(".gototop").css({background:"rgba(51, 51, 51,0.6)","border-radius":"50px 50px",display:"inline-block",width:"35px",height:"35px","line-height":"16px"}),n(".icon-chevron-up").css({"font-size":"24px",position:"relative",top:"-1px",left:"6px"})}function s(e){n(e).scrollTop()>100?n(".scrollup").fadeIn():n(".scrollup").fadeOut()}function a(){return n("html, body").animate({scrollTop:0},600),!1}return{init:e}}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],12:[function(e,t){var n=e("../components/search-filters-ractive-factory"),i=e("../components/search-filters"),r=e("../components/search-pills"),s=e("../components/search-results");t.exports=function(){function e(){l.init(),d.init(),u.init()}var t;try{t=JSON.parse(document.getElementById("filtersJSON").value)}catch(a){console.error(a)}var o=n.create({el:"filtersContainer",template:"#filtersTemplate",data:t}),l=i(o),d=r(o,l),u=s(o,d);return{init:e}}()},{"../components/search-filters":14,"../components/search-filters-ractive-factory":13,"../components/search-pills":15,"../components/search-results":16}],13:[function(e,t){(function(n){var i=e("../libs/ractive-edge.js"),r="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null;t.exports=function(){function e(e,t){var n,i={},s=function(e){return e=e>=1e7?e/1e7+" Cr":e>=1e5?e/1e5+" Lac":e>=1e3?e/1e3+" K":""};return i.available_from={"":"","+0 days":"right away","+30 days":"within a month","+90 days":"in 3 months","+180 days":"in 6 months","+1 year":"in 1 year","+2 years":"in 2 years","2-*":"in 2+ years"},i.bed_rooms={},r.isEmpty(t)||(i.bed_rooms[t]=t+" BHK"),i.bed_rooms.All="1 to 4+ BHK",i.sale_type={"-1":"Sale",1:"Resale"},i.property_age={},r.isEmpty(t)||(i.property_age[t]=t+" years"),i.property_age.u_c="Under Construction",i.ownership={freehold:"Freehold",leasehold:"Leasehold",poa:"P.O.A.",coop:"Cooperative Society"},i.furnish_state={semi:"Semi Furnished",fully:"Fully Furnished",not:"Unfurnished"},i.min_inr={},i.min_inr[t]=s(t),i.rent_min_inr={},i.rent_min_inr[t]=s(t),i.max_inr={},i.max_inr[t]=s(t),i.rent_max_inr={},i.rent_max_inr[t]=s(t),n=i[e]?i[e][t]:t}function t(t,n){return"string"!=typeof n&&Array.isArray(n)||(n=[n]),"min_inr"==t&&(minBudgetTitle=e(t,n)),"rent_min_inr"==t&&(rentMinBudgetTitle=e(t,n)),"builtup_area_min"==t&&(builtupAreaMinTitle=e(t,n)),"search_intent"==t&&"sale"==n[0]&&(isSale=1),"search_intent"==t&&"rent"==n[0]&&(isSale=0),"house_type"==t&&(onlyPlot=1==n.length&&"Plot"==n[0]?1:0),n.map(function(n){var i={};if(i.name=t,i.value=n,"max_inr"==t){if(1!=isSale)return 0;var r=e(i.name,i.value);i.title=null!==r&&""!==r?null!==minBudgetTitle&&""!==minBudgetTitle?minBudgetTitle+" to "+r:"Less than "+r:null!==minBudgetTitle&&""!==minBudgetTitle?"More than "+minBudgetTitle:null}else if("rent_max_inr"==t){if(0!=isSale)return 0;var s=e(i.name,i.value);i.title=null!==s&&""!==s?null!==rentMinBudgetTitle&&""!==rentMinBudgetTitle?rentMinBudgetTitle+" to "+s:"Less than "+s:null!==rentMinBudgetTitle&&""!==rentMinBudgetTitle?"More than "+rentMinBudgetTitle:null}else if("builtup_area_max"==t){var a=e(i.name,i.value);i.title=null!==a&&""!==a&&void 0!==a?null!==builtupAreaMinTitle[0]&&""!==builtupAreaMinTitle[0]&&void 0!==builtupAreaMinTitle[0]?builtupAreaMinTitle+" to "+a+" sqft":"Less than "+a+" sqft":null!==builtupAreaMinTitle[0]&&""!==builtupAreaMinTitle[0]&&void 0!==builtupAreaMinTitle?"More than "+builtupAreaMinTitle+" sqft":null}else{if("sale_type"==t&&0==isSale)return 0;if("posted_by"==t&&"Builder"==n&&0==isSale)return 0;if(("bed_rooms"==t||"furnish_state"==t||"parking"==t)&&1===onlyPlot)return 0;i.title=e(i.name,i.value)}return i})}function n(e){return""!==$("#builtup_area_max").val()&&"builtup_area_max"===e.name&&s()?!1:(""!==e.value&&null!==e.value||null!==e.title&&!r.isEmpty(e.title))&&void 0!==e.value?!0:!1}function s(){return parseInt($("#builtup_area_min").val())>parseInt($("#builtup_area_max").val())?!0:!1}function a(e){var s=new i({el:e.el,template:e.template,magic:!0,data:e.data,computed:{payload:function(){var e={},t=this;return o.forEach(function(n){"builtup_area_max"===n&&void 0==t.get(n)?e[n]="":("rent_min_inr"===n&&"rent"===t.get("search_intent").toString()&&(e.min_inr=t.get(n)),"rent_max_inr"===n&&"rent"===t.get("search_intent").toString()&&(e.max_inr=t.get(n)),"property_location_filter"===n?e[n]=t.get(n).toString().split(","):"search_intent"===n?e[n]=t.get(n).toString():(e[n]=t.get(n),"use_pp"===n&&(e.use_pp=0)))}),e},pillElementList:function(){var e=this;return r.keys(e.get("payload")).map(function(n){return"builtup_area_max"==n&&void 0==e.get(n)?t(n,""):t(n,e.get(n))})},pillList:function(){return r.flatten(this.get("pillElementList")).filter(function(e){return n(e)?e:void 0}).filter(function(e){return r.include(l,e.name)?e:void 0})},nearbyLocalitiesList:function(){return this.get("nearbyLocalities")}}});return s}var o=["search_intent","city","house_type","posted_by","available_from","bed_rooms","furnish_state","sale_type","property_age","ownership","amenities","virtual_tour","min_inr","max_inr","rent_min_inr","rent_max_inr","builtup_area_min","builtup_area_max","parking","srtby","use_pp","set_pp","property_location_filter","prop_name","show_ungrouped_results"],l=["house_type","posted_by","available_from","bed_rooms","furnish_state","sale_type","property_age","ownership","amenities","virtual_tour","max_inr","rent_max_inr","builtup_area_max","parking","prop_name"];return{create:a}}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../libs/ractive-edge.js":26}],14:[function(e,t){(function(n){var i="undefined"!=typeof window?window.jQuery:"undefined"!=typeof n?n.jQuery:null,r="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,s=e("../components/city-suggest-factory"),a=e("../components/project-locality-suggest-factory"),o=e("../components/ga.js");t.exports=function(e){function t(){var t=e.get("city"),n=e.get("prop_name"),i=e.get("property_location_filter"),s=[];C.addOption({title:t,type:"regularCity"}),C.addItem(t),r.isEmpty(n)||(n.forEach(function(e,t){var n={};n.name=e,n.id=i[t],s.push(n)}),s.forEach(function(e){E.addOption(e),E.addItem(e.id)})),function(){e.on("addNearbyLocality",function(t){e.set("nearbyLocalities",r.difference(e.get("nearbyLocalities"),[t.context])),E.addOption({name:t.context.name,id:t.context.id}),E.addItem(t.context.id)})}()}function n(){i(".advncd-filter-wrp").on("click",".accord-head",function(){i(this).children("span").toggleClass("icon-circle-down icon-circle-up").parent().next(".accord-cont").slideToggle("fast")})}function l(){e.on("onSelectingBuy",function(){document.getElementById("rent").click();var e=y.textContent.indexOf("Sale")>-1,t=document.getElementById("Plot");e&&1==t.checked&&t.click(),t.disabled=e})}function d(){e.on("onSelectingRent",function(){document.getElementById("buy").click()})}function u(){var e=i(".tab-filter-heading"),t=i("#searchFilterWidget .filters-done"),n=i("#filtersContainer");e.click(function(){n.toggleClass("showing-filters-tablet"),t.toggleClass("showing-filters-tablet")}),t.click(function(){e.click(),window.location.href="#searchFilterWidget"})}function c(){document.getElementById("builtup_area_min").onkeypress=function(e){return e.charCode>=48&&e.charCode<=57},document.getElementById("builtup_area_max").onkeypress=function(e){return e.charCode>=48&&e.charCode<=57},document.getElementById("builtup_area_max").onkeyup=function(){parseInt(this.value)<=parseInt(document.getElementById("builtup_area_min").value)?i(this).addClass("cf-error"):i(".cf-error").removeClass("cf-error")}}function h(){e.on("selectAllBhk",function(){e.set("bed_rooms",["All"])}),e.on("unselectAllBhk",function(t){if(t.node.checked===!0){e.set("bed_rooms",r.uniq(r.flatten([t.node.value,e.get("bed_rooms")])));var n=e.get("bed_rooms");n=r.difference(n,["All"]),e.set("bed_rooms",n)}})}function f(t){ele=document.getElementById(t);var n=parseInt(ele.value.replace(",",""));isNaN(n)&&(n=0);var r;"min_inr"==t?(i("#max_inr > option").each(function(){r=parseInt(this.value.replace(",","")),this.style.display=n>r?"none":"block"}),n>parseInt(document.getElementById("max_inr").value.replace(",",""))&&e.set("max_inr","")):(i("#rent_max_inr > option").each(function(){r=parseInt(this.value.replace(",","")),this.style.display=n>r?"none":"block"}),n>parseInt(document.getElementById("rent_max_inr").value.replace(",",""))&&e.set("rent_max_inr",""))}function p(t){var n=document.getElementById(t),i=parseInt(n.value.replace(",",""));isNaN(i)&&(i=0),"max_inr"==t?i<parseInt(document.getElementById("min_inr").value.replace(",",""))&&0!==i&&e.set("min_inr",""):i<parseInt(document.getElementById("rent_min_inr").value.replace(",",""))&&0!==i&&e.set("rent_min_inr","")}function m(){var e=i("#searchFilterWidget");e.on("change","#min_inr",function(){f("min_inr")}),e.on("change","#rent_min_inr",function(){f("rent_min_inr")}),e.on("change","#max_inr",function(){p("max_inr")}),e.on("change","#rent_max_inr",function(){p("rent_max_inr")})}function v(){m(),t(),n(),u(),c(),l(),d(),h()}var g,y=document.querySelector("#searchHeaderWidget h1"),w=!0;try{g=JSON.parse(document.getElementById("CFautoSuggestdata").value)}catch(b){console.error(b)}var x=Object.keys(g).map(function(e){return{title:e,type:"popularCity"}}),_=a.create({selector:"#project-locality-input",options:function(){return g[e.get("city")]},onChange:function(t){var n=document.querySelectorAll("#project-locality-input + .selectize-control > div .item"),i=[].map.call(n,function(e){return e.textContent});w||o.pushCft("sale"===e.get("search_intent")?"Buy Filter":"Rent Filter","Locality / Project selected",i[i.length-1]),w=!1,e.set("prop_name",i),e.set("property_location_filter",[t])},currentCity:function(){return e.get("city")}}),E=_[0].selectize,k=s.create({popularCityLocalityData:function(){return g},selector:"#select-city",options:x,onChange:function(t){e.set("city",t),e.set("property_location_filter",""),e.set("prop_name",""),w||o.pushCft("sale"===e.get("search_intent")?"Buy Filter":"Rent Filter","City selected",t),w=!1,E.clearOptions(),g[t]&&g[t].forEach(function(e){E.addOption(e)}),E.refreshOptions()}}),C=k[0].selectize;return{init:v,citySuggest:C,localitySuggest:E}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../components/city-suggest-factory":3,"../components/ga.js":5,"../components/project-locality-suggest-factory":10}],15:[function(e,t){(function(e){var n="undefined"!=typeof window?window.jQuery:"undefined"!=typeof e?e.jQuery:null,i="undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null;t.exports=function(e,t){function r(){var e=n(".pill-container").height();0===e?(document.querySelector(".no-of-res-wrp").style.top="0px",document.querySelector(".pill-placeholder").style.height="0px",document.querySelector(".search-tag#searchTagsWidget").style["border-bottom"]="none",document.querySelector("div#searchResultsWidget .emptyDiv").style.height="60px"):(document.querySelector(".pill-placeholder").style.height=e+10+"px",document.querySelector(".no-of-res-wrp").style.top=e+10+"px",document.querySelector(".search-tag#searchTagsWidget").style["border-bottom"]="1px solid #ddd",document.querySelector("div#searchResultsWidget .emptyDiv").style.height="60px")}function s(){var n=["search_intent","city","srtby","use_pp","set_pp","show_ungrouped_results"],r=i.omit(e.get("payload"),n);e.on("clearAllFilters",function(){i.forEach(r,function(t,n){i.isEmpty(e.get(n))||e.set(n,"")}),e.set("nearbyLocalities",""),t.localitySuggest.clear()})}function a(){e.on("removePill",function(n){var r=n.context.name,s=n.context.value;if("prop_name"===r){var a=i.find(t.localitySuggest.options,{name:s}).id;t.localitySuggest.removeItem(a)}else e.set(r,i.difference(i.flatten([e.get(r)]),[s])),"max_inr"===r&&e.set("min_inr",""),"rent_max_inr"===r&&e.set("rent_min_inr",""),"builtup_area_max"===r&&e.set("builtup_area_min","")})}function o(){r(),s(),a()}return{init:o,updateHeight:r}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],16:[function(e,t){(function(n){var i=e("nanobar"),r="undefined"!=typeof window?window.jQuery:"undefined"!=typeof n?n.jQuery:null,s="undefined"!=typeof window?window._:"undefined"!=typeof n?n._:null,a=e("../libs/countUp.js"),o=e("../components/affix-sidebar"),l=e("../components/ga.js");e("../libs/jquery.lazyloadxt"),t.exports=function(e,t){function n(){e.observe("payload.*",s.debounce(p,300)),e.observe("payload.search_intent",s.debounce(d,300)),e.observe("payload.house_type",s.debounce(c,300))}function d(){var t=e.get("search_intent").toString(),n="filter",i="click",r=function(){return"sale"===t?"Buy filter":"Rent filter"}();h(),S||l.pushCft(n,i,r),S=!1}function u(){var t,n=s.capitalize(e.get("search_intent")),i=e.get("city");s.isEmpty(i)&&(i="India"),t="Properties for "+n+" in "+i,j.textContent===t||S||(j.textContent=t)}function c(){h()}function h(){r(".dynamicCont").each(function(){l.addNewCft(this),r(this).removeClass("dynamicCont")})}function f(){k&&k.abort();var t=s.assign({location_type:"near_by"},e.get("payload"));k=r.ajax({type:"POST",url:"/property-listing/get-locality-count",data:t}).success(function(t){t=JSON.parse(t),e.set("nearbyLocalities",t)})}function p(){if(u(),f(),A=2.4,r(".cf-error").length>0)return!1;var n=e.get("max_inr"),i=e.get("min_inr");!s.isEmpty(n)&&s.parseInt(i)>s.parseInt(n)||(t.updateHeight(),C||m(e.get("payload")),C=!1)}function m(e){E&&E.abort(),E=r.ajax({url:L+"/transformers/search-response/index",type:"POST",data:e,beforeSend:function(){F.go(60)}}).success(v).complete(function(){window.setTimeout(function(){N.removeClass("loading")},400)})}function v(e){N.addClass("loading"),O.addClass("fade");try{e=JSON.parse(e)}catch(t){console.error(t)}F.go(100);var n=document.getElementById("numberOfResults").textContent,i=e.searchResults.totalResultCount;N.html(e.searchResults.html);var s={useEasing:!0,useGrouping:!1,separator:",",decimal:".",prefix:"",suffix:""};10>i?g():e.searchResults.responseResultCount<10*A?P.hide():24==i?P.hide():P.show();var l=new a("numberOfResults",n,i,0,1,s);l.start(),o.reCalculatePositions(),r(window).lazyLoadXT()}function g(){F.go(60);var t=s.assign({page:1},e.get("payload"));y(t)}function y(e){r.ajax({url:L+"/transformers/search-response/get-relevant-listings",type:"POST",data:e}).success(function(e){e=JSON.parse(e);var t=e.searchResults.totalResultCount,n=document.getElementById("numberOfResults").textContent;r("#searchSorryPageWidget").length>0&&r("#searchSorryPageWidget").remove(),0==t&&0==n&&N.append('<br><div class="row" id="searchSorryPageWidget"><div class="col-md-1 smilyicon"><span class="icon-wondering"></span></div><div class="col-md-11"><div>Ummm... Sorry! We haven\'t found any properties accurately matching your search.</div><div>Please retry with different search options or post your requirements to get property alerts.</div></div></div><br>'),0!=t&&N.append('<br><div class="row" id="searchSorryPageWidget"><div class="col-md-1 smilyicon"><span class="icon-wondering"></span></div><div class="col-md-11"><div>Ummm... Sorry! We haven\'t found any more properties accurately matching your search.</div><div>Here are some other properties that you may find interesting:</div></div></div><br>'),N.append(e.searchResults.html);
var n=document.getElementById("numberOfResults").textContent;P.hide(),F.go(100),r(window).lazyLoadXT()})}function w(){r(".show-more-main").on("click",function(){F.go(60);var t=s.assign({page_size:T,page:++A},e.get("payload"));b(t)})}function b(e){r.ajax({url:L+"/transformers/search-response/index",type:"POST",data:e}).success(function(e){e=JSON.parse(e),N.append(e.searchResults.html),e.searchResults.totalResultCount<=10*A&&P.hide(),F.go(100),r(window).lazyLoadXT()})}function x(){var e=document.getElementById("numberOfResults").textContent;parseInt(e,10)<10&&(P.hide(),g()),parseInt(e,10)<25&&P.hide()}function _(){x(),n(),w()}var E,k,C=!0,S=!0,A=2.4,T=10,N=r("#searchResultsContainer"),O=r("#relevant-listings"),P=r(".show-more"),j=document.querySelector("#searchHeaderWidget h1"),L=window.location.protocol+"//"+window.location.hostname,F=new i({bg:"orange",target:document.getElementById("nanoBarWrap"),id:"srpnano"});return{init:_}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../components/affix-sidebar":1,"../components/ga.js":5,"../libs/countUp.js":22,"../libs/jquery.lazyloadxt":24,nanobar:30}],17:[function(e,t){(function(n){var i="undefined"!=typeof window?window.jQuery:"undefined"!=typeof n?n.jQuery:null,r=e("./shortlistAPIs");t.exports=function(){"use strict";function e(){t(),r.isUserLoggedIn()&&v()}function t(){i("#shortlist").on("click",function(){h()}),i("#shortlist").hover(function(){l()},function(){i("#wishlist").is(":visible")||i("#sl-loader").is(":visible")||(d(),s())}),i("body").mouseup(function(e){0!=i(e.target).parents("#shortlist-wrap-box").length||i(e.target).hasClass("short-list-icon")||!i("#wishlist").is(":visible")&&!i(".shortlist-tooltip").is(":visible")||s(e)}),i(".cf-login").hover(function(){s()}),i(".content-wrapper").on("click","span.shortlist-delete",function(){w(this)}),i(".content-wrapper").on("click",".shortlisting-undo-remove",function(){E(this)})}function n(){N.show()}function s(){N.hide()}function a(){n(),d(),c(),O.children("#wishlist").show()}function o(){O.children("#wishlist").hide()}function l(){n(),c(),o(),O.children(".shortlist-tooltip").show()}function d(){O.children(".shortlist-tooltip").hide()}function u(){n(),d(),O.children("#sl-loader").show()}function c(){O.children("#sl-loader").hide()}function h(){r.isUserLoggedIn()?(u(),f(p)):s()}function f(e,t){i.ajax({url:A,method:"GET",success:function(t){e(i.parseJSON(t))},error:function(){alert("Unable to connect to CommonFloor server")},complete:function(){C(),t()}})}function p(e){for(var t="",n=0;n<e.length&&("ur"==e[n].listingStateFlag||"ue"==e[n].listingStateFlag?e[n].images_src[0]="/cfassets/images/desktop/common/under-review.jpg":(void 0==e[n].images_src[0]||""==e[n].images_src[0])&&(e[n].images_src[0]="/cfassets/images/desktop/common/no-image-available.jpg"),(""==e[n].listingPriceFormatted||null==e[n].listingPriceFormatted)&&(e[n].listingPriceFormatted="N/A"),(""==e[n].areaBuiltupSqft||null==e[n].areaBuiltupSqft)&&(e[n].areaBuiltupSqft="N/A"),t+=m(e[n]),4!==n);n++);i(".content-wrapper").html(t),i(".shortlist-heading .shortlist-count").text(i("#shortlist .notif-count").text()),a(),c(),y()}function m(e){return'<div class="listing-div"><div class="listing-info"><div class="listing-img"><img src="'+e.images_src[0]+'" onError="/cfassets/images/desktop/common/no-image-available.jpg"></div><div class="snippet"><p class="listing-name addCft" data-cftcat="HPHeader" data-cftact="Shortlist" data-cftlabl="Click List"><a class="full-detail" href="http://'+e.listingPublicUrl+'">'+e.listingTitle+'</a></p><p class="content"><span class="WebRupee"> Rs </span><span class="listing-price">'+e.listingPriceFormatted+'</span>,<span class="listing-area">'+e.areaBuiltupSqft+'</span> sq ft</p></div><span class="shortlist-delete hide addCft" lid="'+e.listingId+'" ltype="'+e.listingType+'" data-cftcat="HPHeader" data-cftact="Shortlist" data-cftlabl="delete"></span></div><div class="shortlist-remove hide"><p class="floatLeft p-remove">Removed from Shortlist</p><button class="btn btn-lg btn-default shortlisting-undo-remove">Undo</button></div></div>'}function v(){i.ajax({url:T,method:"GET",success:function(e){e&&g(parseInt(i.parseJSON(e)[0].count))},error:function(){alert("Unable to connect to CommonFloor server")}})}function g(e){var t=(i("#shortlist"),e);0!==t?(i("#shortlist .notif-count").show().text(t).prev(".short-list-icon").removeClass("icon-grey-heart").addClass("icon-orange-heart"),i(".not-shortlisted-txt").hide(),i(".shortlisted-txt").show()):(i("#shortlist .notif-count").hide().text("").prev(".short-list-icon").addClass("icon-grey-heart").removeClass("icon-orange-heart"),i(".not-shortlisted-txt").show(),i(".shortlisted-txt").hide())}function y(){i(".content-wrapper div.listing-div").hover(function(){i(this).find(".shortlist-delete").removeClass("hide")},function(){i(this).find(".shortlist-delete").addClass("hide")})}function w(e){var t,n=i(e).closest(".listing-div"),s=i(e).attr("lid"),a=i(e).attr("ltype");return b(s)?(n.find(".listing-info").addClass("hide"),n.find(".shortlist-remove").removeClass("hide"),t=setTimeout(function(){r.updateShortlistItem(s,"remove",a,function(){x(n),k(s),r.alreadyRunningFlag[s]=!1,delete S[s]},function(){},function(){})},5e3),void(S[s]=t)):!1}function b(e){return"undefined"!=typeof r.alreadyRunningFlag[e]&&1==r.alreadyRunningFlag[e]?!1:(r.alreadyRunningFlag[e]=!0,!0)}function x(e){f(_,function(){e.fadeOut(200,function(){e.remove();var t=i("#shortlist .notif-count").text();""===t&&(t=0);var n=parseInt(t);n-=1,g(n),i(".shortlist-heading .shortlist-count").text(n)})})}function _(e){e.length>=4?(i(".content-wrapper").append(m(e[3])),c(),y()):0==e.length&&s()}function E(e){var t=i(e).closest(".listing-div"),n=t.find(".shortlist-delete").attr("lid");clearTimeout(S[n]),t.find(".shortlist-remove").addClass("hide"),t.find(".listing-info").removeClass("hide"),r.alreadyRunningFlag[n]=!1}function k(e){i('[data-cf-role="shortlist"]').each(function(){var t=i(this).data("lid");e==t&&i(this).hasClass("shortlisted")&&i(this).removeClass("shortlisted")})}function C(){i(".shortlist-mylist .listing-div").each(function(){var e=i(this).find(".full-detail").text(),t=e.length;t>50&&i(this).find(".full-detail").text(e.substring(0,45)+"...")})}var S={},A="/shortlist/index/get-short-list-items?h_r=1",T="/shortlist/index/get-short-listing-count?",N=i(".shortlist-wrapper"),O=i("#shortlist-wrap-box");return{init:e}}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./shortlistAPIs":19}],18:[function(e,t){(function(n){var i="undefined"!=typeof window?window.jQuery:"undefined"!=typeof n?n.jQuery:null,r=e("./shortlistAPIs");t.exports=function(){var e=function(e,n){i(e).on("click",n,function(e){t(this,e)})},t=function(e,t){t.preventDefault(),t.stopPropagation();var l=i(e).data("lid"),d=i(e).data("type");i(e).hasClass("shortlisted")?u(e,l,d):r.isUserLoggedIn()?(s(!0),a(e,!0),o(e,l,d)):n(l,d)},n=function(e,t){var n=(i(".listing_details_main"),window.location.pathname);if(0!=i(".search_tb").length){var r=window.location.href.split("?");n+="?slId="+e+"&"+r[1]}var s="/shortlist/index/add-update-short-list-item?lid="+e+"&l_type="+t+"&redirectURL="+encodeURIComponent(encodeURIComponent(n)),a="https://"+window.location.host+"/authorize/signin?redirect_url="+encodeURIComponent(s);window.location.href=a},s=function(e){e?i("#listing_loader").css("display","block"):i("#listing_loader").css("display","none")},a=function(e,t){t?(i(e).addClass("shortlisted"),i(e).find(".shortlist-txt").text("Shorlisted"),""!==i(e).data("sl-dependent")&&(i("#"+i(e).data("sl-dependent")).addClass("shortlisted"),"project snippet"===i(e).attr("data-cftcat")?i(e).attr("data-cftlabl","project listing snippet shortlist removed clicked"):i(e).attr("data-cftlabl","shortlist removed clicked"))):(i(e).removeClass("shortlisted"),i(e).find(".shortlist-txt").text("Shorlist"),""!==i(e).data("sl-dependent")&&(i("#"+i(e).data("sl-dependent")).removeClass("shortlisted"),"project snippet"===i(e).attr("data-cftcat")?i(e).attr("data-cftlabl","project listing snippet shortlist clicked"):i(e).attr("data-cftlabl","shortlist clicked")))},o=function(e,t){r.addUpdateShortlist(t,function(t){1===t.status&&(a(e,!0),d(!0))},function(){a(e,!1)},l)},l=function(){s(!1)},d=function(e){var t=i("#shortlist .notif-count").text();""===t&&(t=0);var n=parseInt(t);e?(i("#shortlist .notif-count").show().text(++n),i("#shortlist .short-list-icon").removeClass("icon-grey-heart").addClass("icon-orange-heart")):(i("#shortlist .notif-count").show().text(--n),0===n&&(i("#shortlist .notif-count").hide(),i("#shortlist .short-list-icon").removeClass("icon-orange-heart").addClass("icon-grey-heart")))},u=function(e,t,n){return s(!0),c(t)?void r.updateShortlistItem(t,"remove",n,function(n){1===n.status&&(a(e,!1),d(!1)),r.alreadyRunningFlag[t]=!1},function(){a(e,!1)},l):!1},c=function(e){return"undefined"!=typeof r.alreadyRunningFlag[e]&&1==r.alreadyRunningFlag[e]?!1:(r.alreadyRunningFlag[e]=!0,!0)};return{cfShortlist:e}}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./shortlistAPIs":19}],19:[function(e,t){(function(e){var n="undefined"!=typeof window?window.jQuery:"undefined"!=typeof e?e.jQuery:null;t.exports=function(){var e="/shortlist/index/add-short-list-item",t="/shortlist/index/is-short-list-item",i="/shortlist/index/update-short-list-item",r="/shortlist/index/get-shortlisted-list-ids",s="/shortlist/index/add-update-short-list-item";alreadyRunningFlag=[];var a=function(e,t,i,r){return"undefined"!=typeof alreadyRunningFlag[e]&&1==alreadyRunningFlag[e]?!1:(alreadyRunningFlag[e]=!0,void n.ajax({url:s,method:"GET",dataType:"json",data:{lid:e},success:function(e){t(e)},error:function(e){alert("Unable to connect to CommonFloor server"),i(e)},complete:function(t){alreadyRunningFlag[e]=!1,r(t)}}))},o=function(e){n.ajax({url:r,method:"GET",dataType:"json",success:function(t){e(t)},error:function(){alert("Unable to connect to CommonFloor server")}})},l=function(e,i){n.ajax({url:t,method:"GET",dataType:"json",data:{lid:e},success:function(e){i(e)},error:function(){alert("Unable to connect to CommonFloor server"),alreadyRunningFlag[e]=!1}})},d=function(e,t,r,s,a){n.ajax({url:i,method:"GET",dataType:"json",data:{lid:e,del:t},success:function(e){r(e)},error:function(e){alert("Unable to connect to CommonFloor server"),s(e)},complete:function(t){alreadyRunningFlag[e]=!1,a(t)}})},u=function(e,t,n,i,r,s){l(e,function(a){1===a.status?"add"===t?d(e,0,i,r,s):d(e,1,i,r,s):"add"===t&&c(e,n,i,r,s)})},c=function(t,i,r,s,a){n.ajax({url:e,method:"GET",dataType:"json",data:{lid:t,l_type:i},success:function(e){void 0!==r&&r(e)},error:function(e){alert("Unable to connect to CommonFloor server"),s(e)},complete:function(e){a(e)}})},h=function(){return n("#hv-isLoggedIn").length>0&&"1"==n("#hv-isLoggedIn").val()?!0:!1};return{updateShortlistItem:u,checkIfItemInShortlist:l,getUserShortlistListingIds:o,addUpdateShortlist:a,isUserLoggedIn:h,alreadyRunningFlag:alreadyRunningFlag}}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],20:[function(e,t){(function(e){var n="undefined"!=typeof window?window.jQuery:"undefined"!=typeof e?e.jQuery:null;t.exports=function(){function e(){t()}function t(){n("#searchResultsWidget").on("click",".quick-view-btn",function(){n(this).children("span").hasClass("icon-circle-down")?n(this).children("span").attr("data-cftlabl","quick view collapsed clicked"):n(this).children("span").attr("data-cftlabl","quick view clicked"),n(this).children("span").toggleClass("icon-circle-down icon-circle-up").parents(".col-md-12").next(".col-md-12").children(".quick-overview").slideToggle()}),n("#searchResultsWidget").on("click",".full-dtl-icon",function(){n(this).hasClass("icon-chevron-down")?n(this).attr("data-cftlabl","project listing snippet quick view collapsed clicked"):n(this).attr("data-cftlabl","project listing snippet quick view clicked"),n(this).toggleClass("icon-chevron-down icon-chevron-up").parents(".dtls-lstng").next(".quick-overview").slideToggle()}),n("#searchResultsWidget").find(".pro-full-desc").each(function(){i(n(this))})}var i=function(e){var t=e,n=t.html(),i=n.substring(0,400),r=t.data("url"),s=i+'... <a href=" '+r+' " target="_blank">Show More</a>',a=t.text().length,o=function(){a>400&&t.html(s)};o()};return{init:e}}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],21:[function(){!function(e){"use strict";e.fn.cfLazyLoader=function(){function t(t){if(t&&t.preventDefault(),"html"===n.cfcetype)e.ajax({url:n.cfcepath,dataType:"html"}).done(function(t){e(n.cfcetarget).append(t),e.isFunction(window[n.cfcecb])&&window[n.cfcecb].call(),"#featuredProjectsLazyload"!=n.cfcetarget&&"#featured_ads_more"!=n.cfcetarget||void 0===e.cfitrack||e(".feature_unit").cfitrack()}).fail(function(){console.log("Failed to fetch from "+n.cfcepath)});else if("script"===n.cfcetype){var i=document.createElement("script");i.setAttribute("type","text/javascript"),i.setAttribute("src",n.cfcepath),e(n.cfcetarget).append(i),e.isFunction(window[n.cfcecb])&&window[n.cfcecb].call()}}var n=e.extend({cfceev:"onload",cfcetype:"html",cfcetarget:"body",cfceinit:!0,cfcecb:null},this.data());try{if(!n.cfcepath)throw"missing Path";var i={};if(i.name=n.cfceev,i.name.indexOf("on")>-1)i.name=i.name.substring([2]);else if(i.name.indexOf("time")>-1){var r=parseInt(i.name.match(/\d+$/),10);if(!r)throw"missing Delay";i.name="delay",i.delay=r}switch(i.name){case"load":t();break;case"mouseenter":case"click":case"inview":this.one(i.name,t);break;case"delay":window.setTimeout(t,i.delay);break;default:throw"missing Event"}}catch(s){console.log("You are "+s+" in data attributes")}return this},window.addEventListener("load",function(){e(".cfce").each(function(){"true"!=e(this).attr("data-inview")&&e(this).cfLazyLoader()})},!1)}(jQuery),function(e){"use strict";function t(e){e=e[0];var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function n(){var n=e(".cfce").filter(function(){return"true"==e(this).attr("data-inview")&&!e(this).attr("data-initialised")});n.each(function(){var n=e(this);!n.attr("data-initialised")&&t(n)&&(n.cfLazyLoader(),n.attr("data-initialised","true"),window.setTimeout(function(){n.trigger("inview")},500))})}e(window).on("DOMContentLoaded load resize scroll",n)}(jQuery)},{}],22:[function(e,t){t.exports=function(){function e(e,t,n,i,r,s){for(var a=0,o=["webkit","moz","ms","o"],l=0;l<o.length&&!window.requestAnimationFrame;++l)window.requestAnimationFrame=window[o[l]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[o[l]+"CancelAnimationFrame"]||window[o[l]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-a)),i=window.setTimeout(function(){e(t+n)},n);return a=t+n,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)}),this.options=s||{useEasing:!0,useGrouping:!0,separator:",",decimal:"."},""==this.options.separator&&(this.options.useGrouping=!1),null==this.options.prefix&&(this.options.prefix=""),null==this.options.suffix&&(this.options.suffix="");var d=this;this.d="string"==typeof e?document.getElementById(e):e,this.startVal=Number(t),this.endVal=Number(n),this.countDown=this.startVal>this.endVal?!0:!1,this.startTime=null,this.timestamp=null,this.remaining=null,this.frameVal=this.startVal,this.rAF=null,this.decimals=Math.max(0,i||0),this.dec=Math.pow(10,this.decimals),this.duration=1e3*r||2e3,this.version=function(){return"1.3.2"},this.printValue=function(e){var t=isNaN(e)?"--":d.formatNumber(e);"INPUT"==d.d.tagName?this.d.value=t:"text"==d.d.tagName?this.d.textContent=t:this.d.innerHTML=t},this.easeOutExpo=function(e,t,n,i){return n*(-Math.pow(2,-10*e/i)+1)*1024/1023+t},this.count=function(e){null===d.startTime&&(d.startTime=e),d.timestamp=e;var t=e-d.startTime;if(d.remaining=d.duration-t,d.options.useEasing)if(d.countDown){var n=d.easeOutExpo(t,0,d.startVal-d.endVal,d.duration);d.frameVal=d.startVal-n}else d.frameVal=d.easeOutExpo(t,d.startVal,d.endVal-d.startVal,d.duration);else if(d.countDown){var n=(d.startVal-d.endVal)*(t/d.duration);d.frameVal=d.startVal-n}else d.frameVal=d.startVal+(d.endVal-d.startVal)*(t/d.duration);d.frameVal=d.countDown?d.frameVal<d.endVal?d.endVal:d.frameVal:d.frameVal>d.endVal?d.endVal:d.frameVal,d.frameVal=Math.round(d.frameVal*d.dec)/d.dec,d.printValue(d.frameVal),t<d.duration?d.rAF=requestAnimationFrame(d.count):null!=d.callback&&d.callback()},this.start=function(e){return d.callback=e,isNaN(d.endVal)||isNaN(d.startVal)?(console.log("countUp error: startVal or endVal is not a number"),d.printValue()):d.rAF=requestAnimationFrame(d.count),!1},this.stop=function(){cancelAnimationFrame(d.rAF)},this.reset=function(){d.startTime=null,d.startVal=t,cancelAnimationFrame(d.rAF),d.printValue(d.startVal)},this.resume=function(){d.stop(),d.startTime=null,d.duration=d.remaining,d.startVal=d.frameVal,requestAnimationFrame(d.count)},this.formatNumber=function(e){e=e.toFixed(d.decimals),e+="";var t,n,i,r;if(t=e.split("."),n=t[0],i=t.length>1?d.options.decimal+t[1]:"",r=/(\d+)(\d{3})/,d.options.useGrouping)for(;r.test(n);)n=n.replace(r,"$1"+d.options.separator+"$2");return d.options.prefix+n+i+d.options.suffix},d.printValue(d.startVal)}return e}()},{}],23:[function(require,module,exports){!function($){$.flexslider=function(el,options){var slider=$(el);this.slider=slider,slider.vars=$.extend({},$.flexslider.defaults,options);var earlyllpx=200,llFirstSlidePending=!1;llFirstSlidePending="undefined"==typeof slider.vars.llFirstSlidePending||slider.vars.llFirstSlidePending?!0:!1,(0==$.trim(slider.vars.nextElem).length||0==$.trim(slider.vars.prevElem).length)&&(slider.vars.nextElem="",slider.vars.prevElem="");var namespace=slider.vars.namespace,msGesture=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,touch=("ontouchstart"in window||msGesture||window.DocumentTouch&&document instanceof DocumentTouch)&&slider.vars.touch,eventType=slider.vars.eventType,watchedEvent="",watchedEventClearTimer,vertical="vertical"===slider.vars.direction,reverse=slider.vars.reverse,carousel=slider.vars.itemWidth>0,fade="fade"===slider.vars.animation,asNav=""!==slider.vars.asNavFor,methods={},focused=!0;$.data(el,"flexslider",slider),methods={init:function(){slider.animating=!1,slider.currentSlide=parseInt(slider.vars.startAt?slider.vars.startAt:0),isNaN(slider.currentSlide)&&(slider.currentSlide=0),slider.animatingTo=slider.currentSlide,slider.atEnd=0===slider.currentSlide||slider.currentSlide===slider.last,slider.containerSelector=slider.vars.selector.substr(0,slider.vars.selector.search(" ")),slider.slides=$(slider.vars.selector,slider),slider.container=$(slider.containerSelector,slider),slider.count=slider.slides.length,slider.vars.lazyload&&(methods.addBorderToSlides(),methods.lazyload()),slider.syncExists=$(slider.vars.sync).length>0,"slide"===slider.vars.animation&&(slider.vars.animation="swing"),slider.prop=vertical?"top":"marginLeft",slider.args={},slider.manualPause=!1,slider.stopped=!1,slider.started=!1,slider.startTimeout=null,slider.transitions=!slider.vars.video&&!fade&&slider.vars.useCSS&&function(){var e=document.createElement("div"),t=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var n in t)if(void 0!==e.style[t[n]])return slider.pfx=t[n].replace("Perspective","").toLowerCase(),slider.prop="-"+slider.pfx+"-transform",!0;return!1}(),""!==slider.vars.controlsContainer&&(slider.controlsContainer=$(slider.vars.controlsContainer).length>0&&$(slider.vars.controlsContainer)),""!==slider.vars.manualControls&&(slider.manualControls=$(slider.vars.manualControls).length>0&&$(slider.vars.manualControls)),slider.vars.randomize&&(slider.slides.sort(function(){return Math.round(Math.random())-.5}),slider.container.empty().append(slider.slides)),slider.doMath(),slider.setup("init"),slider.vars.controlNav&&methods.controlNav.setup(),slider.vars.directionNav&&methods.directionNav.setup(),slider.vars.keyboard&&(1===$(slider.containerSelector).length||slider.vars.multipleKeyboard)&&$(document).bind("keyup",function(e){var t=e.keyCode;if(!slider.animating&&(39===t||37===t)){var n=39===t?slider.getTarget("next"):37===t?slider.getTarget("prev"):!1;slider.flexAnimate(n,slider.vars.pauseOnAction)}}),slider.vars.mousewheel&&slider.bind("mousewheel",function(e,t){e.preventDefault();var n=slider.getTarget(0>t?"next":"prev");slider.flexAnimate(n,slider.vars.pauseOnAction)}),slider.vars.pausePlay&&methods.pausePlay.setup(),slider.vars.slideshow&&slider.vars.pauseInvisible&&methods.pauseInvisible.init(),slider.vars.slideshow&&(slider.vars.pauseOnHover&&slider.hover(function(){slider.manualPlay||slider.manualPause||slider.pause()},function(){slider.manualPause||slider.manualPlay||slider.stopped||slider.play()}),slider.vars.pauseInvisible&&methods.pauseInvisible.isHidden()||(slider.vars.initDelay>0?slider.startTimeout=setTimeout(slider.play,slider.vars.initDelay):slider.play())),asNav&&methods.asNav.setup(),touch&&slider.vars.touch&&methods.touch(),(!fade||fade&&slider.vars.smoothHeight)&&$(window).bind("resize orientationchange focus",methods.resize),slider.find("img").attr("draggable","false"),setTimeout(function(){slider.vars.start(slider)},200)},asNav:{setup:function(){slider.asNav=!0,slider.animatingTo=Math.floor(slider.currentSlide/slider.move),slider.currentItem=slider.currentSlide,slider.slides.removeClass(namespace+"active-slide").eq(slider.currentItem).addClass(namespace+"active-slide"),msGesture?(el._slider=slider,slider.slides.each(function(){var e=this;e._gesture=new MSGesture,e._gesture.target=e,e.addEventListener("MSPointerDown",function(e){e.preventDefault(),e.currentTarget._gesture&&e.currentTarget._gesture.addPointer(e.pointerId)},!1),e.addEventListener("MSGestureTap",function(e){e.preventDefault();var t=$(this),n=t.index();$(slider.vars.asNavFor).data("flexslider").animating||t.hasClass("active")||(slider.direction=slider.currentItem<n?"next":"prev",slider.flexAnimate(n,slider.vars.pauseOnAction,!1,!0,!0))})})):slider.slides.click(function(e){e.preventDefault();var t=$(this),n=t.index(),i=t.offset().left-$(slider).scrollLeft();0>=i&&t.hasClass(namespace+"active-slide")?slider.flexAnimate(slider.getTarget("prev"),!0):$(slider.vars.asNavFor).data("flexslider").animating||t.hasClass(namespace+"active-slide")||(slider.direction=slider.currentItem<n?"next":"prev",slider.flexAnimate(n,slider.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){slider.manualControls?methods.controlNav.setupManual():methods.controlNav.setupPaging()},setupPaging:function(){var e,t,n="thumbnails"===slider.vars.controlNav?"control-thumbs":"control-paging",i=1;if(slider.controlNavScaffold=$('<ol class="'+namespace+"control-nav "+namespace+n+'"></ol>'),slider.pagingCount>1)for(var r=0;r<slider.pagingCount;r++){if(t=slider.slides.eq(r),e="thumbnails"===slider.vars.controlNav?'<img src="'+t.attr("data-thumb")+'"/>':"<a>"+i+"</a>","thumbnails"===slider.vars.controlNav&&!0===slider.vars.thumbCaptions){var s=t.attr("data-thumbcaption");""!=s&&void 0!=s&&(e+='<span class="'+namespace+'caption">'+s+"</span>")}slider.controlNavScaffold.append("<li>"+e+"</li>"),i++}slider.controlsContainer?$(slider.controlsContainer).append(slider.controlNavScaffold):slider.append(slider.controlNavScaffold),methods.controlNav.set(),methods.controlNav.active(),slider.controlNavScaffold.delegate("a, img",eventType,function(e){if(e.preventDefault(),""===watchedEvent||watchedEvent===e.type){var t=$(this),n=slider.controlNav.index(t);t.hasClass(namespace+"active")||(slider.direction=n>slider.currentSlide?"next":"prev",slider.flexAnimate(n,slider.vars.pauseOnAction))}""===watchedEvent&&(watchedEvent=e.type),methods.setToClearWatchedEvent()})},setupManual:function(){slider.controlNav=slider.manualControls,methods.controlNav.active(),slider.controlNav.bind(eventType,function(e){if(e.preventDefault(),""===watchedEvent||watchedEvent===e.type){var t=$(this),n=slider.controlNav.index(t);t.hasClass(namespace+"active")||(slider.direction=n>slider.currentSlide?"next":"prev",slider.flexAnimate(n,slider.vars.pauseOnAction))}""===watchedEvent&&(watchedEvent=e.type),methods.setToClearWatchedEvent()})},set:function(){var e="thumbnails"===slider.vars.controlNav?"img":"a";slider.controlNav=$("."+namespace+"control-nav li "+e,slider.controlsContainer?slider.controlsContainer:slider)},active:function(){slider.controlNav.removeClass(namespace+"active").eq(slider.animatingTo).addClass(namespace+"active")},update:function(e,t){slider.pagingCount>1&&"add"===e?slider.controlNavScaffold.append($("<li><a>"+slider.count+"</a></li>")):1===slider.pagingCount?slider.controlNavScaffold.find("li").remove():slider.controlNav.eq(t).closest("li").remove(),methods.controlNav.set(),slider.pagingCount>1&&slider.pagingCount!==slider.controlNav.length?slider.update(t,e):methods.controlNav.active()}},directionNav:{setup:function(){if(0==$.trim(slider.vars.nextElem).length){var e=$('<ul class="'+namespace+'direction-nav"><li><a class="'+namespace+'prev" href="#">'+slider.vars.prevText+'</a></li><li><a class="'+namespace+'next" href="#">'+slider.vars.nextText+"</a></li></ul>");slider.controlsContainer?($(slider.controlsContainer).append(e),slider.directionNav=$("."+namespace+"direction-nav li a",slider.controlsContainer)):(slider.append(e),slider.directionNav=$("."+namespace+"direction-nav li a",slider)),methods.directionNav.update(),slider.directionNav.bind(eventType,function(e){e.preventDefault();var t;(""===watchedEvent||watchedEvent===e.type)&&(t=slider.getTarget($(this).hasClass(namespace+"next")?"next":"prev"),slider.flexAnimate(t,slider.vars.pauseOnAction)),""===watchedEvent&&(watchedEvent=e.type),methods.setToClearWatchedEvent()})}else $(slider.vars.prevElem).addClass(namespace+"prev"),$(slider.vars.nextElem).addClass(namespace+"next"),slider.directionNav=[],"string"==typeof slider.vars.prevElem?slider.directionNav=slider.find(slider.vars.prevElem).length>0?$.merge(slider.directionNav,slider.find(slider.vars.prevElem)):$.merge(slider.directionNav,$(slider.vars.prevElem)):slider.directionNav.push(slider.vars.prevElem),"string"==typeof slider.vars.nextElem?slider.directionNav=slider.find(slider.vars.nextElem).length>0?$.merge(slider.directionNav,slider.find(slider.vars.nextElem)):$.merge(slider.directionNav,$(slider.vars.nextElem)):slider.directionNav.push(slider.vars.nextElem),slider.directionNav=jQuery(slider.directionNav),methods.directionNav.update(),slider.directionNav.bind(eventType,function(e){e.preventDefault();var t;(""===watchedEvent||watchedEvent===e.type)&&(t=slider.getTarget($(this).hasClass(namespace+"next")?"next":"prev"),slider.flexAnimate(t,slider.vars.pauseOnAction)),""===watchedEvent&&(watchedEvent=e.type),methods.setToClearWatchedEvent()})},update:function(){var e=0==$.trim(slider.vars.disabledClass).length?namespace+"disabled":slider.vars.disabledClass;1===slider.pagingCount?slider.directionNav.addClass(e).attr("tabindex","-1"):slider.vars.animationLoop?slider.directionNav.removeClass(e).removeAttr("tabindex"):0===slider.animatingTo?slider.directionNav.removeClass(e).filter("."+namespace+"prev").addClass(e).attr("tabindex","-1"):slider.animatingTo===slider.last?slider.directionNav.removeClass(e).filter("."+namespace+"next").addClass(e).attr("tabindex","-1"):slider.directionNav.removeClass(e).removeAttr("tabindex")}},pausePlay:{setup:function(){var e=$('<div class="'+namespace+'pauseplay"><a></a></div>');slider.controlsContainer?(slider.controlsContainer.append(e),slider.pausePlay=$("."+namespace+"pauseplay a",slider.controlsContainer)):(slider.append(e),slider.pausePlay=$("."+namespace+"pauseplay a",slider)),methods.pausePlay.update(slider.vars.slideshow?namespace+"pause":namespace+"play"),slider.pausePlay.bind(eventType,function(e){e.preventDefault(),(""===watchedEvent||watchedEvent===e.type)&&($(this).hasClass(namespace+"pause")?(slider.manualPause=!0,slider.manualPlay=!1,slider.pause()):(slider.manualPause=!1,slider.manualPlay=!0,slider.play())),""===watchedEvent&&(watchedEvent=e.type),methods.setToClearWatchedEvent()})},update:function(e){"play"===e?slider.pausePlay.removeClass(namespace+"pause").addClass(namespace+"play").html(slider.vars.playText):slider.pausePlay.removeClass(namespace+"play").addClass(namespace+"pause").html(slider.vars.pauseText)}},touch:function(){function e(e){slider.animating?e.preventDefault():(window.navigator.msPointerEnabled||1===e.touches.length)&&(slider.pause(),d=vertical?slider.h:slider.w,c=Number(new Date),f=e.touches[0].pageX,p=e.touches[0].pageY,l=carousel&&reverse&&slider.animatingTo===slider.last?0:carousel&&reverse?slider.limit-(slider.itemW+slider.vars.itemMargin)*slider.move*slider.animatingTo:carousel&&slider.currentSlide===slider.last?slider.limit:carousel?(slider.itemW+slider.vars.itemMargin)*slider.move*slider.currentSlide:reverse?(slider.last-slider.currentSlide+slider.cloneOffset)*d:(slider.currentSlide+slider.cloneOffset)*d,a=vertical?p:f,o=vertical?f:p,el.addEventListener("touchmove",t,!1),el.addEventListener("touchend",n,!1))}function t(e){f=e.touches[0].pageX,p=e.touches[0].pageY,u=vertical?a-p:a-f,h=vertical?Math.abs(u)<Math.abs(f-o):Math.abs(u)<Math.abs(p-o);var t=500;(!h||Number(new Date)-c>t)&&(e.preventDefault(),!fade&&slider.transitions&&(slider.vars.animationLoop||(u/=0===slider.currentSlide&&0>u||slider.currentSlide===slider.last&&u>0?Math.abs(u)/d+2:1),slider.setProps(l+u,"setTouch")))}function n(){if(el.removeEventListener("touchmove",t,!1),slider.animatingTo===slider.currentSlide&&!h&&null!==u){var e=reverse?-u:u,i=slider.getTarget(e>0?"next":"prev");slider.canAdvance(i)&&(Number(new Date)-c<550&&Math.abs(e)>50||Math.abs(e)>d/2)?slider.flexAnimate(i,slider.vars.pauseOnAction):fade||slider.flexAnimate(slider.currentSlide,slider.vars.pauseOnAction,!0)}el.removeEventListener("touchend",n,!1),a=null,o=null,u=null,l=null}function i(e){e.stopPropagation(),slider.animating?e.preventDefault():(slider.pause(),el._gesture.addPointer(e.pointerId),m=0,d=vertical?slider.h:slider.w,c=Number(new Date),l=carousel&&reverse&&slider.animatingTo===slider.last?0:carousel&&reverse?slider.limit-(slider.itemW+slider.vars.itemMargin)*slider.move*slider.animatingTo:carousel&&slider.currentSlide===slider.last?slider.limit:carousel?(slider.itemW+slider.vars.itemMargin)*slider.move*slider.currentSlide:reverse?(slider.last-slider.currentSlide+slider.cloneOffset)*d:(slider.currentSlide+slider.cloneOffset)*d)}function r(e){e.stopPropagation();var t=e.target._slider;if(t){var n=-e.translationX,i=-e.translationY;return m+=vertical?i:n,u=m,h=vertical?Math.abs(m)<Math.abs(-n):Math.abs(m)<Math.abs(-i),e.detail===e.MSGESTURE_FLAG_INERTIA?void setImmediate(function(){el._gesture.stop()}):void((!h||Number(new Date)-c>500)&&(e.preventDefault(),!fade&&t.transitions&&(t.vars.animationLoop||(u=m/(0===t.currentSlide&&0>m||t.currentSlide===t.last&&m>0?Math.abs(m)/d+2:1)),t.setProps(l+u,"setTouch"))))}}function s(e){e.stopPropagation();var t=e.target._slider;if(t){if(t.animatingTo===t.currentSlide&&!h&&null!==u){var n=reverse?-u:u,i=t.getTarget(n>0?"next":"prev");t.canAdvance(i)&&(Number(new Date)-c<550&&Math.abs(n)>50||Math.abs(n)>d/2)?t.flexAnimate(i,t.vars.pauseOnAction):fade||t.flexAnimate(t.currentSlide,t.vars.pauseOnAction,!0)}a=null,o=null,u=null,l=null,m=0}}var a,o,l,d,u,c,h=!1,f=0,p=0,m=0;msGesture?(el.style.msTouchAction="none",el._gesture=new MSGesture,el._gesture.target=el,el.addEventListener("MSPointerDown",i,!1),el._slider=slider,el.addEventListener("MSGestureChange",r,!1),el.addEventListener("MSGestureEnd",s,!1)):el.addEventListener("touchstart",e,!1)
},resize:function(){!slider.animating&&slider.is(":visible")&&(carousel||slider.doMath(),fade?methods.smoothHeight():carousel?(slider.slides.width(slider.computedW),slider.update(slider.pagingCount),slider.setProps()):vertical?(slider.viewport.height(slider.h),slider.setProps(slider.h,"setTotal")):(slider.vars.smoothHeight&&methods.smoothHeight(),slider.newSlides.width(slider.computedW),slider.setProps(slider.computedW,"setTotal")))},smoothHeight:function(e){if(!vertical||fade){var t=fade?slider:slider.viewport;e?t.animate({height:slider.slides.eq(slider.animatingTo).height()},e):t.height(slider.slides.eq(slider.animatingTo).height())}},sync:function(e){var t=$(slider.vars.sync).data("flexslider"),n=slider.animatingTo;switch(e){case"animate":t.flexAnimate(n,slider.vars.pauseOnAction,!1,!0);break;case"play":t.playing||t.asNav||t.play();break;case"pause":t.pause()}},pauseInvisible:{visProp:null,init:function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)e[t]+"Hidden"in document&&(methods.pauseInvisible.visProp=e[t]+"Hidden");if(methods.pauseInvisible.visProp){var n=methods.pauseInvisible.visProp.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(n,function(){methods.pauseInvisible.isHidden()?slider.startTimeout?clearTimeout(slider.startTimeout):slider.pause():slider.started?slider.play():slider.vars.initDelay>0?setTimeout(slider.play,slider.vars.initDelay):slider.play()})}},isHidden:function(){return document[methods.pauseInvisible.visProp]||!1}},setToClearWatchedEvent:function(){clearTimeout(watchedEventClearTimer),watchedEventClearTimer=setTimeout(function(){watchedEvent=""},3e3)},lazyload:function(target){function LazyloadUnveil(elem){if("undefined"!=typeof elem.attr(slider.vars.llAttrib)){var beforell=slider.vars.beforeLazyload,afterll=slider.vars.afterLazyload;"undefined"!=typeof elem.attr(slider.vars.beforellAttrib)&&(beforell=eval(elem.attr(slider.vars.beforellAttrib))),"undefined"!=typeof elem.attr(slider.vars.afterllAttrib)&&(afterll=eval(elem.attr(slider.vars.afterllAttrib)));var imageValue=elem.attr(slider.vars.llAttrib);if("img"===elem.prop("tagName").toLowerCase())elem.removeClass(namespace+"lazyload"),elem.removeAttr(slider.vars.llAttrib),elem.addClass("lazy_load_image"),elem.attr("data-src",imageValue),$(document).ready(function(){elem.unveil(earlyllpx,function(){elem.removeClass("lazy_load_image")})});else{var imageObj=new Image;imageObj.onerror=imageObj.onload=function(e){elem.removeClass(namespace+"lazyload"),elem.removeAttr(slider.vars.llAttrib),elem.css("background",imageValue),afterll(slider,imageObj,e)};var url=imageValue;url=url.substr(url.indexOf("(")+2,url.substr(url.indexOf("(")+2).indexOf(")")-1),beforell(slider,imageObj),imageObj.src=url,imageObj.bg=imageValue}}for(var children=elem.children(),i=0;i<children.length;i++)LazyloadUnveil(children.eq(i))}function recursiveLazyload(elem){if(void 0!==elem.attr(slider.vars.llAttrib)){var beforell=slider.vars.beforeLazyload,afterll=slider.vars.afterLazyload,imageObj=elem[0];void 0!==elem.attr(slider.vars.beforellAttrib)&&(beforell=eval(elem.attr(slider.vars.beforellAttrib))),void 0!==elem.attr(slider.vars.afterllAttrib)&&(afterll=eval(elem.attr(slider.vars.afterllAttrib)));var imageValue=elem.attr(slider.vars.llAttrib);if("img"==elem.prop("tagName").toLowerCase()){var imageObj=new Image;imageObj.onerror=imageObj.onload=function(e){elem.removeClass(namespace+"lazyload"),elem.removeAttr(slider.vars.llAttrib),elem.attr("src",this.src),afterll(slider,imageObj,e)},beforell(slider,imageObj),imageObj.src=imageValue}else{var imageObj=new Image;imageObj.onerror=imageObj.onload=function(e){elem.removeClass(namespace+"lazyload"),elem.removeAttr(slider.vars.llAttrib),elem.css("background",imageValue),afterll(slider,imageObj,e)};var url=imageValue;url=url.substr(url.indexOf("(")+2,url.substr(url.indexOf("(")+2).indexOf(")")-1),beforell(slider,imageObj),imageObj.src=url,imageObj.bg=imageValue}}for(var children=elem.children(),i=0;i<children.length;i++)recursiveLazyload(children.eq(i))}if(slider.vars.lazyload){var curSlideContent,sliders_per_page;if(sliders_per_page=void 0!==slider.visible?slider.visible:slider.vars.maxItems,1==llFirstSlidePending){if("number"==typeof target||void 0===target){target=target?target:slider.currentSlide;for(var i=0;sliders_per_page>i;i++)curSlideContent=slider.slides[(target-1)*sliders_per_page+slider.vars.maxItems+i],LazyloadUnveil($(curSlideContent))}else LazyloadUnveil($(target));llFirstSlidePending=!1}else if("number"==typeof target||void 0===target){target=target?target:slider.currentSlide;for(var i=0;sliders_per_page>i;i++)curSlideContent=slider.slides[(target-1)*sliders_per_page+slider.vars.maxItems+i],recursiveLazyload($(curSlideContent))}else recursiveLazyload($(target))}},addBorderToSlides:function(){for(var e=slider.slides.length,t=0;e>t;t++)$(slider.slides[t]).addClass("flex-slide-margin")}},slider.flexAnimate=function(e,t,n,i,r){return slider.moveToSlide(e,!1,t,n,i,r)},slider.moveToSlide=function(e,t,n,i,r,s){if(0>e||e>=slider.count)return!1;if(slider.vars.animationLoop||e===slider.currentSlide||(slider.direction=e>slider.currentSlide?"next":"prev"),asNav&&1===slider.pagingCount&&(slider.direction=slider.currentItem<e?"next":"prev"),!slider.animating&&(slider.canAdvance(e,s)||i)&&slider.is(":visible")){if(asNav&&r){var a=$(slider.vars.asNavFor).data("flexslider");if(slider.atEnd=0===e||e===slider.count-1,a.flexAnimate(e,!0,!1,!0,s),slider.direction=slider.currentItem<e?"next":"prev",a.direction=slider.direction,Math.ceil((e+1)/slider.visible)-1===slider.currentSlide||0===e)return slider.currentItem=e,slider.slides.removeClass(namespace+"active-slide").eq(e).addClass(namespace+"active-slide"),!1;slider.currentItem=e,slider.slides.removeClass(namespace+"active-slide").eq(e).addClass(namespace+"active-slide"),e=Math.floor(e/slider.visible)}var o=slider.animating,l=slider.animatingTo;slider.animating=!0,slider.animatingTo=e;var d=slider.vars.before(slider);if(d===!1)return slider.animating=o,void(slider.animatingTo=l);if(n&&slider.pause(),slider.vars.lazyload&&methods.lazyload(e),slider.syncExists&&!s&&methods.sync("animate"),slider.vars.controlNav&&methods.controlNav.active(),carousel||slider.slides.removeClass(namespace+"active-slide").eq(e).addClass(namespace+"active-slide"),slider.atEnd=0===e||e===slider.last,slider.vars.directionNav&&methods.directionNav.update(),e===slider.last&&(slider.vars.end(slider),slider.vars.animationLoop||slider.pause()),fade)touch?(slider.slides.eq(slider.currentSlide).css({opacity:0,zIndex:1}),slider.slides.eq(e).css({opacity:1,zIndex:2}),slider.wrapup(f)):(slider.slides.eq(slider.currentSlide).css({zIndex:1}).animate({opacity:0},slider.vars.animationSpeed,slider.vars.easing),slider.slides.eq(e).css({zIndex:2}).animate({opacity:1},slider.vars.animationSpeed,slider.vars.easing,slider.wrapup));else{var u,c,h,f=vertical?slider.slides.filter(":first").height():slider.computedW;carousel?(u=slider.vars.itemMargin,h=(slider.itemW+u)*slider.move*slider.animatingTo,c=h>slider.limit&&1!==slider.visible?slider.limit:h):c=0===slider.currentSlide&&e===slider.count-1&&slider.vars.animationLoop&&"next"!==slider.direction?reverse?(slider.count+slider.cloneOffset)*f:0:slider.currentSlide===slider.last&&0===e&&slider.vars.animationLoop&&"prev"!==slider.direction?reverse?0:(slider.count+1)*f:reverse?(slider.count-1-e+slider.cloneOffset)*f:(e+slider.cloneOffset)*f;var p=slider.vars.animationSpeed;slider.vars.animationSpeed=t?0:slider.vars.animationSpeed,slider.setProps(c,"",slider.vars.animationSpeed),slider.vars.animationSpeed=p,slider.transitions?(slider.vars.animationLoop&&slider.atEnd||(slider.animating=!1,slider.currentSlide=slider.animatingTo),slider.container.unbind("webkitTransitionEnd transitionend"),slider.container.bind("webkitTransitionEnd transitionend",function(){slider.wrapup(f)})):slider.container.animate(slider.args,slider.vars.animationSpeed,slider.vars.easing,function(){slider.wrapup(f)})}slider.vars.smoothHeight&&methods.smoothHeight(slider.vars.animationSpeed)}},slider.wrapup=function(e){fade||carousel||(0===slider.currentSlide&&slider.animatingTo===slider.last&&slider.vars.animationLoop?slider.setProps(e,"jumpEnd"):slider.currentSlide===slider.last&&0===slider.animatingTo&&slider.vars.animationLoop&&slider.setProps(e,"jumpStart")),slider.animating=!1,slider.currentSlide=slider.animatingTo,slider.vars.after(slider)},slider.animateSlides=function(){!slider.animating&&focused&&slider.flexAnimate(slider.getTarget("next"))},slider.pause=function(){clearInterval(slider.animatedSlides),slider.animatedSlides=null,slider.playing=!1,slider.vars.pausePlay&&methods.pausePlay.update("play"),slider.syncExists&&methods.sync("pause")},slider.play=function(){slider.playing&&clearInterval(slider.animatedSlides),slider.animatedSlides=slider.animatedSlides||setInterval(slider.animateSlides,slider.vars.slideshowSpeed),slider.started=slider.playing=!0,slider.vars.pausePlay&&methods.pausePlay.update("pause"),slider.syncExists&&methods.sync("play")},slider.stop=function(){slider.pause(),slider.stopped=!0},slider.canAdvance=function(e,t){var n=asNav?slider.pagingCount-1:slider.last;return t?!0:asNav&&slider.currentItem===slider.count-1&&0===e&&"prev"===slider.direction?!0:asNav&&0===slider.currentItem&&e===slider.pagingCount-1&&"next"!==slider.direction?!1:e!==slider.currentSlide||asNav?slider.vars.animationLoop?!0:slider.atEnd&&0===slider.currentSlide&&e===n&&"next"!==slider.direction?!1:slider.atEnd&&slider.currentSlide===n&&0===e&&"next"===slider.direction?!1:!0:!1},slider.getTarget=function(e){return slider.direction=e,"next"===e?slider.currentSlide===slider.last?slider.vars.animationLoop?0:slider.currentSlide:slider.currentSlide+1:0===slider.currentSlide?slider.vars.animationLoop?slider.last:slider.currentSlide:slider.currentSlide-1},slider.setProps=function(e,t,n){var i=function(){var n=e?e:(slider.itemW+slider.vars.itemMargin)*slider.move*slider.animatingTo,i=function(){if(carousel)return"setTouch"===t?e:reverse&&slider.animatingTo===slider.last?0:reverse?slider.limit-(slider.itemW+slider.vars.itemMargin)*slider.move*slider.animatingTo:slider.animatingTo===slider.last?slider.limit:n;switch(t){case"setTotal":return reverse?(slider.count-1-slider.currentSlide+slider.cloneOffset)*e:(slider.currentSlide+slider.cloneOffset)*e;case"setTouch":return reverse?e:e;case"jumpEnd":return reverse?e:slider.count*e;case"jumpStart":return reverse?slider.count*e:e;default:return e}}();return-1*i+"px"}();slider.transitions&&(i=vertical?"translate3d(0,"+i+",0)":"translate3d("+i+",0,0)",n=void 0!==n?n/1e3+"s":"0s",slider.container.css("-"+slider.pfx+"-transition-duration",n)),slider.args[slider.prop]=i,"add"==t||"remove"==t||!slider.transitions&&void 0!==n||slider.container.css(slider.args)},slider.setup=function(e){if(fade)slider.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===e&&(touch?slider.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+slider.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(slider.currentSlide).css({opacity:1,zIndex:2}):slider.slides.css({opacity:0,display:"block",zIndex:1}).eq(slider.currentSlide).css({zIndex:2}).animate({opacity:1},slider.vars.animationSpeed,slider.vars.easing)),slider.vars.smoothHeight&&methods.smoothHeight();else{var t,n;"init"===e&&(slider.viewport=$('<div class="'+namespace+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(slider).append(slider.container),slider.cloneCount=0,slider.cloneOffset=0,reverse&&(n=$.makeArray(slider.slides).reverse(),slider.slides=$(n),slider.container.empty().append(slider.slides))),slider.vars.animationLoop&&!carousel&&(slider.cloneCount=2,slider.cloneOffset=1,"init"!==e&&slider.container.find(".clone").remove(),slider.container.append(slider.slides.first().clone().addClass("clone").attr("aria-hidden","true")).prepend(slider.slides.last().clone().addClass("clone").attr("aria-hidden","true"))),slider.newSlides=$(slider.vars.selector,slider),t=reverse?slider.count-1-slider.currentSlide+slider.cloneOffset:slider.currentSlide+slider.cloneOffset,vertical&&!carousel?(slider.container.height(200*(slider.count+slider.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){slider.newSlides.css({display:"block"}),slider.doMath(),slider.viewport.height(slider.h),slider.setProps(t*slider.h,e)},"init"===e?100:0)):(slider.container.width(200*(slider.count+slider.cloneCount)+"%"),slider.setProps(t*slider.computedW,e),setTimeout(function(){slider.doMath(),slider.newSlides.css({width:slider.computedW,"float":"left",display:"block"}),slider.vars.smoothHeight&&methods.smoothHeight()},"init"===e?100:0))}carousel||slider.slides.removeClass(namespace+"active-slide").eq(slider.currentSlide).addClass(namespace+"active-slide")},slider.doMath=function(){var e=slider.slides.first(),t=slider.vars.itemMargin,n=slider.vars.minItems,i=slider.vars.maxItems;slider.w=void 0===slider.viewport?slider.width():slider.viewport.width(),slider.h=e.height(),slider.boxPadding=e.outerWidth()-e.width(),carousel?(slider.itemT=slider.vars.itemWidth+t,slider.minW=n?n*slider.itemT:slider.w,slider.maxW=i?i*slider.itemT-t:slider.w,slider.itemW=slider.minW>slider.w?(slider.w-t*(n-1))/n:slider.maxW<slider.w?(slider.w-t*(i-1))/i:slider.vars.itemWidth>slider.w?slider.w:slider.vars.itemWidth,slider.visible=Math.floor(slider.w/slider.itemW),slider.move=slider.vars.move>0&&slider.vars.move<slider.visible?slider.vars.move:slider.visible,slider.pagingCount=Math.ceil((slider.count-slider.visible)/slider.move+1),slider.last=slider.pagingCount-1,slider.limit=1===slider.pagingCount?0:slider.vars.itemWidth>slider.w?slider.itemW*(slider.count-1)+t*(slider.count-1):(slider.itemW+t)*slider.count-slider.w-t):(slider.itemW=slider.w,slider.pagingCount=slider.count,slider.last=slider.count-1),slider.computedW=slider.itemW-slider.boxPadding},slider.update=function(e,t){slider.doMath(),carousel||(e<slider.currentSlide?slider.currentSlide+=1:e<=slider.currentSlide&&0!==e&&(slider.currentSlide-=1),slider.animatingTo=slider.currentSlide),slider.vars.controlNav&&!slider.manualControls&&("add"===t&&!carousel||slider.pagingCount>slider.controlNav.length?methods.controlNav.update("add"):("remove"===t&&!carousel||slider.pagingCount<slider.controlNav.length)&&(carousel&&slider.currentSlide>slider.last&&(slider.currentSlide-=1,slider.animatingTo-=1),methods.controlNav.update("remove",slider.last))),slider.vars.directionNav&&methods.directionNav.update()},slider.addSlide=function(e,t){var n=$(e);if(slider.count+=1,slider.last=slider.count-1,vertical&&reverse?void 0!==t?slider.slides.eq(slider.count-t).after(n):slider.container.prepend(n):void 0!==t?slider.slides.eq(t).before(n):slider.container.append(n),slider.update(t,"add"),slider.slides=$(slider.vars.selector+":not(.clone)",slider),slider.setup("add"),slider.vars.lazyload){n.addClass("flex-slide-margin");var i=slider.vars.minItems+slider.visible*(slider.currentSlide-2),r=slider.vars.maxItems+slider.visible*slider.currentSlide;t>=i&&r>=t&&methods.lazyload(e)}slider.vars.added(slider)},slider.removeSlide=function(e){var t=isNaN(e)?slider.slides.index($(e)):e;slider.count-=1,slider.last=slider.count-1,isNaN(e)?$(e,slider.slides).remove():vertical&&reverse?slider.slides.eq(slider.last).remove():slider.slides.eq(e).remove(),slider.doMath(),slider.update(t,"remove"),slider.slides=$(slider.vars.selector+":not(.clone)",slider),slider.setup("remove"),slider.vars.removed(slider)},slider.destroy=function(){slider.pause(),slider.transitions=!1,slider.vars.controlNav&&""==slider.vars.manualControls&&slider.controlNav.closest(".flex-control-nav").remove(),slider.vars.directionNav&&slider.directionNav.closest(".flex-direction-nav").remove(),slider.vars.pausePlay&&slider.pausePlay.closest(".flex-pauseplay").remove(),slider.vars.keyboardNav&&1==$(slider.containerSelector).length&&$(document).unbind("keyup",keyboardMove),slider.vars.mousewheel&&slider.unbind(slider.mousewheelEvent),slider.vars.animationLoop&&slider.find(".clone").remove(),slider.vertical&&slider.height("auto"),slider.find("."+namespace+"viewport "+slider.containerSelector).unwrap(),slider.find(".slides").removeAttr("style").find("li").removeAttr("style"),slider.removeData("flexslider"),$(window).unbind("resize.flexslider-"+slider.id+" focus.flexslider-"+slider.id),slider.directionNav.unbind(eventType)},methods.init(),0==slider.vars.slideshow&&slider.pause()},$(window).blur(function(){focused=!1}).focus(function(){focused=!0}),$.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,thumbCaptions:!1,eventType:"click touchend MSPointerUp",interval:0,requestCount:0,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",prevElem:"",nextElem:"",disabledClass:"",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,lazyload:!1,llAttrib:"data-src",beforellAttrib:"beforell",afterllAttrib:"afterll",start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},beforeLazyload:function(){},afterLazyload:function(){}},$.fn.flexslider=function(e){if(void 0===e&&(e={}),"object"==typeof e)return this.each(function(){var t=$(this),n=e.selector?e.selector:".slides > li",i=t.find(n);1===i.length&&e.allowOneSlide===!0||0===i.length?(i.fadeIn(400),e.start&&e.start(t)):void 0===t.data("flexslider")&&new $.flexslider(this,e)});var t=$(this).data("flexslider");switch(e){case"play":t.play();break;case"pause":t.pause();break;case"stop":t.stop();break;case"next":t.flexAnimate(t.getTarget("next"),!0);break;case"prev":case"previous":t.flexAnimate(t.getTarget("prev"),!0);break;case"destroy":t.destroy();break;default:"number"==typeof e&&t.flexAnimate(e,!0)}},$.flexslider.getInstance=function(e){var t=$(e),n=[],r=t.length;for(i=0;i<r;i++)n.push(t.eq(i).data("flexslider"));return 1==r?n[0]:n}}(jQuery)},{}],24:[function(){!function(e,t,n,i){function r(e,t){return e[t]===i?w[t]:e[t]}function s(){var e=t.pageYOffset;return e===i?g.scrollTop:e}function a(e,t){var n=w["on"+e];n&&(_(n)?n.call(t[0]):(n.addClass&&t.addClass(n.addClass),n.removeClass&&t.removeClass(n.removeClass))),t.trigger("lazy"+e,[t]),u()}function o(t){a(t.type,e(this).off(m,o))}function l(n){if(S.length){n=n||w.forceLoad,A=1/0;var i,r,l=s(),d=t.innerHeight||g.clientHeight,u=t.innerWidth||g.clientWidth;for(i=0,r=S.length;r>i;i++){var c,h=S[i],p=h[0],v=h[f],y=!1,b=n;if(C(g,p)){if(n||!v.visibleOnly||p.offsetWidth||p.offsetHeight){if(!b){var x=p.getBoundingClientRect(),E=v.edgeX,k=v.edgeY;c=x.top+l-k-d,b=l>=c&&x.bottom>-k&&x.left<=u+E&&x.right>-E}if(b){a("show",h);var T=v.srcAttr,N=_(T)?T(h):p.getAttribute(T);N&&(h.on(m,o),p.src=N),y=!0}else A>c&&(A=c)}}else y=!0;y&&(S.splice(i--,1),r--)}r||a("complete",e(g))}}function d(){T>1?(T=1,l(),setTimeout(d,w.throttle)):T=0}function u(e){S.length&&(e&&"scroll"===e.type&&e.currentTarget===t&&A>=s()||(T||setTimeout(d,0),T=2))}function c(){x.lazyLoadXT()}function h(){l(!0)}var f="lazyLoadXT",p="lazied",m="load error",v="lazy-hidden",g=n.documentElement||n.body,y=t.onscroll===i||!!t.operamini||!g.getBoundingClientRect,w={autoInit:!0,selector:"img[data-src]",blankImage:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",throttle:99,forceLoad:y,loadEvent:"pageshow",updateEvent:"load orientationchange resize scroll touchmove focus",forceEvent:"",oninit:{removeClass:"lazy"},onshow:{addClass:v},onload:{removeClass:v,addClass:"lazy-loaded"},onerror:{removeClass:v},checkDuplicates:!0},b={srcAttr:"data-src",edgeX:0,edgeY:0,visibleOnly:!0},x=e(t),_=e.isFunction,E=e.extend,k=e.data||function(t,n){return e(t).data(n)},C=e.contains||function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},S=[],A=0,T=0;e[f]=E(w,b,e[f]),e.fn[f]=function(n){n=n||{};var i,s=r(n,"blankImage"),o=r(n,"checkDuplicates"),l=r(n,"scrollContainer"),d={};e(l).on("scroll",u);for(i in b)d[i]=r(n,i);return this.each(function(i,r){if(r===t)e(w.selector).lazyLoadXT(n);else{if(o&&k(r,p))return;var l=e(r).data(p,1);s&&"IMG"===r.tagName&&!r.src&&(r.src=s),l[f]=E({},d),a("init",l),S.push(l)}})},e(n).ready(function(){a("start",x),x.on(w.loadEvent,c).on(w.updateEvent,u).on(w.forceEvent,h),e(n).on(w.updateEvent,u),w.autoInit&&c()})}(window.jQuery||window.Zepto||window.$,window,document)},{}],25:[function(){!function(e){e.fn.unveil=function(t,n){function i(){var t=d.filter(function(){var t=e(this);if(!t.is(":hidden")){var n=s.scrollTop(),i=n+s.height(),r=t.offset().top,o=r+t.height();return o>=n-a&&i+a>=r}});r=t.trigger("unveil"),d=d.not(r)}var r,s=e(window),a=t||0,o=window.devicePixelRatio>1,l=o?"data-src-retina":"data-src",d=this;return this.one("unveil",function(){var e=this.getAttribute(l);e=e||this.getAttribute("data-src"),e&&(this.setAttribute("src",e),"function"==typeof n&&n.call(this))}),s.scroll(i),s.resize(i),i(),this}}(window.jQuery||window.Zepto)},{}],26:[function(e,t,n){!function(e,i){"object"==typeof n&&"undefined"!=typeof t?t.exports=i():"function"==typeof define&&define.amd?define(i):e.Ractive=i()}(this,function(){"use strict";function e(e){var t;if(e&&"boolean"!=typeof e)return"undefined"!=typeof window&&document&&e?e.nodeType?e:"string"==typeof e&&(t=document.getElementById(e),!t&&document.querySelector&&(t=document.querySelector(e)),t&&t.nodeType)?t:e[0]&&e[0].nodeType?e[0]:null:null}function t(e){return e&&e.parentNode&&e.parentNode.removeChild(e),e}function n(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;t>i;i++)n[i-1]=arguments[i];for(var r,s;s=n.shift();)for(r in s)s.hasOwnProperty(r)&&(e[r]=s[r]);return e}function i(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;t>i;i++)n[i-1]=arguments[i];return n.forEach(function(t){for(var n in t)!t.hasOwnProperty(n)||n in e||(e[n]=t[n])}),e}function r(e){return"[object Array]"===tl.call(e)}function s(e){return nl.test(tl.call(e))}function a(e){if(!d(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function o(e,t){return null===e&&null===t?!0:"object"==typeof e||"object"==typeof t?!1:e===t}function l(e){return!isNaN(parseFloat(e))&&isFinite(e)}function d(e){return e&&"[object Object]"===tl.call(e)}function u(e){return"function"==typeof e}function c(e,t){return e.replace(/%s/g,function(){return t.shift()})}function h(e){if(!Oo)throw e;console.error(e)}function f(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;t>i;i++)n[i-1]=arguments[i];throw e=c(e,n),new Error(e)}function p(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;t>i;i++)n[i-1]=arguments[i];e=c(e,n),Xo(e,n)}function m(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;t>i;i++)n[i-1]=arguments[i];e=c(e,n),rl[e]||(rl[e]=!0,Xo(e,n))}function v(e,t,n){var i=g(e,t,n);return i?i[e][n]:null}function g(e,t,n){for(;t;){if(n in t[e])return t;if(t.isolated)return null;t=t.parent}}function y(e){return function(){return e}}function w(e,t,n){var i;if("string"!=typeof t||!l(n))throw new Error("Bad arguments");if(i=+e.get(t)||0,!l(i))throw new Error("Cannot add to a non-numeric value");return e.set(t,i+n)}function b(e,t){return w(this,e,void 0===t?1:+t)}function x(e){this.event=e,this.method="on"+e,this.deprecate=fl[e]}function _(e,t){var n=e.indexOf(t);-1===n&&e.push(t)}function E(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]==t)return!0;return!1}function k(e,t){var n;if(!r(e)||!r(t))return!1;if(e.length!==t.length)return!1;for(n=e.length;n--;)if(e[n]!==t[n])return!1;return!0}function C(e){return"string"==typeof e?[e]:void 0===e?[]:e}function S(e){return e[e.length-1]}function A(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}function T(e){for(var t=[],n=e.length;n--;)t[n]=e[n];return t}function N(e){setTimeout(e,0)}function O(e,t){return function(){for(var n;n=e.shift();)n(t)}}function P(e,t,n,i){var r;if(t===e)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(t instanceof pl)t.then(n,i);else if(!t||"object"!=typeof t&&"function"!=typeof t)n(t);else{try{r=t.then}catch(s){return void i(s)}if("function"==typeof r){var a,o,l;o=function(t){a||(a=!0,P(e,t,n,i))},l=function(e){a||(a=!0,i(e))};try{r.call(t,o,l)}catch(s){if(!a)return i(s),void(a=!0)}}else n(t)}}function j(e){var t,n,i,r,s,a;for(t=e.split("."),(n=_l[t.length])||(n=L(t.length)),s=[],i=function(e,n){return e?"*":t[n]},r=n.length;r--;)a=n[r].map(i).join("."),s.hasOwnProperty(a)||(s.push(a),s[a]=!0);return s}function L(e){var t,n,i,r,s,a="";if(!_l[e]){for(i=[];a.length<e;)a+=1;for(t=parseInt(a,2),r=function(e){return"1"===e},s=0;t>=s;s+=1){for(n=s.toString(2);n.length<e;)n="0"+n;i[s]=Array.prototype.map.call(n,r)}_l[e]=i}return _l[e]}function F(e,t,n,i){var r=e[t];if(!r||!r.equalsOrStartsWith(i)&&r.equalsOrStartsWith(n))return e[t]=r?r.replace(n,i):i,!0}function I(e){var t=e.slice(2);return"i"===e[1]&&l(t)?+t:t}function V(e){return null==e?e:(wl.hasOwnProperty(e)||(wl[e]=new bl(e)),wl[e])}function R(e,t){var n,i,s,a=function(t,n){var i,s,a;i=e.viewmodel.wrapped[n.str],s=i?i.get():e.viewmodel.get(n);for(a in s)!s.hasOwnProperty(a)||"_ractive"===a&&r(s)||t.push(n.join(a));return t};for(n=t.split("."),s=[El];i=n.shift();)"*"===i?s=s.reduce(a,[]):s[0]===El?s[0]=V(i):s=s.map(M(i));return s}function M(e){return function(t){return t.join(e)}}function D(e){return e?e.replace(yl,".$1"):""}function z(e,t,n){var i;return t=D(t),"~/"===t.substr(0,2)?(i=V(t.substring(2)),q(e,i.firstKey,n)):"."===t[0]?(i=$(kl(n),t),i&&q(e,i.firstKey,n)):i=W(e,V(t),n),i}function $(e,t){var n;if(void 0!=e&&"string"!=typeof e&&(e=e.str),"."===t)return V(e);if(n=e?e.split("."):[],"../"===t.substr(0,3)){for(;"../"===t.substr(0,3);){if(!n.length)throw new Error('Could not resolve reference - too many "../" prefixes');n.pop(),t=t.substring(3)}return n.push(t),V(n.join("."))}return V(e?e+t.replace(/^\.\//,"."):t.replace(/^\.\/?/,""))}function W(e,t,n,i){var r,s,a,o,l;if(t.isRoot)return t;for(s=t.firstKey;n;)if(r=n.context,n=n.parent,r&&(o=!0,a=e.viewmodel.get(r),a&&("object"==typeof a||"function"==typeof a)&&s in a))return r.join(t.str);return B(e,s)?t:e.parent&&!e.isolated&&(o=!0,n=e.component.parentFragment,s=V(s),l=W(e.parent,s,n,!0))?(e.viewmodel.map(s,{origin:e.parent.viewmodel,keypath:l}),t):i||o?void 0:(e.viewmodel.set(t,void 0),t)}function q(e,t){var n;!e.parent||e.isolated||B(e,t)||(t=V(t),(n=W(e.parent,t,e.component.parentFragment,!0))&&e.viewmodel.map(t,{origin:e.parent.viewmodel,keypath:n}))}function B(e,t){return""===t||t in e.data||t in e.viewmodel.computations||t in e.viewmodel.mappings}function U(e){e.teardown()}function H(e){e.unbind()}function Q(e){e.unrender()}function G(e){e.detach()}function K(e){e.detachNodes()}function Z(e){!e.ready||e.outros.length||e.outroChildren||(e.outrosComplete||(e.parent?e.parent.decrementOutros(e):e.detachNodes(),e.outrosComplete=!0),e.intros.length||e.totalChildren||("function"==typeof e.callback&&e.callback(),e.parent&&e.parent.decrementTotal()))}function J(){for(var e,t,n;Sl.viewmodels.length;)t=Sl.viewmodels.pop(),n=t.applyChanges(),n&&Nl.fire(t.ractive,n);for(Y(),e=0;e<Sl.views.length;e+=1)Sl.views[e].update();for(Sl.views.length=0,e=0;e<Sl.tasks.length;e+=1)Sl.tasks[e]();return Sl.tasks.length=0,Sl.viewmodels.length?J():void 0}function Y(){var e,t,n,i;for(e=Tl.length;e--;)t=Tl[e],t.keypath?Tl.splice(e,1):(n=z(t.root,t.ref,t.parentFragment))&&((i||(i=[])).push({item:t,keypath:n}),Tl.splice(e,1));i&&i.forEach(X)}function X(e){e.item.resolve(e.keypath)}function et(e,t,n){var i,r,s,a,o,l,d,u,c,f,p,m,v,g;if(i=new xl(function(e){r=e}),"object"==typeof e){n=t||{},l=n.easing,d=n.duration,o=[],u=n.step,c=n.complete,(u||c)&&(p={},n.step=null,n.complete=null,f=function(e){return function(t,n){p[e]=n}});for(s in e)e.hasOwnProperty(s)&&((u||c)&&(m=f(s),n={easing:l,duration:d},u&&(n.step=m)),n.complete=c?m:il,o.push(tt(this,s,e[s],n)));return g={easing:l,duration:d},u&&(g.step=function(e){u(e,p)}),c&&i.then(function(e){c(e,p)}).then(null,h),g.complete=r,v=tt(this,null,null,g),o.push(v),i.stop=function(){for(var e;e=o.pop();)e.stop();v&&v.stop()},i}return n=n||{},n.complete&&i.then(n.complete).then(null,h),n.complete=r,a=tt(this,e,t,n),i.stop=function(){a.stop()},i}function tt(e,t,n,i){var r,s,a,l;return t&&(t=V(D(t))),null!==t&&(l=e.viewmodel.get(t)),jl.abort(t,e),o(l,n)?(i.complete&&i.complete(i.to),Fl):(i.easing&&(r="function"==typeof i.easing?i.easing:e.easing[i.easing],"function"!=typeof r&&(r=null)),s=void 0===i.duration?400:i.duration,a=new Ll({keypath:t,from:l,to:n,root:e,duration:s,easing:r,interpolator:i.interpolator,step:i.step,complete:i.complete}),jl.add(a),e._animations.push(a),a)}function nt(){return this.detached?this.detached:(this.el&&A(this.el.__ractive_instances__,this),this.detached=this.fragment.detach(),Il.fire(this),this.detached)}function it(e){return this.el?this.fragment.find(e):null}function rt(e){var t;return(t=e.parentFragment)?t.owner:e.component&&(t=e.component.parentFragment)?t.owner:void 0}function st(e){var t,n;for(t=[e],n=rt(e);n;)t.push(n),n=rt(n);return t}function at(e,t,n,i){var r=[];return Zo(r,{selector:{value:t},live:{value:n},_isComponentQuery:{value:i},_test:{value:Vl}}),n?(Zo(r,{cancel:{value:Rl},_root:{value:e},_sort:{value:zl},_makeDirty:{value:$l},_remove:{value:Wl},_dirty:{value:!1,writable:!0}}),r):r}function ot(e,t){var n,i;return this.el?(t=t||{},n=this._liveQueries,(i=n[e])?t&&t.live?i:i.slice():(i=at(this,e,!!t.live,!1),i.live&&(n.push(e),n["_"+e]=i),this.fragment.findAll(e,i),i)):[]}function lt(e,t){var n,i;return t=t||{},n=this._liveComponentQueries,(i=n[e])?t&&t.live?i:i.slice():(i=at(this,e,!!t.live,!0),i.live&&(n.push(e),n["_"+e]=i),this.fragment.findAllComponents(e,i),i)}function dt(e){return this.fragment.findComponent(e)}function ut(e){return this.container?this.container.component&&this.container.component.name===e?this.container:this.container.findContainer(e):null}function ct(e){return this.parent?this.parent.component&&this.parent.component.name===e?this.parent:this.parent.findParent(e):null}function ht(e,t){var n=void 0===arguments[2]?{}:arguments[2];if(t){n.event?n.event.name=t:n.event={name:t,context:e.data,keypath:"",_noArg:!0};var i=V(t).wildcardMatches();ft(e,i,n.event,n.args,!0)}}function ft(e,t,n,i){var r,s,a=void 0===arguments[4]?!1:arguments[4],o=!0;for(ql.enqueue(e,n),s=t.length;s>=0;s--)r=e._subs[t[s]],r&&(o=pt(e,r,n,i)&&o);if(ql.dequeue(e),e.parent&&o){if(a&&e.component){var l=e.component.name+"."+t[t.length-1];t=V(l).wildcardMatches(),n&&(n.component=e)}ft(e.parent,t,n,i)}}function pt(e,t,n,i){var r=null,s=!1;n&&!n._noArg&&(i=[n].concat(i)),t=t.slice();for(var a=0,o=t.length;o>a;a+=1)t[a].apply(e,i)===!1&&(s=!0);return n&&!n._noArg&&s&&(r=n.original)&&(r.preventDefault&&r.preventDefault(),r.stopPropagation&&r.stopPropagation()),!s}function mt(e){var t={args:Array.prototype.slice.call(arguments,1)};ht(this,e,t)}function vt(e){var t;return e=V(D(e)),t=this.viewmodel.get(e,Bl),void 0===t&&this.parent&&!this.isolated&&z(this,e.str,this.component.parentFragment)&&(t=this.viewmodel.get(e)),t}function gt(t,n){if(!this.fragment.rendered)throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");if(t=e(t),n=e(n)||null,!t)throw new Error("You must specify a valid target to insert into");t.insertBefore(this.detach(),n),this.el=t,(t.__ractive_instances__||(t.__ractive_instances__=[])).push(this),this.detached=null,yt(this)}function yt(e){Ul.fire(e),e.findAllComponents("*").forEach(function(e){yt(e.instance)})}function wt(e,t,n){var i,s;return e=V(D(e)),i=this.viewmodel.get(e),r(i)&&r(t)?(s=Al.start(this,!0),this.viewmodel.merge(e,i,t,n),Al.end(),s):this.set(e,t,n&&n.complete)
}function bt(e,t){var n,i;return n=R(e,t.str),i={},n.forEach(function(t){i[t.str]=e.get(t.str)}),i}function xt(e,t,n,i){var r,s,a;return t=V(D(t)),i=i||id,nd.test(t.str)?(r=new Ql(e,t,n,i),e.viewmodel.patternObservers.push(r),s=!0):r=new Hl(e,t,n,i),r.init(i.init),e.viewmodel.register(t,r,s?"patternObservers":"observers"),r.ready=!0,{cancel:function(){var n;a||(s?(n=e.viewmodel.patternObservers.indexOf(r),e.viewmodel.patternObservers.splice(n,1),e.viewmodel.unregister(t,r,"patternObservers")):e.viewmodel.unregister(t,r,"observers"),a=!0)}}}function _t(e,t,n){var i,r,s,a;if(d(e)){n=t,r=e,i=[];for(e in r)r.hasOwnProperty(e)&&(t=r[e],i.push(this.observe(e,t,n)));return{cancel:function(){for(;i.length;)i.pop().cancel()}}}if("function"==typeof e)return n=t,t=e,e="",xt(this,e,t,n);if(s=e.split(" "),1===s.length)return xt(this,e,t,n);for(i=[],a=s.length;a--;)e=s[a],e&&i.push(xt(this,e,t,n));return{cancel:function(){for(;i.length;)i.pop().cancel()}}}function Et(e,t,n){var i=this.observe(e,function(){t.apply(this,arguments),i.cancel()},{init:!1,defer:n&&n.defer});return i}function kt(e,t){var n,i=this;if(e)n=e.split(" ").map(rd).filter(sd),n.forEach(function(e){var n,r;(n=i._subs[e])&&(t?(r=n.indexOf(t),-1!==r&&n.splice(r,1)):i._subs[e]=[])});else for(e in this._subs)delete this._subs[e];return this}function Ct(e,t){var n,i,r,s=this;if("object"==typeof e){n=[];for(i in e)e.hasOwnProperty(i)&&n.push(this.on(i,e[i]));return{cancel:function(){for(var e;e=n.pop();)e.cancel()}}}return r=e.split(" ").map(rd).filter(sd),r.forEach(function(e){(s._subs[e]||(s._subs[e]=[])).push(t)}),{cancel:function(){return s.off(e,t)}}}function St(e,t){var n=this.on(e,function(){t.apply(this,arguments),n.cancel()});return n}function At(e,t,n){var i,r,s,a,o,l,d=[];if(i=Tt(e,t,n),!i)return null;for(r=e.length,o=i.length-2-i[1],s=Math.min(r,i[0]),a=s+i[1],l=0;s>l;l+=1)d.push(l);for(;a>l;l+=1)d.push(-1);for(;r>l;l+=1)d.push(l+o);return d}function Tt(e,t,n){switch(t){case"splice":for(void 0!==n[0]&&n[0]<0&&(n[0]=e.length+Math.max(n[0],-e.length));n.length<2;)n.push(0);return n[1]=Math.min(n[1],e.length-n[0]),n;case"sort":case"reverse":return null;case"pop":return e.length?[e.length-1,1]:null;case"push":return[e.length,0].concat(n);case"shift":return[0,1];case"unshift":return[0,0].concat(n)}}function Nt(t,n){var i,r,s,a=this;if(s=this.transitionsEnabled,this.noIntro&&(this.transitionsEnabled=!1),i=Al.start(this,!0),Al.scheduleTask(function(){return gd.fire(a)},!0),this.fragment.rendered)throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");if(t=e(t)||this.el,n=e(n)||this.anchor,this.el=t,this.anchor=n,!this.append&&t){var o=t.__ractive_instances__;o&&o.length&&Ot(o),t.innerHTML=""}return this.constructor.css&&vd.add(this.constructor),t&&((r=t.__ractive_instances__)?r.push(this):t.__ractive_instances__=[this],n?t.insertBefore(this.fragment.render(),n):t.appendChild(this.fragment.render())),Al.end(),this.transitionsEnabled=s,i.then(function(){return yd.fire(a)}).then(null,h),i}function Ot(e){try{e.splice(0,e.length).forEach(function(e){return e.teardown()})}catch(t){}}function Pt(e,t,n){var i,r,s,a,o,l,d=function(e){var n,i;e.value=t,e.updating||(i=e.ractive,n=e.keypath,e.updating=!0,Al.start(i),i.viewmodel.mark(n),Al.end(),e.updating=!1)};if(i=e.obj,r=e.prop,n&&!n.configurable){if("length"===r)return;throw new Error('Cannot use magic mode with property "'+r+'" - object is not configurable')}n&&(s=n.get,a=n.set),o=s||function(){return t},l=function(e){a&&a(e),t=s?s():e,l._ractiveWrappers.forEach(d)},l._ractiveWrappers=[e],Object.defineProperty(i,r,{get:o,set:l,enumerable:!0,configurable:!0})}function jt(e,t){for(var n=e.slice(),i=t.length;i--;)~n.indexOf(t[i])||n.push(t[i]);return n}function Lt(e,t){var n,i,r;return i='[data-ractive-css="'+t+'"]',r=function(e){var t,n,r,s,a,o,l,d=[];for(t=[];n=Md.exec(e);)t.push({str:n[0],base:n[1],modifiers:n[2]});for(s=t.map(It),l=t.length;l--;)o=s.slice(),r=t[l],o[l]=r.base+i+r.modifiers||"",a=s.slice(),a[l]=i+" "+a[l],d.push(o.join(" "),a.join(" "));return d.join(", ")},n=zd.test(e)?e.replace(zd,i):e.replace(Rd,"").replace(Vd,function(e,t){var n,i;return Dd.test(t)?e:(n=t.split(",").map(Ft),i=n.map(r).join(", ")+" ",e.replace(t,i))})}function Ft(e){return e.trim?e.trim():e.replace(/^\s+/,"").replace(/\s+$/,"")}function It(e){return e.str}function Vt(e,t,n){return e?t.noCssTransform?e:Lt(e,n):void 0}function Rt(e,t){return"function"==typeof t&&/_super/.test(e)}function Mt(e,t,n){var i=n.data||{},r=Dt(e.prototype.data);if("object"!=typeof i&&"function"!=typeof i)throw new TypeError('data option must be an object or a function, "'+i+'" is not valid');return zt(r,i)}function Dt(e){if("function"!=typeof e||!Object.keys(e).length)return e;var t={};return $t(e,t),zt(e,t)}function zt(e,t){return"function"==typeof t?Bt(t,e):"function"==typeof e?qt(t,e):Wt(t,e)}function $t(e,t,n){for(var i in e)!(t._mappings&&t._mappings[i]&&t._mappings[i].updatable)&&n&&i in t||(t[i]=e[i])}function Wt(e,t){return e=e||{},t?($t(t,e,!0),e):e}function qt(e,t){return function(n){var i;if(e){i=[];for(var r in e)n&&r in n||i.push(r)}return n=t.call(this,n)||n,i&&i.length&&(n=n||{},i.forEach(function(t){n[t]=e[t]})),n}}function Bt(e,t){var n;return n="function"!=typeof t?function(e){Wt(e,t)}:function(e){return t=Wd(t,function(){},!0),t.call(this,e)||e},Wd(e,n)}function Ut(e){var t,n,i,r;return t=e.pos,i=Uu(e),null===i?null:(n=[i],e.matchString(",")?(r=Ut(e),r?n.concat(r):(e.pos=t,null)):n)}function Ht(e){var t,n,i,r,s=function(e){n.push(e)};return t=e.pos,e.allowWhitespace(),i=e.readExpression(),null===i?null:(n=[i],e.allowWhitespace(),e.matchString(",")&&(r=Ht(e),null===r&&e.error(Au),r.forEach(s)),n)}function Qt(e){var t,n,i;if(t=e.pos,e.allowWhitespace(),e.matchString(".")){if(e.allowWhitespace(),n=e.matchPattern($u))return{t:pu,n:n};e.error("Expected a property name")}return e.matchString("[")?(e.allowWhitespace(),i=e.readExpression(),i||e.error(Au),e.allowWhitespace(),e.matchString("]")||e.error("Expected ']'"),{t:pu,x:i}):null}function Gt(e){return JSON.stringify(String(e))}function Kt(e,t){var n,i;if(e.t===fu&&-1===t.indexOf(e.n)&&t.unshift(e.n),i=e.o||e.m)if(d(i))Kt(i,t);else for(n=i.length;n--;)Kt(i[n],t);e.x&&Kt(e.x,t),e.r&&Kt(e.r,t),e.v&&Kt(e.v,t)}function Zt(e,t,n){var i=function(t){return Zt(e,t,n)};switch(t.t){case uu:case cu:case au:return t.v;case ou:return Gt(t.v);case lu:return"["+(t.m?t.m.map(i).join(","):"")+"]";case du:return"{"+(t.m?t.m.map(i).join(","):"")+"}";case hu:return t.k+":"+Zt(e,t.v,n);case vu:return("typeof"===t.s?"typeof ":t.s)+Zt(e,t.o,n);case wu:return Zt(e,t.o[0],n)+("in"===t.s.substr(0,2)?" "+t.s+" ":t.s)+Zt(e,t.o[1],n);case bu:return Zt(e,t.x,n)+"("+(t.o?t.o.map(i).join(","):"")+")";case gu:return"("+Zt(e,t.x,n)+")";case mu:return Zt(e,t.x,n)+Zt(e,t.r,n);case pu:return t.n?"."+t.n:"["+Zt(e,t.x,n)+"]";case yu:return Zt(e,t.o[0],n)+"?"+Zt(e,t.o[1],n)+":"+Zt(e,t.o[2],n);case fu:return"_"+n.indexOf(t.n);default:e.error("Expected legal JavaScript")}}function Jt(e,t,n){var i;if(t){for(;t.t===gu&&t.x;)t=t.x;return t.t===fu?n.r=t.n:t.t===au&&yc.test(t.v)?n.r=t.v:(i=Yt(e,t))?n.rx=i:n.x=e.flattenExpression(t),n}}function Yt(e,t){for(var n,i=[];t.t===mu&&t.r.t===pu;)n=t.r,i.unshift(n.x?n.x.t===fu?n.x:e.flattenExpression(n.x):n.n),t=t.x;return t.t!==fu?null:{r:t.n,m:i}}function Xt(e){var t;return e.interpolate[e.inside]===!1?null:(t=hc.slice().sort(function(t,n){return e[n.delimiters][0].length-e[t.delimiters][0].length}),function n(i){return i?en(e,i)||n(t.shift()):null}(t.shift()))}function en(e,t){var n,i,r,s,a,o,l,d;if(n=e.pos,r=e[t.delimiters],!e.matchString(r[0]))return null;if(i=cc(e))return e.matchString(r[1])?(e[t.delimiters]=i,Nc):null;if(e.allowWhitespace(),i=Tc(e,t),null===i)return e.pos=n,null;if(e.allowWhitespace(),e.matchString(r[1])||e.error("Expected closing delimiter '"+r[1]+"' after reference"),i.t===Yd&&(i.exclude=!0),i.t===Kd&&(e.sectionDepth-=1,e.sectionDepth<0&&(e.pos=n,e.error("Attempted to close a section that wasn't open"))),i.contextPartialExpression)i.f=i.contextPartialExpression,i.t=Qd,i.n="with",delete i.contextPartialExpression;else if(tn(i)){for(e.sectionDepth+=1,s=[],l=s,a=i.n;d=e.read();){if(d.t===Kd){a&&d.r!==a&&e.error("Expected {{/"+a+"}}");break}if(d.t===Ud&&"else"===d.r){if("unless"!==i.n){l=o=[];continue}e.error("{{else}} not allowed in {{#unless}}")}l.push(d)}s.length&&(i.f=s),o&&o.length&&(i.l=o,"with"===i.n&&(i.n="if-with"))}return e.includeLinePositions&&(i.p=e.getLinePos(n)),i.n?i.n=mc[i.n]:i.t===Gd&&(i.t=Qd,i.n=_u),i.n===Su?(i.r&&-1===i.r.indexOf(".")||e.error("Invalid partial name "+i.r+"."),{n:i.r,f:i.f,t:ru}):i}function tn(e){return e.t===Qd||e.t===Gd}function nn(e){return e.replace(kc,function(e,t){var n;return n="#"!==t[0]?_c[t]:"x"===t[1]?parseInt(t.substring(2),16):parseInt(t.substring(1),10),n?String.fromCharCode(rn(n)):e})}function rn(e){return e?10===e?32:128>e?e:159>=e?Ec[e-128]:55296>e?e:57343>=e?65533:65535>=e?e:65533:65533}function sn(e){return e.replace(Ac,"&amp;").replace(Cc,"&lt;").replace(Sc,"&gt;")}function an(e){return e.replace(zc,"\\$&")}function on(e){var t=e.remaining(),n=e.pos,i=e.matchPattern($c),r=e.options.delimiters[0],s=e.options.delimiters[1];if(i&&e.matchString(r)){var a=e.matchPattern(Wc);if(!e.matchString(s)||!e.matchPattern(qc))return e.pos=n,null;var o=new RegExp("<!--\\s*"+an(r)+"\\s*\\/\\s*"+a+"\\s*"+an(s)+"\\s*-->");t=e.remaining();var l=o.exec(t);if(!l)throw new Error('Inline partials must have a closing delimiter, and cannot be nested. Expected closing for "'+a+'", but '+(l?'instead found "'+l[1]+'"':" no closing found"));var d={t:ru,f:new e.StandardParser(t.substr(0,l.index),e.options).result,n:a};return e.pos+=l.index+l[0].length,d}return e.pos=n,null}function ln(e){var t,n,i;return e.allowWhitespace(),(n=e.matchPattern(Gc))?(t={name:n},i=dn(e),i&&(t.value=i),t):null}function dn(e){var t,n,i,r;return t=e.pos,e.allowWhitespace(),e.matchString("=")?(e.allowWhitespace(),n=e.pos,i=e.sectionDepth,r=hn(e,"'")||hn(e,'"')||cn(e),e.sectionDepth!==i&&(e.pos=n,e.error("An attribute value must contain as many opening section tags as closing section tags")),null===r?(e.pos=t,null):r.length?1===r.length&&"string"==typeof r[0]?nn(r[0]):r:null):(e.pos=t,null)}function un(e){var t,n,i,r,s;return t=e.pos,(n=e.matchPattern(Kc))?(i=n,r=[e.delimiters[0],e.tripleDelimiters[0],e.staticDelimiters[0],e.staticTripleDelimiters[0]],-1!==(s=Bc(i,r))&&(n=n.substr(0,s),e.pos=t+n.length),n):null}function cn(e){var t,n;for(e.inAttribute=!0,t=[],n=Xt(e)||un(e);null!==n;)t.push(n),n=Xt(e)||un(e);return t.length?(e.inAttribute=!1,t):null}function hn(e,t){var n,i,r;if(n=e.pos,!e.matchString(t))return null;for(e.inAttribute=t,i=[],r=Xt(e)||fn(e,t);null!==r;)i.push(r),r=Xt(e)||fn(e,t);return e.matchString(t)?(e.inAttribute=!1,i):(e.pos=n,null)}function fn(e,t){var n,i,r,s;return n=e.pos,r=e.remaining(),s=[t,e.delimiters[0],e.tripleDelimiters[0],e.staticDelimiters[0],e.staticTripleDelimiters[0]],i=Bc(r,s),-1===i&&e.error("Quoted attribute value must have a closing quote"),i?(e.pos+=i,r.substr(0,i)):null}function pn(e){var t,n,i;return e.allowWhitespace(),(t=Bu(e))?(i={key:t},e.allowWhitespace(),e.matchString(":")?(e.allowWhitespace(),(n=e.read())?(i.value=n.v,i):null):null):null}function mn(e){var t,n,i,r,s,a,o,l,d,u,c;if(t=e.pos,e.inside||e.inAttribute)return null;if(!e.matchString("<"))return null;if("/"===e.nextChar())return null;if(n={},e.includeLinePositions&&(n.p=e.getLinePos(t)),e.matchString("!"))return n.t=su,e.matchPattern(/^doctype/i)||e.error("Expected DOCTYPE declaration"),n.a=e.matchPattern(/^(.+?)>/),n;if(n.t=Zd,n.e=e.matchPattern(nh),!n.e)return null;for(ih.test(e.nextChar())||e.error("Illegal tag name"),a=function(t,i){var r=i.n||i;ah.test(r)&&(e.pos-=r.length,e.error("Cannot use reserved event names (change, reset, teardown, update, construct, config, init, render, unrender, detach, insert)")),n.v[t]=i},e.allowWhitespace();o=Xt(e)||ln(e);)o.name?(r=oh[o.name])?n[r]=th(o.value):(s=sh.exec(o.name))?(n.v||(n.v={}),l=th(o.value),a(s[1],l)):e.sanitizeEventAttributes&&rh.test(o.name)||(n.a||(n.a={}),n.a[o.name]=o.value||0):(n.m||(n.m=[]),n.m.push(o)),e.allowWhitespace();if(e.allowWhitespace(),e.matchString("/")&&(d=!0),!e.matchString(">"))return null;if(i=n.e.toLowerCase(),!d&&!xc.test(n.e)){for(("script"===i||"style"===i)&&(e.inside=i),u=[];vn(i,e.remaining())&&(c=e.read(Xc))&&c.t!==Kd&&c.t!==tu;)u.push(c);u.length&&(n.f=u)}return e.inside=null,e.sanitizeElements&&-1!==e.sanitizeElements.indexOf(i)?lh:n}function vn(e,t){var n,i;return n=/^<([a-zA-Z][a-zA-Z0-9]*)/.exec(t),i=eh[e],n&&i?!~i.indexOf(n[1].toLowerCase()):!0}function gn(e){return"string"==typeof e}function yn(e){return e.t===Yd||e.t===Xd}function wn(e){return(e.t===Qd||e.t===Gd)&&e.f}function bn(e,t,n){for(var i=n.length,s=void 0,a=void 0;i--;)s=n[i],xn(s)?(t[s.n]=s.f,n.splice(i,1)):r(s.f)&&((a=_n(e,s))?(e.push(a),bn(e,s.p={},s.f),e.pop()):r(s.f)&&bn(e,t,s.f))}function xn(e){return e.t===ru}function _n(e,t){var n,i,r=t.e;if(t.e)for(n=0;n<e.length;n++)if(i=(e[n].components||{})[r])return i}function En(e,t,n,i,s,a){var o,l,d,u,c,h,f,p,m;for(gh(e),o=e.length;o--;)l=e[o],l.exclude?e.splice(o,1):t&&l.t===Yd&&e.splice(o,1);for(ph(e,i,s),o=e.length;o--;){if(l=e[o],l.f&&(c=n||l.t===Zd&&bh.test(l.e),c||(d=e[o-1],u=e[o+1],(!d||"string"==typeof d&&_h.test(d))&&(h=!0),(!u||"string"==typeof u&&xh.test(u))&&(f=!0)),En(l.f,t,c,h,f,a)),l.l&&(En(l.l,t,n,h,f,a),a&&(p={t:4,n:_u,f:l.l},l.r&&(p.r=l.r),l.x&&(p.x=l.x),l.rx&&(p.rx=l.rx),e.splice(o+1,0,p),delete l.l)),l.a)for(m in l.a)l.a.hasOwnProperty(m)&&"string"!=typeof l.a[m]&&En(l.a[m],t,n,h,f,a);if(l.m&&En(l.m,t,n,h,f,a),l.v)for(m in l.v)l.v.hasOwnProperty(m)&&(r(l.v[m].n)&&En(l.v[m].n,t,n,h,f,a),r(l.v[m].d)&&En(l.v[m].d,t,n,h,f,a))}for(o=e.length;o--;)"string"==typeof e[o]&&("string"==typeof e[o+1]&&(e[o]=e[o]+e[o+1],e.splice(o+1,1)),n||(e[o]=e[o].replace(wh," ")),""===e[o]&&e.splice(o,1))}function kn(e,t){t=t||e,t.delimiters=e.delimiters||["{{","}}"],t.tripleDelimiters=e.tripleDelimiters||["{{{","}}}"],t.staticDelimiters=e.staticDelimiters||["[[","]]"],t.staticTripleDelimiters=e.staticTripleDelimiters||["[[[","]]]"]}function Cn(e){var t=Go(Ah);return t.parse=function(t,n){return Sn(t,n||e)},t}function Sn(e,t){if(!uh)throw new Error("Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser");return uh(e,t||this.options)}function An(e,t){var n;if(!No){if(t&&t.noThrow)return;throw new Error("Cannot retrieve template #"+e+" as Ractive is not running in a browser.")}if(Tn(e)&&(e=e.substring(1)),!(n=document.getElementById(e))){if(t&&t.noThrow)return;throw new Error("Could not find template element with id #"+e)}if("SCRIPT"!==n.tagName.toUpperCase()){if(t&&t.noThrow)return;throw new Error("Template element with id #"+e+", must be a <script> element")}return n.innerHTML}function Tn(e){return e&&"#"===e.charAt(0)}function Nn(e){return!("string"==typeof e)}function On(e){return e.defaults&&(e=e.defaults),Sh.reduce(function(t,n){return t[n]=e[n],t},{ractive:e})}function Pn(e){var t,n=e._config.template;if(n&&n.fn)return t=jn(e,n.fn),t!==n.result?(n.result=t,t=Fn(t,e)):void 0}function jn(e,t){var n=Ln(Th.getParseOptions(e));return t.call(e,e.data,n)}function Ln(e){var t=Go(Th);return t.parse=function(t,n){return Th.parse(t,n||e)},t}function Fn(e,t){if("string"==typeof e)"#"===e[0]&&(e=Th.fromId(e)),e=uh(e,Th.getParseOptions(t));else if(2!==e.v)throw new Error("Mismatched template version! Please ensure you are using the latest version of Ractive.js in your build process as well as in your app");return e}function In(e,t,n){if(t)for(var i in t)(n||!e.hasOwnProperty(i))&&(e[i]=t[i])}function Vn(e,t,n){if(!/_super/.test(n))return n;var i=function(){var e,r=Rn(i._parent,t),s="_super"in this,a=this._super;return this._super=r,e=n.apply(this,arguments),s?this._super=a:delete this._super,e};return i._parent=e,i._method=n,i}function Rn(e,t){var n,i;return t in e?(n=e[t],i="function"==typeof n?n:function(){return n}):i=il,i}function Mn(e,t,n){return"options."+e+" has been deprecated in favour of options."+t+"."+(n?" You cannot specify both options, please use options."+t+".":"")}function Dn(e,t,n){if(t in e){if(n in e)throw new Error(Mn(t,n,!0));p(Mn(t,n)),e[n]=e[t]}}function zn(e){Dn(e,"beforeInit","onconstruct"),Dn(e,"init","onrender"),Dn(e,"complete","oncomplete"),Dn(e,"eventDefinitions","events"),r(e.adaptors)&&Dn(e,"adaptors","adapt")}function $n(e,t,n,i){zn(i);for(var r in i)if(Ih[r]){var s=i[r];"function"==typeof s&&(s=Vn(t.prototype,r,s)),n[r]=s}Ch.forEach(function(r){r[e](t,n,i)}),Id[e](t,n,i),qd[e](t,n,i),Nh[e](t,n,i),$d[e](t,n,i),Wn(t.prototype,n,i)}function Wn(e,t,n){for(var i in n)if(!Fh[i]&&n.hasOwnProperty(i)){var r=n[i];"function"==typeof r&&(r=Vn(e,i,r)),t[i]=r}}function qn(e){var t={};return e.forEach(function(e){return t[e]=!0}),t}function Bn(){this.dirtyValue=this.dirtyArgs=!0,this.bound&&"function"==typeof this.owner.bubble&&this.owner.bubble()}function Un(){var e;return 1===this.items.length?this.items[0].detach():(e=document.createDocumentFragment(),this.items.forEach(function(t){var n=t.detach();n&&e.appendChild(n)}),e)}function Hn(e){var t,n,i,r;if(this.items){for(n=this.items.length,t=0;n>t;t+=1)if(i=this.items[t],i.find&&(r=i.find(e)))return r;return null}}function Qn(e,t){var n,i,r;if(this.items)for(i=this.items.length,n=0;i>n;n+=1)r=this.items[n],r.findAll&&r.findAll(e,t);return t}function Gn(e,t){var n,i,r;if(this.items)for(i=this.items.length,n=0;i>n;n+=1)r=this.items[n],r.findAllComponents&&r.findAllComponents(e,t);return t}function Kn(e){var t,n,i,r;if(this.items){for(t=this.items.length,n=0;t>n;n+=1)if(i=this.items[n],i.findComponent&&(r=i.findComponent(e)))return r;return null}}function Zn(e){var t,n=e.index;return t=this.items[n+1]?this.items[n+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)}function Jn(){return this.items&&this.items[0]?this.items[0].firstNode():null}function Yn(e,t,n,i){return i=i||0,e.map(function(e){var r,s,a;return e.text?e.text:e.fragments?e.fragments.map(function(e){return Yn(e.items,t,n,i)}).join(""):(r=n+"-"+i++,a=e.keypath&&(s=e.root.viewmodel.wrapped[e.keypath.str])?s.value:e.getValue(),t[r]=a,"${"+r+"}")}).join("")}function Xn(){var e,t,n,i;return this.dirtyArgs&&(t=Yn(this.items,e={},this.root._guid),n=Jc("["+t+"]",e),i=n?n.value:[this.toString()],this.argsList=i,this.dirtyArgs=!1),this.argsList}function ei(){var e=this;do if(e.pElement)return e.pElement.node;while(e=e.parent);return this.root.detached||this.root.el}function ti(){var e,t,n,i;return this.dirtyValue&&(t=Yn(this.items,e={},this.root._guid),n=Jc(t,e),i=n?n.value:this.toString(),this.value=i,this.dirtyValue=!1),this.value}function ni(){this.registered&&this.root.viewmodel.unregister(this.keypath,this),this.resolver&&this.resolver.unbind()}function ii(){return this.value}function ri(e,t){for(var n,i=0;i<t.prop.length;i++)if(void 0!==(n=e[t.prop[i]]))return n}function si(e,t){var n,i,r,s,a,o={},l=!1;for(t||(o.refs=n={});e;){if((a=e.owner)&&(i=a.indexRefs)){if(t&&(r=a.getIndexRef(t)))return o.ref={fragment:e,ref:r},o;if(!t)for(s in i)r=i[s],n[r.n]||(l=!0,n[r.n]={fragment:e,ref:r})}!e.parent&&e.owner&&e.owner.component&&e.owner.component.parentFragment&&!e.owner.component.instance.isolated?(o.componentBoundary=!0,e=e.owner.component.parentFragment):e=e.parent}return l?o:void 0}function ai(e,t,n){var i;return"@"===t.charAt(0)?new Dh(e,t,n):(i=si(e.parentFragment,t))?new $h(e,i,n):new Mh(e,t,n)}function oi(e,t){var n,i;if(qh[e])return qh[e];for(i=[];t--;)i[t]="_"+t;return n=new Function(i.join(","),"return("+e+")"),qh[e]=n,n}function li(e){return e.call()}function di(e,t){return e.replace(/_([0-9]+)/g,function(e,n){var i,r;return i=t[n],void 0===i?"undefined":i.isSpecial?(r=i.value,"number"==typeof r?r:'"'+r+'"'):i.str})}function ui(e){return V("${"+e.replace(/[\.\[\]]/g,"-").replace(/\*/,"#MUL#")+"}")}function ci(e){return void 0!==e&&"@"!==e[0]}function hi(e,t){var n,i,r;if(e.__ractive_nowrap)return e;if(i="__ractive_"+t._guid,n=e[i])return n;if(/this/.test(e.toString())){Ko(e,i,{value:Bh.call(e,t),configurable:!0});for(r in e)e.hasOwnProperty(r)&&(e[i][r]=e[r]);return t._boundFunctions.push({fn:e,prop:i}),e[i]}return Ko(e,"__ractive_nowrap",{value:e}),e.__ractive_nowrap}function fi(e){return e.value}function pi(e){return void 0!=e}function mi(e){e.forceResolution()}function vi(e,t){var n,i,r,s=function(t){e.resolve(t)},a=function(t){var n=e.keypath;t!=n&&(e.resolve(t),void 0!==n&&e.fragments&&e.fragments.forEach(function(e){e.rebind(n,t)}))};i=t.parentFragment,r=t.template,e.root=i.root,e.parentFragment=i,e.pElement=i.pElement,e.template=t.template,e.index=t.index||0,e.isStatic=t.template.s,e.type=t.template.t,e.registered=!1,(n=r.r)&&(e.resolver=ai(e,n,s)),t.template.x&&(e.resolver=new Wh(e,i,t.template.x,a)),t.template.rx&&(e.resolver=new Hh(e,t.template.rx,a)),e.template.n!==_u||e.hasOwnProperty("value")||e.setValue(void 0)}function gi(e){var t,n,i;return e&&e.isSpecial?(this.keypath=e,void this.setValue(e.value)):(this.registered&&(this.root.viewmodel.unregister(this.keypath,this),this.registered=!1,t=!0),this.keypath=e,void 0!=e&&(n=this.root.viewmodel.get(e),this.root.viewmodel.register(e,this),this.registered=!0),this.setValue(n),void(t&&(i=this.twowayBinding)&&i.rebound()))}function yi(e,t){this.fragments&&this.fragments.forEach(function(n){return n.rebind(e,t)}),this.resolver&&this.resolver.rebind(e,t)}function wi(){this.parentFragment.bubble()}function bi(){var e;return 1===this.fragments.length?this.fragments[0].detach():(e=document.createDocumentFragment(),this.fragments.forEach(function(t){e.appendChild(t.detach())}),e)}function xi(e){var t,n,i;for(n=this.fragments.length,t=0;n>t;t+=1)if(i=this.fragments[t].find(e))return i;return null}function _i(e,t){var n,i;for(i=this.fragments.length,n=0;i>n;n+=1)this.fragments[n].findAll(e,t)}function Ei(e,t){var n,i;for(i=this.fragments.length,n=0;i>n;n+=1)this.fragments[n].findAllComponents(e,t)}function ki(e){var t,n,i;for(n=this.fragments.length,t=0;n>t;t+=1)if(i=this.fragments[t].findComponent(e))return i;return null}function Ci(e){return this.fragments[e.index+1]?this.fragments[e.index+1].firstNode():this.parentFragment.findNextNode(this)}function Si(){var e,t,n;if(e=this.fragments.length)for(t=0;e>t;t+=1)if(n=this.fragments[t].firstNode())return n;return this.parentFragment.findNextNode(this)}function Ai(e){var t,n,i,r,s,a,o,l=this;if(!this.shuffling&&!this.unbound&&this.currentSubtype===Eu){if(this.shuffling=!0,Al.scheduleTask(function(){return l.shuffling=!1}),t=this.parentFragment,s=[],e.forEach(function(e,t){var i,r,a,o,d;return e===t?void(s[e]=l.fragments[t]):(i=l.fragments[t],void 0===n&&(n=t),-1===e?(l.fragmentsToUnrender.push(i),void i.unbind()):(r=e-t,a=l.keypath.join(t),o=l.keypath.join(e),i.index=e,(d=i.registeredIndexRefs)&&d.forEach(Ti),i.rebind(a,o),void(s[e]=i)))}),r=this.root.viewmodel.get(this.keypath).length,void 0===n){if(this.length===r)return;n=this.length}for(this.length=this.fragments.length=r,this.rendered&&Al.addView(this),a={template:this.template.f,root:this.root,owner:this},i=n;r>i;i+=1)o=s[i],o||this.fragmentsToCreate.push(i),this.fragments[i]=o}}function Ti(e){e.rebind("","")}function Ni(){var e=this;return this.docFrag=document.createDocumentFragment(),this.fragments.forEach(function(t){return e.docFrag.appendChild(t.render())}),this.renderedFragments=this.fragments.slice(),this.fragmentsToRender=[],this.rendered=!0,this.docFrag}function Oi(e){var t,n,i=this;this.updating||(this.updating=!0,this.keypath&&(t=this.root.viewmodel.wrapped[this.keypath.str])&&(e=t.get()),this.fragmentsToCreate.length?(n={template:this.template.f,root:this.root,pElement:this.pElement,owner:this},this.fragmentsToCreate.forEach(function(e){var t;n.context=i.keypath.join(e),n.index=e,t=new im(n),i.fragmentsToRender.push(i.fragments[e]=t)}),this.fragmentsToCreate.length=0):ji(this,e)&&(this.bubble(),this.rendered&&Al.addView(this)),this.value=e,this.updating=!1)}function Pi(e,t,n){if(t===Eu&&e.indexRefs&&e.indexRefs[0]){var i=e.indexRefs[0];(n&&"i"===i.t||!n&&"k"===i.t)&&(n||(e.length=0,e.fragmentsToUnrender=e.fragments.slice(0),e.fragmentsToUnrender.forEach(function(e){return e.unbind()}))),i.t=n?"k":"i"}e.currentSubtype=t}function ji(e,t){var n={template:e.template.f,root:e.root,pElement:e.parentFragment.pElement,owner:e};if(e.subtype)switch(e.subtype){case xu:return Ri(e,t,!1,n);case _u:return Ri(e,t,!0,n);case ku:return Vi(e,n);case Cu:return Ii(e,t,n);case Eu:if(d(t))return Pi(e,e.subtype,!0),Fi(e,t,n)}return e.ordered=!!s(t),e.ordered?(Pi(e,Eu,!1),Li(e,t,n)):d(t)||"function"==typeof t?e.template.i?(Pi(e,Eu,!0),Fi(e,t,n)):(Pi(e,ku,!1),Vi(e,n)):(Pi(e,xu,!1),Ri(e,t,!1,n))}function Li(e,t,n){var i,r,s;if(r=t.length,r===e.length)return!1;if(r<e.length)e.fragmentsToUnrender=e.fragments.splice(r,e.length-r),e.fragmentsToUnrender.forEach(H);else if(r>e.length)for(i=e.length;r>i;i+=1)n.context=e.keypath.join(i),n.index=i,s=new im(n),e.fragmentsToRender.push(e.fragments[i]=s);return e.length=r,!0}function Fi(e,t,n){var i,r,s,a,o,l;for(s=e.hasKey||(e.hasKey={}),r=e.fragments.length;r--;)a=e.fragments[r],a.key in t||(o=!0,a.unbind(),e.fragmentsToUnrender.push(a),e.fragments.splice(r,1),s[a.key]=!1);for(r=e.fragments.length;r--;)a=e.fragments[r],a.index!==r&&(a.index=r,(l=a.registeredIndexRefs)&&l.forEach(zi));r=e.fragments.length;for(i in t)s[i]||(o=!0,n.context=e.keypath.join(i),n.key=i,n.index=r++,a=new im(n),e.fragmentsToRender.push(a),e.fragments.push(a),s[i]=!0);return e.length=e.fragments.length,o}function Ii(e,t,n){return t?Vi(e,n):Mi(e)}function Vi(e,t){var n;return e.length?void 0:(t.context=e.keypath,t.index=0,n=new im(t),e.fragmentsToRender.push(e.fragments[0]=n),e.length=1,!0)}function Ri(e,t,n,i){var r,a,o,l,u;if(a=s(t)&&0===t.length,o=!1,!s(t)&&d(t)){o=!0;for(u in t){o=!1;break}}return r=n?a||o||!t:t&&!a&&!o,r?e.length?e.length>1?(e.fragmentsToUnrender=e.fragments.splice(1),e.fragmentsToUnrender.forEach(H),!0):void 0:(i.index=0,l=new im(i),e.fragmentsToRender.push(e.fragments[0]=l),e.length=1,!0):Mi(e)}function Mi(e){return e.length?(e.fragmentsToUnrender=e.fragments.splice(0,e.fragments.length).filter(Di),e.fragmentsToUnrender.forEach(H),e.length=e.fragmentsToRender.length=0,!0):void 0}function Di(e){return e.rendered}function zi(e){e.rebind("","")}function $i(e){var t,n,i;for(t="",n=0,i=this.length,n=0;i>n;n+=1)t+=this.fragments[n].toString(e);return t}function Wi(){var e=this;this.fragments.forEach(H),this.fragmentsToRender.forEach(function(t){return A(e.fragments,t)}),this.fragmentsToRender=[],ni.call(this),this.length=0,this.unbound=!0}function qi(e){this.fragments.forEach(e?Bi:Ui),this.renderedFragments=[],this.rendered=!1}function Bi(e){e.unrender(!0)}function Ui(e){e.unrender(!1)}function Hi(){var e,t,n,i,r,s,a;for(n=this.renderedFragments;e=this.fragmentsToUnrender.pop();)e.unrender(!0),n.splice(n.indexOf(e),1);for(;e=this.fragmentsToRender.shift();)e.render();for(this.rendered&&(r=this.parentFragment.getNode()),a=this.fragments.length,s=0;a>s;s+=1)e=this.fragments[s],t=n.indexOf(e,s),t!==s?(this.docFrag.appendChild(e.detach()),-1!==t&&n.splice(t,1),n.splice(s,0,e)):this.docFrag.childNodes.length&&(i=e.firstNode(),r.insertBefore(this.docFrag,i));this.rendered&&this.docFrag.childNodes.length&&(i=this.parentFragment.findNextNode(this),r.insertBefore(this.docFrag,i)),this.renderedFragments=this.fragments.slice()}function Qi(){var e,t;if(this.docFrag){for(e=this.nodes.length,t=0;e>t;t+=1)this.docFrag.appendChild(this.nodes[t]);return this.docFrag}}function Gi(e){var t,n,i,r;for(n=this.nodes.length,t=0;n>t;t+=1)if(i=this.nodes[t],1===i.nodeType){if(zo(i,e))return i;if(r=i.querySelector(e))return r}return null}function Ki(e,t){var n,i,r,s,a,o;for(i=this.nodes.length,n=0;i>n;n+=1)if(r=this.nodes[n],1===r.nodeType&&(zo(r,e)&&t.push(r),s=r.querySelectorAll(e)))for(a=s.length,o=0;a>o;o+=1)t.push(s[o])}function Zi(){return this.rendered&&this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)}function Ji(e){return Xh[e]||(Xh[e]=Do(e))}function Yi(e){var t,n,i;e&&"select"===e.name&&e.binding&&(t=T(e.node.options).filter(Xi),e.getAttribute("multiple")?i=t.map(function(e){return e.value}):(n=t[0])&&(i=n.value),void 0!==i&&e.binding.setValue(i),e.bubble())}function Xi(e){return e.selected}function er(){if(this.rendered)throw new Error("Attempted to render an item that was already rendered");return this.docFrag=document.createDocumentFragment(),this.nodes=ef(this.value,this.parentFragment.getNode(),this.docFrag),Yi(this.pElement),this.rendered=!0,this.docFrag}function tr(e){var t;(t=this.root.viewmodel.wrapped[this.keypath.str])&&(e=t.get()),e!==this.value&&(this.value=e,this.parentFragment.bubble(),this.rendered&&Al.addView(this))}function nr(){return void 0!=this.value?nn(""+this.value):""}function ir(e){this.rendered&&e&&(this.nodes.forEach(t),this.rendered=!1)}function rr(){var e,t;if(this.rendered){for(;this.nodes&&this.nodes.length;)e=this.nodes.pop(),e.parentNode.removeChild(e);t=this.parentFragment.getNode(),this.nodes=ef(this.value,t,this.docFrag),t.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),Yi(this.pElement)}}function sr(){var e,t=this.node;return t?((e=t.parentNode)&&e.removeChild(t),t):void 0}function ar(){return null}function or(){return this.node}function lr(e){return this.attributes&&this.attributes[e]?this.attributes[e].value:void 0}function dr(){var e=this.useProperty||!this.rendered?this.fragment.getValue():this.fragment.toString();o(e,this.value)||("id"===this.name&&this.value&&delete this.root.nodes[this.value],this.value=e,"value"===this.name&&this.node&&(this.node._ractive.value=e),this.rendered&&Al.addView(this))}function ur(e){var t=e.fragment.items;if(1===t.length)return t[0].type===Ud?t[0]:void 0}function cr(e){return this.type=eu,this.element=e.element,this.root=e.root,vf(this,e.name),this.isBoolean=bc.test(this.name),e.value&&"string"!=typeof e.value?(this.parentFragment=this.element.parentFragment,this.fragment=new im({template:e.value,root:this.root,owner:this}),this.value=this.fragment.getValue(),this.interpolator=ur(this),this.isBindable=!!this.interpolator&&!this.interpolator.isStatic,void(this.ready=!0)):void(this.value=this.isBoolean?!0:e.value||"")}function hr(e,t){this.fragment&&this.fragment.rebind(e,t)}function fr(e){var t;this.node=e,e.namespaceURI&&e.namespaceURI!==jo.html||(t=gf[this.name]||this.name,void 0!==e[t]&&(this.propertyName=t),(this.isBoolean||this.isTwoway)&&(this.useProperty=!0),"value"===t&&(e._ractive.value=this.value)),this.rendered=!0,this.update()}function pr(){var e=this,t=e.name,n=e.namespacePrefix,i=e.value,r=e.interpolator,s=e.fragment;return"value"===t&&("select"===this.element.name||"textarea"===this.element.name)||"value"===t&&void 0!==this.element.getAttribute("contenteditable")?void 0:"name"===t&&"input"===this.element.name&&r?"name={{"+(r.keypath.str||r.ref)+"}}":this.isBoolean?i?t:"":(s&&(i=s.toString()),n&&(t=n+":"+t),i?t+'="'+mr(i)+'"':t)}function mr(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function vr(){this.fragment&&this.fragment.unbind(),"id"===this.name&&delete this.root.nodes[this.value]}function gr(){var e,t,n,i,r=this.value;if(!this.locked)for(this.node._ractive.value=r,e=this.node.options,i=e.length;i--;)if(t=e[i],n=t._ractive?t._ractive.value:t.value,n==r){t.selected=!0;break}}function yr(){var e,t,n,i,s=this.value;for(r(s)||(s=[s]),e=this.node.options,t=e.length;t--;)n=e[t],i=n._ractive?n._ractive.value:n.value,n.selected=E(s,i)}function wr(){var e=this,t=e.node,n=e.value;t.checked=n==t._ractive.value}function br(){var e,t,n,i,r=this.node;if(e=r.checked,r.value=this.element.getAttribute("value"),r.checked=this.element.getAttribute("value")===this.element.getAttribute("name"),e&&!r.checked&&this.element.binding&&(n=this.element.binding.siblings,i=n.length)){for(;i--;){if(t=n[i],!t.element.node)return;
if(t.element.node.checked)return Al.addViewmodel(t.root.viewmodel),t.handleChange()}this.root.viewmodel.set(t.keypath,void 0)}}function xr(){var e,t,n=this,i=n.element,s=n.node,a=n.value,o=i.binding;if(e=i.getAttribute("value"),r(a)){for(t=a.length;t--;)if(e==a[t])return void(o.isChecked=s.checked=!0);o.isChecked=s.checked=!1}else o.isChecked=s.checked=a==e}function _r(){var e,t;e=this.node,t=this.value,void 0===t&&(t=""),e.className=t}function Er(){var e=this,t=e.node,n=e.value;this.root.nodes[n]=t,t.id=n}function kr(){var e,t;e=this.node,t=this.value,void 0===t&&(t=""),e.style.setAttribute("cssText",t)}function Cr(){var e=this.value;void 0===e&&(e=""),this.locked||(this.node.innerHTML=e)}function Sr(){var e=this,t=e.node,n=e.value;t._ractive.value=n,this.locked||(t.value=void 0==n?"":n)}function Ar(){this.locked||(this.node[this.propertyName]=this.value)}function Tr(){var e=this,t=e.node,n=e.namespace,i=e.name,r=e.value,s=e.fragment;n?t.setAttributeNS(n,i,(s||r).toString()):this.isBoolean?r?t.setAttribute(i,""):t.removeAttribute(i):t.setAttribute(i,(s||r).toString())}function Nr(){var e,t,n=this,i=n.name,r=n.element,s=n.node;"id"===i?t=Er:"value"===i?"select"===r.name&&"value"===i?t=r.getAttribute("multiple")?yr:gr:"textarea"===r.name?t=Sr:null!=r.getAttribute("contenteditable")?t=Cr:"input"===r.name&&(e=r.getAttribute("type"),t="file"===e?il:"radio"===e&&r.binding&&"name"===r.binding.name?br:Sr):this.isTwoway&&"name"===i?"radio"===s.type?t=wr:"checkbox"===s.type&&(t=xr):"style"===i&&s.style.setAttribute?t=kr:"class"!==i||s.namespaceURI&&s.namespaceURI!==jo.html?this.useProperty&&(t=Ar):t=_r,t||(t=Tr),this.update=t,this.update()}function Or(e,t){var n=t?"svg":"div";return wf.innerHTML="<"+n+" "+e+"></"+n+">",T(wf.childNodes[0].attributes)}function Pr(e,t){for(var n=e.length;n--;)if(e[n].name===t.name)return!1;return!0}function jr(e){for(;e=e.parent;)if("form"===e.name)return e}function Lr(){this._ractive.binding.handleChange()}function Fr(e,t,n){var i=e+t+n;return Af[i]||(Af[i]=[])}function Ir(e){return e.isChecked}function Vr(e){return e.element.getAttribute("value")}function Rr(){var e;Lr.call(this),e=this._ractive.root.viewmodel.get(this._ractive.binding.keypath),this.value=void 0==e?"":e}function Mr(){var e=this._ractive.binding,t=this;e._timeout&&clearTimeout(e._timeout),e._timeout=setTimeout(function(){e.rendered&&Lr.call(t),e._timeout=void 0},e.element.lazy)}function Dr(e){var t,n,i,r,s,a=e.attributes;return e.binding&&(e.binding.teardown(),e.binding=null),(e.getAttribute("contenteditable")||a.contenteditable&&zr(a.contenteditable))&&zr(a.value)?n=Sf:"input"===e.name?(t=e.getAttribute("type"),"radio"===t||"checkbox"===t?(i=zr(a.name),r=zr(a.checked),i&&r&&p("A radio input can have two-way binding on its name attribute, or its checked attribute - not both"),i?n="radio"===t?Nf:Of:r&&(n="radio"===t?Tf:Pf)):"file"===t&&zr(a.value)?n=Ff:zr(a.value)&&(n="number"===t||"range"===t?If:kf)):"select"===e.name&&zr(a.value)?n=e.getAttribute("multiple")?Lf:jf:"textarea"===e.name&&zr(a.value)&&(n=kf),n&&(s=new n(e))&&s.keypath?s:void 0}function zr(e){return e&&e.isBindable}function $r(){var e=this.getAction();e&&!this.hasListener?this.listen():!e&&this.hasListener&&this.unrender()}function Wr(e){ht(this.root,this.getAction(),{event:e})}function qr(){return this.action.toString().trim()}function Br(e,t,n){var i,r,s,a=this;this.element=e,this.root=e.root,this.parentFragment=e.parentFragment,this.name=t,-1!==t.indexOf("*")&&((this.root.debug?f:p)('Only component proxy-events may contain "*" wildcards, <%s on-%s="..."/> is not valid',e.name,t),this.invalid=!0),n.m?(r=n.a.r,this.method=n.m,this.keypaths=[],this.fn=oi(n.a.s,r.length),this.parentFragment=e.parentFragment,s=this.root,this.refResolvers=[],r.forEach(function(e,t){var n=void 0;(n=Vf.exec(e))?a.keypaths[t]={eventObject:!0,refinements:n[1]?n[1].split("."):[]}:a.refResolvers.push(ai(a,e,function(e){return a.resolve(t,e)}))}),this.fire=Ur):(i=n.n||n,"string"!=typeof i&&(i=new im({template:i,root:this.root,owner:this})),this.action=i,n.d?(this.dynamicParams=new im({template:n.d,root:this.root,owner:this.element}),this.fire=Qr):n.a&&(this.params=n.a,this.fire=Hr))}function Ur(e){var t,n,i;if(t=this.root,"function"!=typeof t[this.method])throw new Error('Attempted to call a non-existent method ("'+this.method+'")');n=this.keypaths.map(function(n){var i,r,s;if(void 0===n)return void 0;if(n.eventObject){if(i=e,r=n.refinements.length)for(s=0;r>s;s+=1)i=i[n.refinements[s]]}else i=t.viewmodel.get(n);return i}),ql.enqueue(t,e),i=this.fn.apply(null,n),t[this.method].apply(t,i),ql.dequeue(t)}function Hr(e){ht(this.root,this.getAction(),{event:e,args:this.params})}function Qr(e){var t=this.dynamicParams.getArgsList();"string"==typeof t&&(t=t.substr(1,t.length-2)),ht(this.root,this.getAction(),{event:e,args:t})}function Gr(e){var t,n,i,r={};t=this._ractive,n=t.events[e.type],(i=si(n.element.parentFragment))&&(r=si.resolve(i)),n.fire({node:this,original:e,index:r,keypath:t.keypath.str,context:t.root.viewmodel.get(t.keypath)})}function Kr(){var e,t=this.name;if(!this.invalid){if(e=v("events",this.root,t))this.custom=e(this.node,Zr(t));else{if(!("on"+t in this.node||window&&"on"+t in window))return void(Mf[t]||m(ll(t,"event")));this.node.addEventListener(t,Gr,!1)}this.hasListener=!0}}function Zr(e){return Rf[e]||(Rf[e]=function(t){var n=t.node._ractive;t.index=n.index,t.keypath=n.keypath.str,t.context=n.root.viewmodel.get(n.keypath),n.events[e].fire(t)}),Rf[e]}function Jr(e,t){var n,i=function(n){n&&n.rebind(e,t)};return this.method?(n=this.element.parentFragment,void this.refResolvers.forEach(i)):("string"!=typeof this.action&&i(this.action),void(this.dynamicParams&&i(this.dynamicParams)))}function Yr(){this.node=this.element.node,this.node._ractive.events[this.name]=this,(this.method||this.getAction())&&this.listen()}function Xr(e,t){this.keypaths[e]=t}function es(){return this.method?void this.refResolvers.forEach(H):("string"!=typeof this.action&&this.action.unbind(),void(this.dynamicParams&&this.dynamicParams.unbind()))}function ts(){this.custom?this.custom.teardown():this.node.removeEventListener(this.name,Gr,!1),this.hasListener=!1}function ns(){var e=this;this.dirty||(this.dirty=!0,Al.scheduleTask(function(){is(e),e.dirty=!1})),this.parentFragment.bubble()}function is(e){var t,n,i,r,s;t=e.node,t&&(r=T(t.options),n=e.getAttribute("value"),i=e.getAttribute("multiple"),void 0!==n?(r.forEach(function(e){var t,r;t=e._ractive?e._ractive.value:e.value,r=i?rs(n,t):n==t,r&&(s=!0),e.selected=r}),s||(r[0]&&(r[0].selected=!0),e.binding&&e.binding.forceUpdate())):e.binding&&e.binding.forceUpdate())}function rs(e,t){for(var n=e.length;n--;)if(e[n]==t)return!0}function ss(e,t){e.select=os(e.parent),e.select&&(e.select.options.push(e),t.a||(t.a={}),void 0!==t.a.value||t.a.hasOwnProperty("disabled")||(t.a.value=t.f),"selected"in t.a&&void 0!==e.select.getAttribute("value")&&delete t.a.selected)}function as(e){e.select&&A(e.select.options,e)}function os(e){if(e)do if("select"===e.name)return e;while(e=e.parent)}function ls(e){var t,n,i,r,s,a,o;this.type=Zd,t=this.parentFragment=e.parentFragment,n=this.template=e.template,this.parent=e.pElement||t.pElement,this.root=i=t.root,this.index=e.index,this.key=e.key,this.name=mf(n.e),"option"===this.name&&ss(this,n),"select"===this.name&&(this.options=[],this.bubble=ns),"form"===this.name&&(this.formBindings=[]),o=pf(this,n),this.attributes=bf(this,n.a),this.conditionalAttributes=_f(this,n.m),n.f&&(this.fragment=new im({template:n.f,root:i,owner:this,pElement:this})),a=i.twoway,o.twoway===!1?a=!1:o.twoway===!0&&(a=!0),this.twoway=a,this.lazy=o.lazy,a&&(r=Dr(this,n.a))&&(this.binding=r,s=this.root._twowayBindings[r.keypath.str]||(this.root._twowayBindings[r.keypath.str]=[]),s.push(r)),n.v&&(this.eventHandlers=zf(this,n.v)),n.o&&(this.decorator=new $f(this,n.o)),this.intro=n.t0||n.t1,this.outro=n.t0||n.t2}function ds(e,t){var n,i,r,s,a=function(n){n.rebind(e,t)};if(this.attributes&&this.attributes.forEach(a),this.conditionalAttributes&&this.conditionalAttributes.forEach(a),this.eventHandlers&&this.eventHandlers.forEach(a),this.decorator&&a(this.decorator),this.fragment&&a(this.fragment),r=this.liveQueries)for(s=this.root,n=r.length;n--;)r[n]._makeDirty();this.node&&(i=this.node._ractive)&&F(i,"keypath",e,t)}function us(e){var t;(e.attributes.width||e.attributes.height)&&e.node.addEventListener("load",t=function(){var n=e.getAttribute("width"),i=e.getAttribute("height");void 0!==n&&e.node.setAttribute("width",n),void 0!==i&&e.node.setAttribute("height",i),e.node.removeEventListener("load",t,!1)},!1)}function cs(e){e.node.addEventListener("reset",fs,!1)}function hs(e){e.node.removeEventListener("reset",fs,!1)}function fs(){var e=this._ractive.proxy;Al.start(),e.formBindings.forEach(ps),Al.end()}function ps(e){e.root.viewmodel.set(e.keypath,e.resetValue)}function ms(e,t,n){var i,r,s;this.element=e,this.root=i=e.root,this.isIntro=n,r=t.n||t,("string"==typeof r||(s=new im({template:r,root:i,owner:e}),r=s.toString(),s.unbind(),""!==r))&&(this.name=r,t.a?this.params=t.a:t.d&&(s=new im({template:t.d,root:i,owner:e}),this.params=s.getArgsList(),s.unbind()),this._fn=v("transitions",i,r),this._fn||m(ll(r,"transition")))}function vs(e){return e}function gs(){mp.hidden=document[cp]}function ys(){mp.hidden=!0}function ws(){mp.hidden=!1}function bs(){var e,t,n,i=this;return e=this.node=this.element.node,t=e.getAttribute("style"),this.complete=function(r){n||(!r&&i.isIntro&&xs(e,t),e._ractive.transition=null,i._manager.remove(i),n=!0)},this._fn?void this._fn.apply(this.root,[this].concat(this.params)):void this.complete()}function xs(e,t){t?e.setAttribute("style",t):(e.getAttribute("style"),e.removeAttribute("style"))}function _s(){var e,t,n,i=this,r=this.root;return e=Es(this),t=this.node=Do(this.name,e),r.constructor.css&&this.parentFragment.getNode()===r.el&&this.node.setAttribute("data-ractive-css",r.constructor._guid),Ko(this.node,"_ractive",{value:{proxy:this,keypath:kl(this.parentFragment),events:Go(null),root:r}}),this.attributes.forEach(function(e){return e.render(t)}),this.conditionalAttributes.forEach(function(e){return e.render(t)}),this.fragment&&("script"===this.name?(this.bubble=_p,this.node.text=this.fragment.toString(!1),this.fragment.unrender=il):"style"===this.name?(this.bubble=xp,this.bubble(),this.fragment.unrender=il):this.binding&&this.getAttribute("contenteditable")?this.fragment.unrender=il:this.node.appendChild(this.fragment.render())),this.eventHandlers&&this.eventHandlers.forEach(function(e){return e.render()}),this.binding&&(this.binding.render(),this.node._ractive.binding=this.binding),"option"===this.name&&ks(this),"img"===this.name?us(this):"form"===this.name?cs(this):"input"===this.name||"textarea"===this.name?this.node.defaultValue=this.node.value:"option"===this.name&&(this.node.defaultSelected=this.node.selected),this.decorator&&this.decorator.fn&&Al.scheduleTask(function(){i.decorator.torndown||i.decorator.init()},!0),r.transitionsEnabled&&this.intro&&(n=new bp(this,this.intro,!0),Al.registerTransition(n),Al.scheduleTask(function(){return n.start()},!0),this.transition=n),this.node.autofocus&&Al.scheduleTask(function(){return i.node.focus()},!0),Cs(this),this.node}function Es(e){var t,n,i;return t=(n=e.getAttribute("xmlns"))?n:"svg"===e.name?jo.svg:(i=e.parent)?"foreignObject"===i.name?jo.html:i.node.namespaceURI:e.root.el.namespaceURI}function ks(e){var t,n,i;if(e.select&&(n=e.select.getAttribute("value"),void 0!==n))if(t=e.getAttribute("value"),e.select.node.multiple&&r(n)){for(i=n.length;i--;)if(t==n[i]){e.node.selected=!0;break}}else e.node.selected=t==n}function Cs(e){var t,n,i,r,s;t=e.root;do for(n=t._liveQueries,i=n.length;i--;)r=n[i],s=n["_"+r],s._test(e)&&(e.liveQueries||(e.liveQueries=[])).push(s);while(t=t.parent)}function Ss(e){var t,n,i;if(t=e.getAttribute("value"),void 0===t||!e.select)return!1;if(n=e.select.getAttribute("value"),n==t)return!0;if(e.select.getAttribute("multiple")&&r(n))for(i=n.length;i--;)if(n[i]==t)return!0}function As(e){var t,n,i,r;return t=e.attributes,n=t.type,i=t.value,r=t.name,n&&"radio"===n.value&&i&&r.interpolator&&i.value===r.interpolator.value?!0:void 0}function Ts(e){var t=e.toString();return t?" "+t:""}function Ns(){this.fragment&&this.fragment.unbind(),this.binding&&this.binding.unbind(),this.eventHandlers&&this.eventHandlers.forEach(H),"option"===this.name&&as(this),this.attributes.forEach(H),this.conditionalAttributes.forEach(H)}function Os(e){var t,n,i;(i=this.transition)&&i.complete(),"option"===this.name?this.detach():e&&Al.detachWhenReady(this),this.fragment&&this.fragment.unrender(!1),(t=this.binding)&&(this.binding.unrender(),this.node._ractive.binding=null,n=this.root._twowayBindings[t.keypath.str],n.splice(n.indexOf(t),1)),this.eventHandlers&&this.eventHandlers.forEach(Q),this.decorator&&Al.registerDecorator(this.decorator),this.root.transitionsEnabled&&this.outro&&(i=new bp(this,this.outro,!1),Al.registerTransition(i),Al.scheduleTask(function(){return i.start()})),this.liveQueries&&Ps(this),"form"===this.name&&hs(this)}function Ps(e){var t,n,i;for(i=e.liveQueries.length;i--;)t=e.liveQueries[i],n=t.selector,t._remove(e.node)}function js(e,t){var n=Sp.exec(t)[0];return null===e||n.length<e.length?n:e}function Ls(e,t){var n;if(n=Fs(e,t))return n;if(n=Th.fromId(t,{noThrow:!0})){n=Ap(n);var i=Th.parse(n,Th.getParseOptions(e));return e.partials[t]=i.t}}function Fs(e,t){var n=g("partials",e,t);if(n){var i=n.partials[t],r=void 0;if("function"==typeof i&&(r=i.bind(n),r.isOwner=n.partials.hasOwnProperty(t),i=r(n.data,Th)),!i&&""!==i)return void p(ol,t,"partial","partial");if(!Th.isParsed(i)){var s=Th.parse(i,Th.getParseOptions(n));s.p&&p("Partials ({{>%s}}) cannot contain nested inline partials",t);var a=r?n:Is(n,t);a.partials[t]=i=s.t}return r&&(i._fn=r),i.v?i.t:i}}function Is(e,t){return e.partials.hasOwnProperty(t)?e:Vs(e.constructor,t)}function Vs(e,t){return e?e.partials.hasOwnProperty(t)?e:Vs(e._Parent,t):void 0}function Rs(e,t){var n,i=g("components",e,t);if(i&&(n=i.components[t],!n._Parent)){var r=n.bind(i);if(r.isOwner=i.components.hasOwnProperty(t),n=r(i.data),!n)return void(e.debug&&p(ol,t,"component","component"));"string"==typeof n&&(n=Rs(e,n)),n._fn=r,i.components[t]=n}return n}function Ms(){var e=this.instance.fragment.detach();return Op.fire(this.instance),e}function Ds(e){return this.instance.fragment.find(e)}function zs(e,t){return this.instance.fragment.findAll(e,t)}function $s(e,t){t._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(e,t)}function Ws(e){return e&&e!==this.name?this.instance.fragment?this.instance.fragment.findComponent(e):null:this.instance}function qs(){return this.parentFragment.findNextNode(this)}function Bs(){return this.rendered?this.instance.fragment.firstNode():null}function Us(e,t){var n,i,r,s,a=this.ractive;for(n=a.adapt.length,i=0;n>i;i+=1)if(r=a.adapt[i],r.filter(t,e,a))return s=this.wrapped[e]=r.wrap(a,t,e,Qs(e)),s.value=t,t;return t}function Hs(e,t){var n,i={};if(!t)return e;t+=".";for(n in e)e.hasOwnProperty(n)&&(i[t+n]=e[n]);return i}function Qs(e){var t;return Pp[e]||(t=e?e+".":"",Pp[e]=function(n,i){var r;return"string"==typeof n?(r={},r[t+n]=i,r):"object"==typeof n?t?Hs(n,e):n:void 0}),Pp[e]}function Gs(e){var t,n,i=[El];for(t=e.length;t--;)for(n=e[t].parent;n&&!n.isRoot;)_(i,n),n=n.parent;return i}function Ks(e,t,n){var i;Js(e,t),n||(i=t.wildcardMatches(),i.forEach(function(n){Zs(e,n,t)}))}function Zs(e,t,n){var i,r,s;t=t.str||t,i=e.depsMap.patternObservers,r=i&&i[t],r&&r.forEach(function(t){s=n.join(t.lastKey),Js(e,s),Zs(e,t,s)})}function Js(e,t){e.patternObservers.forEach(function(e){e.regex.test(t.str)&&e.update(t)})}function Ys(){var e,t,n,i=this,r=function(t){var n,i;s.noCascade.hasOwnProperty(t.str)||((i=s.deps.computed[t.str])&&i.forEach(function(t){var n=t.key;t.viewmodel===s?(s.clearCache(n.str),t.invalidate(),e.push(n),r(n)):t.viewmodel.mark(n)}),(n=s.depsMap.computed[t.str])&&n.forEach(r))},s=this,a={};return e=this.changes,e.length?(e.slice().forEach(r),t=Gs(e),t.forEach(function(t){var n;-1===e.indexOf(t)&&(n=s.deps.computed[t.str])&&(i.changes.push(t),n.forEach(function(e){e.viewmodel.mark(e.key)}))}),this.changes=[],this.patternObservers.length&&(t.forEach(function(e){return Ks(i,e,!0)}),e.forEach(function(e){return Ks(i,e)})),this.deps.observers&&(t.forEach(function(e){return Xs(i,null,e,"observers")}),ta(this,e,"observers")),this.deps["default"]&&(n=[],t.forEach(function(e){return Xs(i,n,e,"default")}),n.length&&ea(this,n,e),ta(this,e,"default")),e.forEach(function(e){a[e.str]=i.get(e)}),this.implicitChanges={},this.noCascade={},a):void 0}function Xs(e,t,n,i){var r,s;(r=na(e,n,i))&&(s=e.get(n),r.forEach(function(e){t&&e.refineValue?t.push(e):e.setValue(s)}))}function ea(e,t,n){t.forEach(function(t){for(var i=!1,r=0,s=n.length,a=[];s>r;){var o=n[r];if(o===t.keypath){i=!0;break}o.slice(0,t.keypath.length)===t.keypath&&a.push(o),r++}i&&t.setValue(e.get(t.keypath)),a.length&&t.refineValue(a)})}function ta(e,t,n){var i=function(e){e.forEach(r),e.forEach(s)},r=function(t){var i=na(e,t,n);i&&o.push({keypath:t,deps:i})},s=function(t){var r;(r=e.depsMap[n][t.str])&&i(r)},a=function(t){var n=e.get(t.keypath);t.deps.forEach(function(e){return e.setValue(n)})},o=[];i(t),o.forEach(a)}function na(e,t,n){var i=e.deps[n];return i?i[t.str]:null}function ia(){this.captureGroups.push([])}function ra(e,t){var n,i;if(t||(i=this.wrapped[e])&&i.teardown()!==!1&&(this.wrapped[e]=null),this.cache[e]=void 0,n=this.cacheMap[e])for(;n.length;)this.clearCache(n.pop())}function sa(e){var t="var __ractive=this;return("+e.replace(jp,function(e,t){return'__ractive.get("'+t+'")'})+")";return new Function(t)}function aa(e,t){var n=t.firstKey;return!(n in e.ractive.data||n in e.computations||n in e.mappings)}function oa(e,t){return t=Lp(t),this.computations[e.str]=new Ip(this.ractive,e,t)}function la(e,t){var n,i,r,s,a,o=this.ractive,l=this.cache,d=e.str;return t=t||Rp,t.capture&&(a=S(this.captureGroups))&&(~a.indexOf(e)||a.push(e)),(n=this.mappings[e.firstKey])?n.get(e,t):e.isSpecial?e.value:(void 0===l[d]?((r=this.computations[d])&&!r.bypass?(i=r.get(),this.adapt(d,i)):(s=this.wrapped[d])?i=s.value:e.isRoot?(this.adapt("",o.data),i=o.data):i=da(this,e),l[d]=i):i=l[d],!t.noUnwrap&&(s=this.wrapped[d])&&(i=s.get()),i===Vp?void 0:i)}function da(e,t){var n,i,r,s;return n=e.get(t.parent),(s=e.wrapped[t.parent.str])&&(n=s.get()),null!==n&&void 0!==n?((i=e.cacheMap[t.parent.str])?-1===i.indexOf(t.str)&&i.push(t.str):e.cacheMap[t.parent.str]=[t.str],"object"!=typeof n||t.lastKey in n?(r=n[t.lastKey],e.adapt(t.str,r,!1),e.cache[t.str]=r,r):e.cache[t.str]=Vp):void 0}function ua(){var e,t,n=[];for(e in this.ractive.computed)t=this.compute(V(e),this.ractive.computed[e]),n.push(t),e in this.mappings&&f("Cannot map to a computed property ('%s')",e);n.forEach(ca)}function ca(e){e.init()}function ha(e,t){this.keypath=e,this.viewmodel=t}function fa(e,t){this.localKey=e,this.keypath=t.keypath,this.origin=t.origin,t.force&&(this.force=t.force),this.deps=[],this.unresolved=[],this.trackData=t.trackData,this.resolved=!1}function pa(e,t){var n=this.mappings[e.str]=new fa(e,t);return n.initViewmodel(this),n}function ma(e,t){var n,i=e.str;Al.addViewmodel(this),t&&(t.implicit&&(this.implicitChanges[i]=!0),t.noCascade&&(this.noCascade[i]=!0)),(n=this.computations[i])&&n.invalidate(),-1===this.changes.indexOf(e)&&this.changes.push(e);var r=t?t.keepExistingWrapper:!1;this.clearCache(i,r)}function va(e,t,n,i){var r,s,a,o;if(this.mark(e),i&&i.compare){a=ya(i.compare);try{r=t.map(a),s=n.map(a)}catch(l){if(this.debug)throw l;p("Merge operation: comparison failed. Falling back to identity checking"),r=t,s=n}}else r=t,s=n;o=Mp(r,s),this.smartUpdate(e,n,o,t.length!==n.length)}function ga(e){return JSON.stringify(e)}function ya(e){if(e===!0)return ga;if("string"==typeof e)return Dp[e]||(Dp[e]=function(t){return t[e]}),Dp[e];if("function"==typeof e)return e;throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}function wa(e,t){var n,i,r,s=void 0===arguments[2]?"default":arguments[2];t.isStatic||((n=this.mappings[e.firstKey])?n.register(e,t,s):(i=this.deps[s]||(this.deps[s]={}),r=i[e.str]||(i[e.str]=[]),r.push(t),e.isRoot||ba(this,e,s)))}function ba(e,t,n){for(var i,r,s;!t.isRoot;)i=e.depsMap[n]||(e.depsMap[n]={}),r=i[t.parent.str]||(i[t.parent.str]=[]),s=t.str,void 0===r["_"+s]&&(r["_"+s]=0,r.push(t)),r["_"+s]+=1,t=t.parent}function xa(){return this.captureGroups.pop()}function _a(e,t){var n,i,r,s,a=void 0===arguments[2]?{}:arguments[2];if(!a.noMapping&&(n=this.mappings[e.firstKey]))return n.set(e,t);if(i=this.computations[e.str]){if(i.setting)return;i.set(t),t=i.get()}o(this.cache[e.str],t)||(r=this.wrapped[e.str],r&&r.reset&&(s=r.reset(t)!==!1,s&&(t=r.get())),i||s||Ea(this,e,t),a.silent?this.clearCache(e.str):this.mark(e))}function Ea(e,t,n){var i,r,s,a;s=function(){i.set?i.set(t.lastKey,n):(r=i.get(),a())},a=function(){r||(r=Nd(t.lastKey),e.set(t.parent,r,{silent:!0})),r[t.lastKey]=n},i=e.wrapped[t.parent.str],i?s():(r=e.get(t.parent),(i=e.wrapped[t.parent.str])?s():a())}function ka(e,t,n){var i,r,s,a=this;if(r=n.length,n.forEach(function(t,n){-1===t&&a.mark(e.join(n),$p)}),this.set(e,t,{silent:!0}),(i=this.deps["default"][e.str])&&i.filter(Ca).forEach(function(e){return e.shuffle(n,t)}),r!==t.length){for(this.mark(e.join("length"),zp),s=r;s<t.length;s+=1)this.mark(e.join(s));for(s=t.length;r>s;s+=1)this.mark(e.join(s),$p)}}function Ca(e){return"function"==typeof e.shuffle}function Sa(){var e,t=this;for(Object.keys(this.cache).forEach(function(e){return t.clearCache(e)});e=this.unresolvedImplicitDependencies.pop();)e.teardown()}function Aa(e,t){var n,i,r,s=void 0===arguments[2]?"default":arguments[2];if(!t.isStatic){if(n=this.mappings[e.firstKey])return n.unregister(e,t,s);if(i=this.deps[s][e.str],r=i.indexOf(t),-1===r)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");i.splice(r,1),e.isRoot||Ta(this,e,s)}}function Ta(e,t,n){for(var i,r;!t.isRoot;)i=e.depsMap[n],r=i[t.parent.str],r["_"+t.str]-=1,r["_"+t.str]||(A(r,t),r["_"+t.str]=void 0),t=t.parent}function Na(e){this.hook=new x(e),this.inProcess={},this.queue={}}function Oa(e,t){return e[t._guid]||(e[t._guid]=[])}function Pa(e,t){var n=Oa(e.queue,t);for(e.hook.fire(t);n.length;)Pa(e,n.shift());delete e.queue[t._guid]}function ja(t){var n,i=void 0===arguments[1]?{}:arguments[1],r=void 0===arguments[2]?{}:arguments[2];if(La(t,r),qp.fire(Oh.getConstructTarget(t,i),i),Oh.init(t.constructor,t,i),t.magic&&!Po)throw new Error("Getters and setters (magic mode) are not supported in this browser");Bp.fire(t),Up.begin(t),t.viewmodel=new Wp(t,r.mappings),t.viewmodel.init(),t.template&&(t.fragment=new im({template:t.template,root:t,owner:t})),Up.end(t),(n=e(t.el))&&t.render(n,t.append)}function La(e,t){e._guid="r-"+Hp++,e._subs=Go(null),e._config={},e._twowayBindings=Go(null),e._animations=[],e.nodes={},e._liveQueries=[],e._liveComponentQueries=[],e._boundFunctions=[],t.component?(e.parent=t.parent,e.container=t.container||null,e.root=e.parent.root,e.component=t.component,t.component.instance=e,e._inlinePartials=t.inlinePartials):(e.root=e,e.parent=e.container=null)}function Fa(e,t,n){this.parameters=e,this.parentFragment=e.component.parentFragment,this.key=t,this.fragment=new im({template:n,root:e.component.root,owner:this}),this.parameters.addData(this.key.str,this.fragment.getValue())}function Ia(e,t){return t.parameters?Po&&"legacy"!==t.parameters?Ra(e,t):Va(e):e.data}function Va(e){var t,n=e.mappings;for(t in n){var i=n[t];i.trackData=!0,i.updatable||e.addData(t,i.getValue())}return e.data}function Ra(e,t){var n=Ma(e,t);return new n(e)}function Ma(e,t){var n=t._parameters;return(!n.Constructor||e.newKeys.length)&&(n.Constructor=Da(e,n.defined)),n.Constructor}function Da(e,t){var n,i,r=function(e){this._mappings=e.mappings,this._data=e.data||{}};return n=e.keys.reduce(function(e,t){return e[t]={get:function(){var e=this._mappings[t];return e?e.getValue():this._data[t]},set:function(e){var n=this._mappings[t];n?(Al.start(),n.setValue(e),Al.end()):this._data[t]=e},enumerable:!0},e},t),Zo(i={toJSON:za},n),i.constructor=r,r.prototype=i,r}function za(){var e,t={};for(e in this)-1===Kp.indexOf(e)&&(t[e]=this[e]);return t}function $a(e,t,n){var i,r,s;this.parameters=e,this.key=t,this.resolved=this.ready=!1,i=e.component,r=this.resolve.bind(this),n.r?this.resolver=ai(i,n.r,r):n.x?this.resolver=new Wh(i,i.parentFragment,n.x,r):n.rx&&(this.resolver=new Hh(i,n.rx,r)),this.resolved||(this.resolver&&u(this.resolver.forceResolution)&&(s=this.resolver.forceResolution.bind(this.resolver)),e.addMapping(t,void 0,s)),this.ready=!0}function Wa(e,t,n){var i,r,s;return n?(t.parameters&&(s=qa(t)),i=new Ba(e,n,s),r=Ia(i,t),{data:r,mappings:i.mappings}):{data:{}}}function qa(e){return e._parameters?e._parameters.defined||(e._parameters.defined={}):e._parameters={defined:{}},e._parameters.defined}function Ba(e,t,n){var i=this;this.component=e,this.parentViewmodel=e.root.viewmodel,this.data={},this.mappings=Go(null),this.newKeys=[],this.keys=Object.keys(t),this.keys.forEach(function(e){n&&!n[e]&&i.newKeys.push(e),i.add(V(e),t[e])})}function Ua(e){return 1===e.length&&e[0].t===Ud}function Ha(e,t){var n;for(n in t)t.hasOwnProperty(n)&&Qa(e.instance,e.root,n,t[n])}function Qa(e,t,n,i){"string"!=typeof i&&p("Components currently only support simple events - you cannot include arguments. Sorry!"),e.on(n,function(){var e,n;return arguments.length&&arguments[0]&&arguments[0].node&&(e=Array.prototype.shift.call(arguments)),n=Array.prototype.slice.call(arguments),ht(t,i,{event:e,args:n}),!1})}function Ga(e,t){var n,i,r;if(!t)throw new Error('Component "'+this.name+'" not found');n=this.parentFragment=e.parentFragment,i=n.root,this.root=i,this.type=nu,this.name=e.template.e,this.index=e.index,this.indexRefBindings={},this.yielders={},this.resolvers=[],r=Wa(this,t.prototype,e.template.a),Gp(this,t,r,e.template.f,e.template.p),Ha(this,e.template.v),(e.template.t1||e.template.t2||e.template.o)&&p('The "intro", "outro" and "decorator" directives have no effect on components'),Zp(this)}function Ka(e,t){var n,i=function(n){n.rebind(e,t)};this.resolvers.forEach(i);for(var r in this.yielders)this.yielders[r][0]&&i(this.yielders[r][0]);(n=this.root._liveComponentQueries["_"+this.name])&&n._makeDirty()}function Za(){var e=this.instance;return e.render(this.parentFragment.getNode()),this.rendered=!0,e.fragment.detach()}function Ja(){return this.instance.fragment.toString()}function Ya(){var e=this.instance;this.resolvers.forEach(H),Xa(this),e.fragment.unbind(),e.viewmodel.teardown(),e.fragment.rendered&&e.el.__ractive_instances__&&A(e.el.__ractive_instances__,e),Jp.fire(e)}function Xa(e){var t,n;t=e.root;do(n=t._liveComponentQueries["_"+e.name])&&n._remove(e);while(t=t.parent)}function eo(e){this.shouldDestroy=e,this.instance.unrender()}function to(e){var t=this;this.owner=e.owner,this.parent=this.owner.parentFragment,this.root=e.root,this.pElement=e.pElement,this.context=e.context,this.index=e.index,this.key=e.key,this.registeredIndexRefs=[],this.items=e.template.map(function(n,i){return no({parentFragment:t,pElement:e.pElement,template:n,index:i})}),this.value=this.argsList=null,this.dirtyArgs=this.dirtyValue=!0,this.bound=!0}function no(e){if("string"==typeof e.template)return new Rh(e);switch(e.template.t){case Ud:return"yield"===e.template.r?new tm(e):new Gh(e);case Qd:return new Zh(e);case Hd:return new tf(e);case Zd:var t=void 0;return(t=Rs(e.parentFragment.root,e.template.e))?new Xp(e,t):new kp(e);case Jd:return new Np(e);case Yd:return new em(e);case su:return new nm(e);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!")}}function io(e,t){F(this,"context",e,t),this.items.forEach(function(n){n.rebind&&n.rebind(e,t)})}function ro(){var e;return 1===this.items.length?e=this.items[0].render():(e=document.createDocumentFragment(),this.items.forEach(function(t){e.appendChild(t.render())})),this.rendered=!0,e}function so(e){return this.items?this.items.map(e?oo:ao).join(""):""}function ao(e){return e.toString()}function oo(e){return e.toString(!0)}function lo(){this.bound&&(this.items.forEach(uo),this.bound=!1)}function uo(e){e.unbind&&e.unbind()}function co(e){if(!this.rendered)throw new Error("Attempted to unrender a fragment that was not rendered");this.items.forEach(function(t){return t.unrender(e)}),this.rendered=!1}function ho(e){var t,n,i,r,s;if(e=e||{},"object"!=typeof e)throw new Error("The reset method takes either no arguments, or an object containing new data");for((n=this.viewmodel.wrapped[""])&&n.reset?n.reset(e)===!1&&(this.data=e):this.data=e,i=Oh.reset(this),r=i.length;r--;)if(am.indexOf(i[r])>-1){s=!0;break}if(s){var a=void 0;this.viewmodel.mark(El),(a=this.component)&&(a.shouldDestroy=!0),this.unrender(),a&&(a.shouldDestroy=!1),this.fragment.template!==this.template&&(this.fragment.unbind(),this.fragment=new im({template:this.template,root:this,owner:this})),t=this.render(this.el,this.anchor)}else t=Al.start(this,!0),this.viewmodel.mark(El),Al.end();return om.fire(this,e),t}function fo(e){var t,n;Nh.init(null,this,{template:e}),t=this.transitionsEnabled,this.transitionsEnabled=!1,(n=this.component)&&(n.shouldDestroy=!0),this.unrender(),n&&(n.shouldDestroy=!1),this.fragment.unbind(),this.fragment=new im({template:this.template,root:this,owner:this}),this.render(this.el,this.anchor),this.transitionsEnabled=t}function po(e,t){var n,i,r=this;if(i=Al.start(this,!0),d(e)){n=e;for(e in n)n.hasOwnProperty(e)&&(t=n[e],e=V(D(e)),this.viewmodel.set(e,t))}else e=V(D(e)),um.test(e.str)?R(this,e.str).forEach(function(e){r.viewmodel.set(e,t)}):this.viewmodel.set(e,t);return Al.end(),i}function mo(e,t){return w(this,e,void 0===t?-1:-t)}function vo(){var e;return this.fragment.unbind(),this.viewmodel.teardown(),this.fragment.rendered&&this.el.__ractive_instances__&&A(this.el.__ractive_instances__,this),this.shouldDestroy=!0,e=this.fragment.rendered?this.unrender():xl.resolve(),pm.fire(this),this._boundFunctions.forEach(go),e}function go(e){delete e.fn[e.prop]}function yo(e){if("string"!=typeof e)throw new TypeError(al);return this.set(e,!this.get(e))}function wo(){return this.fragment.toString(!0)}function bo(){var e,t,n=this;if(!this.fragment.rendered)return p("ractive.unrender() was called on a Ractive instance that was not rendered"),xl.resolve();for(e=Al.start(this,!0),t=!this.component||this.component.shouldDestroy||this.shouldDestroy,this.constructor.css&&e.then(function(){vd.remove(n.constructor)});this._animations[0];)this._animations[0].stop();return this.fragment.unrender(t),A(this.el.__ractive_instances__,this),mm.fire(this),Al.end(),e}function xo(e){var t;return e=V(e)||El,t=Al.start(this,!0),this.viewmodel.mark(e),Al.end(),gm.fire(this,e),t}function _o(e,t){var n,i,r;if("string"!=typeof e||t){r=[];for(i in this._twowayBindings)(!e||V(i).equalsOrStartsWith(e))&&r.push.apply(r,this._twowayBindings[i])}else r=this._twowayBindings[e];return n=Eo(this,r),this.set(n)}function Eo(e,t){var n={},i=[];return t.forEach(function(e){var t,r;if(!e.radioName||e.element.node.checked){if(e.checkboxName)return void(i[e.keypath.str]||e.changed()||(i.push(e.keypath),i[e.keypath.str]=e));t=e.attribute.value,r=e.getValue(),k(t,r)||o(t,r)||(n[e.keypath.str]=r)}}),i.length&&i.forEach(function(e){var t,r,s;t=i[e.str],r=t.attribute.value,s=t.getValue(),k(r,s)||(n[e.str]=s)}),n}function ko(e){for(var t={};e;)Co(e,t),Ao(e,t),e=e._Parent!==rm?e._Parent:!1;return t}function Co(e,t){Ch.forEach(function(n){So(n.useDefaults?e.prototype:e,t,n.name)})}function So(e,t,n){var i,r=Object.keys(e[n]);r.length&&((i=t[n])||(i=t[n]={}),r.filter(function(e){return!(e in i)
}).forEach(function(t){return i[t]=e[n][t]}))}function Ao(e,t){Object.keys(e.prototype).forEach(function(n){if("computed"!==n){var i=e.prototype[n];if(n in t){if("function"==typeof t[n]&&"function"==typeof i&&t[n]._method){var r=void 0,s=i._method;s&&(i=i._method),r=Wd(t[n]._method,i),s&&(r._method=r),t[n]=r}}else t[n]=i._method?i._method:i}})}function To(){var e,t,n=void 0===arguments[0]?{}:arguments[0],i=this;return n.prototype instanceof rm&&(n=ko(n)),e=function(e){Qp(this,e)},t=Go(i.prototype),t.constructor=e,Zo(e,{_guid:{value:wm++},defaults:{value:t},extend:{value:To,writable:!0,configurable:!0},_Parent:{value:i}}),Oh.extend(i,t,n),e.prototype=t,e}var No,Oo,Po,jo,Lo,Fo,Io={el:void 0,append:!1,template:{v:2,t:[]},preserveWhitespace:!1,sanitize:!1,stripComments:!0,delimiters:["{{","}}"],tripleDelimiters:["{{{","}}}"],interpolate:!1,data:{},computed:{},magic:!1,modifyArrays:!0,adapt:[],isolated:!1,parameters:!0,twoway:!0,lazy:!1,noIntro:!1,transitionsEnabled:!0,complete:void 0,css:null,noCssTransform:!1,debug:!1},Vo=Io,Ro={linear:function(e){return e},easeIn:function(e){return Math.pow(e,3)},easeOut:function(e){return Math.pow(e-1,3)+1},easeInOut:function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)}};No="object"==typeof document,Oo="undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply;try{Object.defineProperty({},"test",{value:0}),Po=!0}catch(Mo){Po=!1}jo={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Lo="undefined"==typeof document?!1:document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),Fo=["o","ms","moz","webkit"];var Do,zo,$o,Wo,qo,Bo,Uo,Ho,Qo;if(Do=Lo?function(e,t){return t&&t!==jo.html?document.createElementNS(t,e):document.createElement(e)}:function(e,t){if(t&&t!==jo.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return document.createElement(e)},No){for($o=Do("div"),Wo=["matches","matchesSelector"],Qo=function(e){return function(t,n){return t[e](n)}},Uo=Wo.length;Uo--&&!zo;)if(qo=Wo[Uo],$o[qo])zo=Qo(qo);else for(Ho=Fo.length;Ho--;)if(Bo=Fo[Uo]+qo.substr(0,1).toUpperCase()+qo.substring(1),$o[Bo]){zo=Qo(Bo);break}zo||(zo=function(e,t){var n,i,r;for(i=e.parentNode,i||($o.innerHTML="",i=$o,e=e.cloneNode(),$o.appendChild(e)),n=i.querySelectorAll(t),r=n.length;r--;)if(n[r]===e)return!0;return!1})}else zo=null;var Go,Ko,Zo;try{Object.defineProperty({},"test",{value:0}),No&&Object.defineProperty(document.createElement("div"),"test",{value:0}),Ko=Object.defineProperty}catch(Jo){Ko=function(e,t,n){e[t]=n.value}}try{try{Object.defineProperties({},{test:{value:0}})}catch(Jo){throw Jo}No&&Object.defineProperties(Do("div"),{test:{value:0}}),Zo=Object.defineProperties}catch(Jo){Zo=function(e,t){var n;for(n in t)t.hasOwnProperty(n)&&Ko(e,n,t[n])}}try{Object.create(null),Go=Object.create}catch(Jo){Go=function(){var e=function(){};return function(t,n){var i;return null===t?{}:(e.prototype=t,i=new e,n&&Object.defineProperties(i,n),i)}}()}var Yo,Xo,el=Object.prototype.hasOwnProperty,tl=Object.prototype.toString,nl=/^\[object (?:Array|FileList)\]$/,il=function(){},rl={};Oo?(Xo=function(e,t){console.warn.apply(console,["%cRactive.js: %c"+e,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);"].concat(t))},Yo=function(){console.log.apply(console,arguments)}):Xo=Yo=il;var sl,al="Bad arguments",ol='A function was specified for "%s" %s, but no %s was returned',ll=function(e,t){return'Missing "'+e+'" '+t+" plugin. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#"+t+"s"},dl=function(e,t,n,i){if(e===t)return y(t);if(i){var r=v("interpolators",n,i);if(r)return r(e,t)||y(t);m(ll(i,"interpolator"))}return ul.number(e,t)||ul.array(e,t)||ul.object(e,t)||y(t)},ul={number:function(e,t){var n;return l(e)&&l(t)?(e=+e,t=+t,n=t-e,n?function(t){return e+t*n}:function(){return e}):null},array:function(e,t){var n,i,s,a;if(!r(e)||!r(t))return null;for(n=[],i=[],a=s=Math.min(e.length,t.length);a--;)i[a]=dl(e[a],t[a]);for(a=s;a<e.length;a+=1)n[a]=e[a];for(a=s;a<t.length;a+=1)n[a]=t[a];return function(e){for(var t=s;t--;)n[t]=i[t](e);return n}},object:function(e,t){var n,i,r,s,a;if(!d(e)||!d(t))return null;n=[],s={},r={};for(a in e)el.call(e,a)&&(el.call(t,a)?(n.push(a),r[a]=dl(e[a],t[a])):s[a]=e[a]);for(a in t)el.call(t,a)&&!el.call(e,a)&&(s[a]=t[a]);return i=n.length,function(e){for(var t,a=i;a--;)t=n[a],s[t]=r[t](e);return s}}};"undefined"==typeof window?sl=null:(!function(e,t,n){var i,r;if(!n.requestAnimationFrame){for(i=0;i<e.length&&!n.requestAnimationFrame;++i)n.requestAnimationFrame=n[e[i]+"RequestAnimationFrame"];n.requestAnimationFrame||(r=n.setTimeout,n.requestAnimationFrame=function(e){var n,i,s;return n=Date.now(),i=Math.max(0,16-(n-t)),s=r(function(){e(n+i)},i),t=n+i,s})}}(Fo,0,window),sl=window.requestAnimationFrame);var cl,hl=sl;cl="undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?function(){return window.performance.now()}:function(){return Date.now()};var fl={construct:{deprecated:"beforeInit",replacement:"onconstruct"},render:{deprecated:"init",message:'The "init" method has been deprecated and will likely be removed in a future release. You can either use the "oninit" method which will fire only once prior to, and regardless of, any eventual ractive instance being rendered, or if you need to access the rendered DOM, use "onrender" instead. See http://docs.ractivejs.org/latest/migrating for more information.'},complete:{deprecated:"complete",replacement:"oncomplete"}};x.prototype.fire=function(e,t){var n=function(n){return e[n]?(t?e[n](t):e[n](),!0):void 0};n(this.method),!e[this.method]&&this.deprecate&&n(this.deprecate.deprecated)&&(this.deprecate.message?p(this.deprecate.message):p('The method "%s" has been deprecated in favor of "%s" and will likely be removed in a future release. See http://docs.ractivejs.org/latest/migrating for more information.',this.deprecate.deprecated,this.deprecate.replacement)),t?e.fire(this.event,t):e.fire(this.event)};var pl,ml={},vl={},gl={};"function"==typeof Promise?pl=Promise:(pl=function(e){var t,n,i,r,s,a,o=[],l=[],d=ml;i=function(e){return function(i){d===ml&&(t=i,d=e,n=O(d===vl?o:l,t),N(n))}},r=i(vl),s=i(gl);try{e(r,s)}catch(u){s(u)}return a={then:function(e,t){var i=new pl(function(r,s){var a=function(e,t,n){t.push("function"==typeof e?function(t){var n;try{n=e(t),P(i,n,r,s)}catch(a){s(a)}}:n)};a(e,o,r),a(t,l,s),d!==ml&&N(n)});return i}},a["catch"]=function(e){return this.then(null,e)},a},pl.all=function(e){return new pl(function(t,n){var i,r,s,a=[];if(!e.length)return void t(a);for(s=function(r){e[r].then(function(e){a[r]=e,--i||t(a)},n)},i=r=e.length;r--;)s(r)})},pl.resolve=function(e){return new pl(function(t){t(e)})},pl.reject=function(e){return new pl(function(t,n){n(e)})});var yl,wl,bl,xl=pl,_l={};yl=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g,wl={},bl=function(e){var t=e.split(".");this.str=e,"@"===e[0]&&(this.isSpecial=!0,this.value=I(e)),this.firstKey=t[0],this.lastKey=t.pop(),this.parent=""===e?null:V(t.join(".")),this.isRoot=!e},bl.prototype={equalsOrStartsWith:function(e){return e===this||this.startsWith(e)},join:function(e){return V(this.isRoot?String(e):this.str+"."+e)},replace:function(e,t){return this===e?t:this.startsWith(e)?null===t?t:V(this.str.replace(e.str+".",t.str+".")):void 0},startsWith:function(e){return e?e&&this.str.substr(0,e.str.length+1)===e.str+".":!1},toString:function(){throw new Error("Bad coercion")},valueOf:function(){throw new Error("Bad coercion")},wildcardMatches:function(){return this._wildcardMatches||(this._wildcardMatches=j(this.str))}};var El=V(""),kl=function(e){do if(void 0!==e.context)return e.context;while(e=e.parent);return El},Cl=function(e,t){this.callback=e,this.parent=t,this.intros=[],this.outros=[],this.children=[],this.totalChildren=this.outroChildren=0,this.detachQueue=[],this.decoratorQueue=[],this.outrosComplete=!1,t&&t.addChild(this)};Cl.prototype={addChild:function(e){this.children.push(e),this.totalChildren+=1,this.outroChildren+=1},decrementOutros:function(){this.outroChildren-=1,Z(this)},decrementTotal:function(){this.totalChildren-=1,Z(this)},add:function(e){var t=e.isIntro?this.intros:this.outros;t.push(e)},addDecorator:function(e){this.decoratorQueue.push(e)},remove:function(e){var t=e.isIntro?this.intros:this.outros;A(t,e),Z(this)},init:function(){this.ready=!0,Z(this)},detachNodes:function(){this.decoratorQueue.forEach(U),this.detachQueue.forEach(G),this.children.forEach(K)}};var Sl,Al,Tl=[],Nl=new x("change");Al={start:function(e,t){var n,i;return t&&(n=new xl(function(e){return i=e})),Sl={previousBatch:Sl,transitionManager:new Cl(i,Sl&&Sl.transitionManager),views:[],tasks:[],viewmodels:[],instance:e},e&&Sl.viewmodels.push(e.viewmodel),n},end:function(){J(),Sl.transitionManager.init(),!Sl.previousBatch&&Sl.instance&&(Sl.instance.viewmodel.changes=[]),Sl=Sl.previousBatch},addViewmodel:function(e){return Sl?-1===Sl.viewmodels.indexOf(e)?(Sl.viewmodels.push(e),!0):!1:(e.applyChanges(),!1)},registerTransition:function(e){e._manager=Sl.transitionManager,Sl.transitionManager.add(e)},registerDecorator:function(e){Sl.transitionManager.addDecorator(e)},addView:function(e){Sl.views.push(e)},addUnresolved:function(e){Tl.push(e)},removeUnresolved:function(e){A(Tl,e)},detachWhenReady:function(e){Sl.transitionManager.detachQueue.push(e)},scheduleTask:function(e,t){var n;if(Sl){for(n=Sl;t&&n.previousBatch;)n=n.previousBatch;n.tasks.push(e)}else e()}};var Ol=[],Pl={tick:function(){var e,t,n;for(n=cl(),Al.start(),e=0;e<Ol.length;e+=1)t=Ol[e],t.tick(n)||Ol.splice(e--,1);Al.end(),Ol.length?hl(Pl.tick):Pl.running=!1},add:function(e){Ol.push(e),Pl.running||(Pl.running=!0,hl(Pl.tick))},abort:function(e,t){for(var n,i=Ol.length;i--;)n=Ol[i],n.root===t&&n.keypath===e&&n.stop()}},jl=Pl,Ll=function(e){var t;this.startTime=Date.now();for(t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);this.interpolator=dl(this.from,this.to,this.root,this.interpolator),this.running=!0,this.tick()};Ll.prototype={tick:function(){var e,t,n,i,r,s;return s=this.keypath,this.running?(i=Date.now(),e=i-this.startTime,e>=this.duration?(null!==s&&(Al.start(this.root),this.root.viewmodel.set(s,this.to),Al.end()),this.step&&this.step(1,this.to),this.complete(this.to),r=this.root._animations.indexOf(this),-1===r&&p("Animation was not found"),this.root._animations.splice(r,1),this.running=!1,!1):(t=this.easing?this.easing(e/this.duration):e/this.duration,null!==s&&(n=this.interpolator(t),Al.start(this.root),this.root.viewmodel.set(s,n),Al.end()),this.step&&this.step(t,n),!0)):!1},stop:function(){var e;this.running=!1,e=this.root._animations.indexOf(this),-1===e&&p("Animation was not found"),this.root._animations.splice(e,1)}};var Fl={stop:il},Il=new x("detach"),Vl=function(e,t){var n;return n=this._isComponentQuery?!this.selector||e.name===this.selector:e.node?zo(e.node,this.selector):null,n?(this.push(e.node||e.instance),t||this._makeDirty(),!0):void 0},Rl=function(){var e,t,n;e=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],t=this.selector,n=e.indexOf(t),-1!==n&&(e.splice(n,1),e[t]=null)},Ml=function(e,t){var n,i,r,s,a,o,l,d,u,c;for(n=st(e.component||e._ractive.proxy),i=st(t.component||t._ractive.proxy),r=S(n),s=S(i);r&&r===s;)n.pop(),i.pop(),a=r,r=S(n),s=S(i);if(r=r.component||r,s=s.component||s,u=r.parentFragment,c=s.parentFragment,u===c)return o=u.items.indexOf(r),l=c.items.indexOf(s),o-l||n.length-i.length;if(d=a.fragments)return o=d.indexOf(u),l=d.indexOf(c),o-l||n.length-i.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")},Dl=function(e,t){var n;return e.compareDocumentPosition?(n=e.compareDocumentPosition(t),2&n?1:-1):Ml(e,t)},zl=function(){this.sort(this._isComponentQuery?Ml:Dl),this._dirty=!1},$l=function(){var e=this;this._dirty||(this._dirty=!0,Al.scheduleTask(function(){e._sort()}))},Wl=function(e){var t=this.indexOf(this._isComponentQuery?e.instance:e);-1!==t&&this.splice(t,1)},ql={enqueue:function(e,t){e.event&&(e._eventQueue=e._eventQueue||[],e._eventQueue.push(e.event)),e.event=t},dequeue:function(e){e._eventQueue&&e._eventQueue.length?e.event=e._eventQueue.pop():delete e.event}},Bl={capture:!0,noUnwrap:!0},Ul=new x("insert"),Hl=function(e,t,n,i){this.root=e,this.keypath=t,this.callback=n,this.defer=i.defer,this.context=i&&i.context?i.context:e};Hl.prototype={init:function(e){this.value=this.root.get(this.keypath.str),e!==!1?this.update():this.oldValue=this.value},setValue:function(e){var t=this;o(e,this.value)||(this.value=e,this.defer&&this.ready?Al.scheduleTask(function(){return t.update()}):this.update())},update:function(){this.updating||(this.updating=!0,this.callback.call(this.context,this.value,this.oldValue,this.keypath.str),this.oldValue=this.value,this.updating=!1)}};var Ql,Gl=/\*/,Kl=Array.prototype.slice;Ql=function(e,t,n,i){this.root=e,this.callback=n,this.defer=i.defer,this.keypath=t,this.regex=new RegExp("^"+t.str.replace(/\./g,"\\.").replace(/\*/g,"([^\\.]+)")+"$"),this.values={},this.defer&&(this.proxies=[]),this.context=i&&i.context?i.context:e},Ql.prototype={init:function(e){var t,n;if(t=bt(this.root,this.keypath),e!==!1)for(n in t)t.hasOwnProperty(n)&&this.update(V(n));else this.values=t},update:function(e){var t,n=this;if(Gl.test(e.str)){t=bt(this.root,e);for(e in t)t.hasOwnProperty(e)&&this.update(V(e))}else if(!this.root.viewmodel.implicitChanges[e.str])return this.defer&&this.ready?void Al.scheduleTask(function(){return n.getProxy(e).update()}):void this.reallyUpdate(e)},reallyUpdate:function(e){var t,n,i,r;return t=e.str,n=this.root.viewmodel.get(e),this.updating?void(this.values[t]=n):(this.updating=!0,o(n,this.values[t])&&this.ready||(i=Kl.call(this.regex.exec(t),1),r=[n,this.values[t],t].concat(i),this.values[t]=n,this.callback.apply(this.context,r)),void(this.updating=!1))},getProxy:function(e){var t=this;return this.proxies[e.str]||(this.proxies[e.str]={update:function(){return t.reallyUpdate(e)}}),this.proxies[e.str]}};var Zl,Jl,Yl,Xl,ed,td,nd=/\*/,id={},rd=function(e){return e.trim()},sd=function(e){return""!==e},ad=Array.prototype,od=function(e){return function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),s=1;n>s;s++)i[s-1]=arguments[s];var a,o,l,d,u=[];if(t=V(D(t)),a=this.viewmodel.get(t),o=a.length,!r(a))throw new Error("Called ractive."+e+"('"+t+"'), but '"+t+"' does not refer to an array");return u=At(a,e,i),d=ad[e].apply(a,i),l=Al.start(this,!0).then(function(){return d}),u?this.viewmodel.smartUpdate(t,a,u):this.viewmodel.mark(t),Al.end(),l}},ld=od("pop"),dd=od("push"),ud="/* Ractive.js component styles */\n",cd={},hd=[];No?(Yl=document.createElement("style"),Yl.type="text/css",Xl=document.getElementsByTagName("head")[0],td=!1,ed=Yl.styleSheet,Jl=function(){var e;hd.length?(e=ud+hd.join(" "),ed?ed.cssText=e:Yl.innerHTML=e,td||(Xl.appendChild(Yl),td=!0)):td&&(Xl.removeChild(Yl),td=!1)},Zl={add:function(e){e.css&&(cd[e._guid]||(cd[e._guid]=0,hd.push(e.css),Jl()),cd[e._guid]+=1)},remove:function(e){e.css&&(cd[e._guid]-=1,cd[e._guid]||(A(hd,e.css),Al.scheduleTask(Jl)))}}):Zl=null;var fd,pd,md,vd=Zl,gd=new x("render"),yd=new x("complete"),wd=function(e,t,n,i){var r=e.root,s=e.keypath;return"sort"===n||"reverse"===n?void r.viewmodel.set(s,t):void r.viewmodel.smartUpdate(s,t,i)},bd=[],xd=["pop","push","reverse","shift","sort","splice","unshift"];xd.forEach(function(e){var t=function(){for(var t=arguments.length,n=Array(t),i=0;t>i;i++)n[i]=arguments[i];var r,s,a,o;for(r=At(this,e,n),s=Array.prototype[e].apply(this,arguments),Al.start(),this._ractive.setting=!0,o=this._ractive.wrappers.length;o--;)a=this._ractive.wrappers[o],Al.addViewmodel(a.root.viewmodel),wd(a,this,e,r);return Al.end(),this._ractive.setting=!1,s};Ko(bd,e,{value:t})}),fd={},fd.__proto__?(pd=function(e){e.__proto__=bd},md=function(e){e.__proto__=Array.prototype}):(pd=function(e){var t,n;for(t=xd.length;t--;)n=xd[t],Ko(e,n,{value:bd[n],configurable:!0})},md=function(e){var t;for(t=xd.length;t--;)delete e[xd[t]]}),pd.unpatch=md;var _d,Ed,kd,Cd=pd;_d={filter:function(e){return r(e)&&(!e._ractive||!e._ractive.setting)},wrap:function(e,t,n){return new Ed(e,t,n)}},Ed=function(e,t,n){this.root=e,this.value=t,this.keypath=V(n),t._ractive||(Ko(t,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),Cd(t)),t._ractive.instances[e._guid]||(t._ractive.instances[e._guid]=0,t._ractive.instances.push(e)),t._ractive.instances[e._guid]+=1,t._ractive.wrappers.push(this)},Ed.prototype={get:function(){return this.value},teardown:function(){var e,t,n,i,r;if(e=this.value,t=e._ractive,n=t.wrappers,i=t.instances,t.setting)return!1;if(r=n.indexOf(this),-1===r)throw new Error(kd);if(n.splice(r,1),n.length){if(i[this.root._guid]-=1,!i[this.root._guid]){if(r=i.indexOf(this.root),-1===r)throw new Error(kd);i.splice(r,1)}}else delete e._ractive,Cd.unpatch(this.value)}},kd="Something went wrong in a rather interesting way";var Sd,Ad,Td=/^\s*[0-9]+\s*$/,Nd=function(e){return Td.test(e)?[]:{}};try{Object.defineProperty({},"test",{value:0}),Sd={filter:function(e,t,n){var i,s;return t?(t=V(t),(i=n.viewmodel.wrapped[t.parent.str])&&!i.magic?!1:(s=n.viewmodel.get(t.parent),r(s)&&/^[0-9]+$/.test(t.lastKey)?!1:s&&("object"==typeof s||"function"==typeof s))):!1},wrap:function(e,t,n){return new Ad(e,t,n)}},Ad=function(e,t,n){var i,r,s;return n=V(n),this.magic=!0,this.ractive=e,this.keypath=n,this.value=t,this.prop=n.lastKey,i=n.parent,this.obj=i.isRoot?e.data:e.viewmodel.get(i),r=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),r&&r.set&&(s=r.set._ractiveWrappers)?void(-1===s.indexOf(this)&&s.push(this)):void Pt(this,t,r)},Ad.prototype={get:function(){return this.value},reset:function(e){return this.updating?void 0:(this.updating=!0,this.obj[this.prop]=e,Al.addViewmodel(this.ractive.viewmodel),this.ractive.viewmodel.mark(this.keypath,{keepExistingWrapper:!0}),this.updating=!1,!0)},set:function(e,t){this.updating||(this.obj[this.prop]||(this.updating=!0,this.obj[this.prop]=Nd(e),this.updating=!1),this.obj[this.prop][e]=t)},teardown:function(){var e,t,n,i,r;return this.updating?!1:(e=Object.getOwnPropertyDescriptor(this.obj,this.prop),t=e&&e.set,void(t&&(i=t._ractiveWrappers,r=i.indexOf(this),-1!==r&&i.splice(r,1),i.length||(n=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=n))))}}}catch(Jo){Sd=!1}var Od,Pd;Sd&&(Od={filter:function(e,t,n){return Sd.filter(e,t,n)&&_d.filter(e)},wrap:function(e,t,n){return new Pd(e,t,n)}},Pd=function(e,t,n){this.value=t,this.magic=!0,this.magicWrapper=Sd.wrap(e,t,n),this.arrayWrapper=_d.wrap(e,t,n)},Pd.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(e){return this.magicWrapper.reset(e)}});var jd,Ld,Fd,Id={extend:function(e,t,n){t.adapt=jt(t.adapt,C(n.adapt))},init:function(e,t,n){var i,r,s=function(e){return"string"==typeof e&&(e=v("adaptors",t,e),e||f(ll(e,"adaptor"))),e};if(i=t.adapt.map(s),r=C(n.adapt).map(s),t.adapt=jt(i,r),t.magic){if(!Po)throw new Error("Getters and setters (magic mode) are not supported in this browser");t.modifyArrays&&t.adapt.push(Od),t.adapt.push(Sd)}t.modifyArrays&&t.adapt.push(_d)}},Vd=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,Rd=/\/\*.*?\*\//g,Md=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~\(]+(?:\([^\)]+\))?)?\s*[\s\+\>\~]?)\s*/g,Dd=/^@media/,zd=/\[data-ractive-css="[a-z0-9-]+"]/g,$d={name:"css",extend:function(e,t,n){var i,r=t.constructor._guid;(i=Vt(n.css,n,r)||Vt(e.css,e,r))&&(t.constructor.css=i)},init:function(){}},Wd=function(e,t,n){return n||Rt(e,t)?function(){var n,i="_super"in this,r=this._super;return this._super=t,n=e.apply(this,arguments),i&&(this._super=r),n}:e},qd={name:"data",extend:function(e,t,n){t.data=Mt(e,t,n)},init:function(e,t,n){var i=n.data,r=Mt(e,t,n);return"function"==typeof r&&(r=r.call(t,i)||i),t.data=r||{}},reset:function(e){var t=this.init(e.constructor,e,e);return t?(e.data=t,!0):void 0}},Bd=1,Ud=2,Hd=3,Qd=4,Gd=5,Kd=6,Zd=7,Jd=8,Yd=9,Xd=10,eu=13,tu=14,nu=15,iu=16,ru=17,su=18,au=20,ou=21,lu=22,du=23,uu=24,cu=26,hu=27,fu=30,pu=31,mu=32,vu=33,gu=34,yu=35,wu=36,bu=40,xu=50,_u=51,Eu=52,ku=53,Cu=54,Su=55,Au="Expected a JavaScript expression",Tu="Expected closing paren",Nu=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,Ou=function(e){var t;return(t=e.matchPattern(Nu))?{t:au,v:t}:null},Pu=function(e){var t=e.remaining();return"true"===t.substr(0,4)?(e.pos+=4,{t:uu,v:"true"}):"false"===t.substr(0,5)?(e.pos+=5,{t:uu,v:"false"}):null};jd=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,Ld=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,Fd=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/;var ju,Lu,Fu,Iu,Vu,Ru=function(e){return function(t){var n,i,r,s;for(n=t.pos,i='"',r=!1;!r;)s=t.matchPattern(jd)||t.matchPattern(Ld)||t.matchString(e),s?i+='"'===s?'\\"':"\\'"===s?"'":s:(s=t.matchPattern(Fd),s?i+="\\u"+("000"+s.charCodeAt(1).toString(16)).slice(-4):r=!0);return i+='"',JSON.parse(i)}},Mu=Ru('"'),Du=Ru("'"),zu=function(e){var t,n;return t=e.pos,e.matchString('"')?(n=Du(e),e.matchString('"')?{t:ou,v:n}:(e.pos=t,null)):e.matchString("'")?(n=Mu(e),e.matchString("'")?{t:ou,v:n}:(e.pos=t,null)):null},$u=/^[a-zA-Z_$][a-zA-Z_$0-9]*/,Wu=/^[a-zA-Z_$][-a-zA-Z_$0-9]*/,qu=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/,Bu=function(e){var t;return(t=zu(e))?qu.test(t.v)?t.v:'"'+t.v.replace(/"/g,'\\"')+'"':(t=Ou(e))?t.v:(t=e.matchPattern($u))?t:void 0},Uu=function(e){var t,n,i;return t=e.pos,e.allowWhitespace(),n=Bu(e),null===n?(e.pos=t,null):(e.allowWhitespace(),e.matchString(":")?(e.allowWhitespace(),i=e.readExpression(),null===i?(e.pos=t,null):{t:hu,k:n,v:i}):(e.pos=t,null))},Hu=function(e){var t,n;return t=e.pos,e.allowWhitespace(),e.matchString("{")?(n=Ut(e),e.allowWhitespace(),e.matchString("}")?{t:du,m:n}:(e.pos=t,null)):(e.pos=t,null)},Qu=function(e){var t,n;return t=e.pos,e.allowWhitespace(),e.matchString("[")?(n=Ht(e),e.matchString("]")?{t:lu,m:n}:(e.pos=t,null)):(e.pos=t,null)},Gu=function(e){var t=Ou(e)||Pu(e)||zu(e)||Hu(e)||Qu(e);return t};ju=/^\.[a-zA-Z_$0-9]+/,Fu=function(e){var t=e.matchPattern(Lu);return t?"."+t:null},Lu=/^\[(0|[1-9][0-9]*)\]/,Iu=/^(?:Array|console|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)$/,Vu=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/;var Ku,Zu,Ju=function(e){var t,n,i,r,s,a,o,l;if(t=e.pos,e.matchString("~/"))n="~/";else for(n="";e.matchString("../");)n+="../";if(n||(r=e.matchString("./")||e.matchString(".")||""),l=e.relaxedNames?Wu:$u,i=e.matchPattern(/^@(?:keypath|index|key)/)||e.matchPattern(l)||"",!e.relaxedNames&&!r&&!n&&Vu.test(i))return e.pos=t,null;if(!n&&!r&&!e.relaxedNames&&Iu.test(i))return{t:cu,v:i};if(s=(n||r)+i,!s)return null;for(;a=e.matchPattern(ju)||Fu(e);)s+=a;return e.matchString("(")&&(o=s.lastIndexOf("."),-1!==o?(s=s.substr(0,o),e.pos=t+s.length):e.pos-=1),{t:fu,n:s.replace(/^this\./,"./").replace(/^this$/,".")}},Yu=function(e){var t,n;return t=e.pos,e.matchString("(")?(e.allowWhitespace(),n=e.readExpression(),n||e.error(Au),e.allowWhitespace(),e.matchString(")")||e.error(Tu),{t:gu,x:n}):null},Xu=function(e){return Gu(e)||Ju(e)||Yu(e)},ec=function(e){var t,n,i,r;if(n=Xu(e),!n)return null;for(;n;)if(t=e.pos,i=Qt(e))n={t:mu,x:n,r:i};else{if(!e.matchString("("))break;e.allowWhitespace(),r=Ht(e),e.allowWhitespace(),e.matchString(")")||e.error(Tu),n={t:bu,x:n},r&&(n.o=r)}return n};Zu=function(e,t){return function(n){var i;return(i=t(n))?i:n.matchString(e)?(n.allowWhitespace(),i=n.readExpression(),i||n.error(Au),{s:e,o:i,t:vu}):null}},function(){var e,t,n,i,r;for(i="! ~ + - typeof".split(" "),r=ec,e=0,t=i.length;t>e;e+=1)n=Zu(i[e],r),r=n;Ku=r}();var tc,nc;nc=function(e,t){return function(n){var i,r,s;if(r=t(n),!r)return null;for(;;){if(i=n.pos,n.allowWhitespace(),!n.matchString(e))return n.pos=i,r;if("in"===e&&/[a-zA-Z_$0-9]/.test(n.remaining().charAt(0)))return n.pos=i,r;if(n.allowWhitespace(),s=t(n),!s)return n.pos=i,r;r={t:wu,s:e,o:[r,s]}}}},function(){var e,t,n,i,r;for(i="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),r=Ku,e=0,t=i.length;t>e;e+=1)n=nc(i[e],r),r=n;tc=r}();var ic,rc,sc=function(e){var t,n,i,r;return(n=tc(e))?(t=e.pos,e.allowWhitespace(),e.matchString("?")?(e.allowWhitespace(),i=e.readExpression(),i||e.error(Au),e.allowWhitespace(),e.matchString(":")||e.error('Expected ":"'),e.allowWhitespace(),r=e.readExpression(),r||e.error(Au),{t:yu,o:[n,i,r]}):(e.pos=t,n)):null},ac=function(e){var t,n=[];return Kt(e,n),t={r:n,s:Zt(this,e,n)}},oc=/^\s+/;rc=function(e){this.name="ParseError",this.message=e;try{throw new Error(e)}catch(t){this.stack=t.stack}},rc.prototype=Error.prototype,ic=function(e,t){var n,i,r=0;for(this.str=e,this.options=t||{},this.pos=0,this.lines=this.str.split("\n"),this.lineEnds=this.lines.map(function(e){var t=r+e.length+1;return r=t,t},0),this.init&&this.init(e,t),n=[];this.pos<this.str.length&&(i=this.read());)n.push(i);this.leftover=this.remaining(),this.result=this.postProcess?this.postProcess(n,t):n},ic.prototype={read:function(e){var t,n,i,r;for(e||(e=this.converters),t=this.pos,i=e.length,n=0;i>n;n+=1)if(this.pos=t,r=e[n](this))return r;return null},readExpression:function(){return sc(this)},flattenExpression:ac,getLinePos:function(e){for(var t,n=0,i=0;e>=this.lineEnds[n];)i=this.lineEnds[n],n+=1;return t=e-i,[n+1,t+1,e]},error:function(e){var t,n,i,r,s,a;throw t=this.getLinePos(this.pos),n=t[0],i=t[1],r=this.lines[t[0]-1],s=r+"\n"+new Array(t[1]).join(" ")+"^----",a=new rc(e+" at line "+n+" character "+i+":\n"+s),a.line=t[0],a.character=t[1],a.shortMessage=e,a},matchString:function(e){return this.str.substr(this.pos,e.length)===e?(this.pos+=e.length,e):void 0},matchPattern:function(e){var t;return(t=e.exec(this.remaining()))?(this.pos+=t[0].length,t[1]||t[0]):void 0},allowWhitespace:function(){this.matchPattern(oc)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}},ic.extend=function(e){var t,n,i=this;t=function(e,t){ic.call(this,e,t)},t.prototype=Go(i.prototype);for(n in e)el.call(e,n)&&(t.prototype[n]=e[n]);return t.extend=ic.extend,t};var lc,dc=/^[^\s=]+/,uc=/^\s+/,cc=function(e){var t,n,i;return e.matchString("=")?(t=e.pos,e.allowWhitespace(),(n=e.matchPattern(dc))?e.matchPattern(uc)?(i=e.matchPattern(dc))?(e.allowWhitespace(),e.matchString("=")?[n,i]:(e.pos=t,null)):(e.pos=t,null):null:(e.pos=t,null)):null},hc=[{delimiters:"delimiters",isTriple:!1,isStatic:!1},{delimiters:"tripleDelimiters",isTriple:!0,isStatic:!1},{delimiters:"staticDelimiters",isTriple:!1,isStatic:!0},{delimiters:"staticTripleDelimiters",isTriple:!0,isStatic:!0}],fc={"#":Qd,"^":Gd,"/":Kd,">":Jd,"!":Yd,"&":Hd},pc=function(e){var t=fc[e.str.charAt(e.pos)];return t?(e.pos+=1,t):null},mc={each:Eu,"if":xu,"if-with":Cu,"with":ku,unless:_u,partial:Su},vc=/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,gc=/^\s*,\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,yc=/^[0-9][1-9]*$/,wc=new RegExp("^("+Object.keys(mc).join("|")+")\\b");lc=/^[a-zA-Z$_0-9]+(?:(\.[a-zA-Z$_0-9]+)|(\[[a-zA-Z$_0-9]+\]))*$/;var bc,xc,_c,Ec,kc,Cc,Sc,Ac,Tc=function(e,t){var n,i,r,s,a,o,l,d,u,c,h;if(n=e.pos,r={},c=e[t.delimiters],t.isStatic&&(r.s=!0),t.isTriple)r.t=Hd;else{if("!"===e.remaining()[0]){try{o=e.readExpression(),e.allowWhitespace(),e.remaining().indexOf(c[1])?o=null:r.t=Ud}catch(f){}if(!o)return u=e.remaining().indexOf(c[1]),~u?e.pos+=u:e.error("Expected closing delimiter ('"+c[1]+"')"),{t:Yd}}if(!o)if(s=pc(e),r.t=s||Ud,s===Qd)(a=e.matchPattern(wc))&&(r.n=a),e.allowWhitespace();else if((s===Yd||s===Kd)&&(d=e.remaining(),u=d.indexOf(c[1]),-1!==u))return r.r=d.substr(0,u).split(" ")[0],e.pos+=u,r}if(!o){e.allowWhitespace(),s===Jd?(h=e.relaxedNames,e.relaxedNames=!0,o=e.readExpression(),e.relaxedNames=h):r.t===Ud&&e.matchString("yield ")?(e.allowWhitespace(),r.r="yield",h=e.relaxedNames,e.relaxedNames=!0,o=e.readExpression(),e.relaxedNames=!1,o&&o.t===fu?(r.yn=o.n,o=null):o&&e.error("Only names are supported with yield.")):r.t===Qd&&"partial"===r.n?(h=e.relaxedNames,e.relaxedNames=!0,o=e.readExpression(),e.relaxedNames=!1):o=e.readExpression();var p=void 0;if(r.t===Jd&&o&&(p=e.readExpression())&&(r={contextPartialExpression:o},o=p),d=e.remaining(),d.substr(0,c[1].length)!==c[1]&&":"!==d.charAt(0)){if(i=e.pos,e.pos=n,d=e.remaining(),u=d.indexOf(c[1]),-1!==u)return r.r=d.substr(0,u).trim(),lc.test(r.r)||e.error("Expected a legal Mustache reference"),e.pos+=u,r;e.pos=i}}if(Jt(e,o,r),r.contextPartialExpression&&(r.contextPartialExpression=[Jt(e,r.contextPartialExpression,{t:Jd})]),l=e.matchPattern(vc)){var m=void 0;r.i=(m=e.matchPattern(gc))?l+","+m:l}return r},Nc={t:Xd,exclude:!0},Oc="<!--",Pc="-->",jc=function(e){var t,n,i,r,s;return t=e.pos,e.matchString(Oc)?(i=e.remaining(),r=i.indexOf(Pc),-1===r&&e.error("Illegal HTML - expected closing comment sequence ('-->')"),n=i.substr(0,r),e.pos+=r+3,s={t:Yd,c:n},e.includeLinePositions&&(s.p=e.getLinePos(t)),s):null};bc=/^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|draggable|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i,xc=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,_c={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Ec=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],kc=new RegExp("&(#?(?:x[\\w\\d]+|\\d+|"+Object.keys(_c).join("|")+"));?","g"),Cc=/</g,Sc=/>/g,Ac=/&/g;
var Lc,Fc,Ic,Vc,Rc,Mc,Dc,zc=/[-/\\^$*+?.()|[\]{}]/g,$c=/^<!--\s*/,Wc=/s*>\s*([a-zA-Z_$][-a-zA-Z_$0-9]*)\s*/,qc=/\s*-->/,Bc=function(e,t){var n,i,r;for(n=t.length;n--;){if(i=e.indexOf(t[n]),!i)return 0;-1!==i&&(!r||r>i)&&(r=i)}return r||-1},Uc=function(e){var t,n,i,r;return n=e.remaining(),r=e.inside?"</"+e.inside:"<",e.inside&&!e.interpolate[e.inside]?t=n.indexOf(r):(i=[e.delimiters[0],e.tripleDelimiters[0],e.staticDelimiters[0],e.staticTripleDelimiters[0]],e.inAttribute===!0?i.push('"',"'","=","<",">","`"):i.push(e.inAttribute?e.inAttribute:r),t=Bc(n,i)),t?(-1===t&&(t=n.length),e.pos+=t,e.inside?n.substr(0,t):nn(n.substr(0,t))):null},Hc=/^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/,Qc=function(e){var t;return e.matchString("</")?(t=e.matchPattern(Hc))?{t:tu,e:t}:(e.pos-=2,void e.error("Illegal closing tag")):null},Gc=/^[^\s"'>\/=]+/,Kc=/^[^\s"'=<>`]+/;Fc={"true":!0,"false":!1,undefined:void 0,"null":null},Ic=new RegExp("^(?:"+Object.keys(Fc).join("|")+")"),Vc=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,Rc=/\$\{([^\}]+)\}/g,Mc=/^\$\{([^\}]+)\}/,Dc=/^\s*$/,Lc=ic.extend({init:function(e,t){this.values=t.values,this.allowWhitespace()},postProcess:function(e){return 1===e.length&&Dc.test(this.leftover)?{value:e[0].v}:null},converters:[function(e){var t;return e.values?(t=e.matchPattern(Mc),t&&e.values.hasOwnProperty(t)?{v:e.values[t]}:void 0):null},function(e){var t;return(t=e.matchPattern(Ic))?{v:Fc[t]}:void 0},function(e){var t;return(t=e.matchPattern(Vc))?{v:+t}:void 0},function(e){var t,n=zu(e);return n&&(t=e.values)?{v:n.v.replace(Rc,function(e,n){return n in t?t[n]:n})}:n},function(e){var t,n;if(!e.matchString("{"))return null;if(t={},e.allowWhitespace(),e.matchString("}"))return{v:t};for(;n=pn(e);){if(t[n.key]=n.value,e.allowWhitespace(),e.matchString("}"))return{v:t};if(!e.matchString(","))return null}return null},function(e){var t,n;if(!e.matchString("["))return null;if(t=[],e.allowWhitespace(),e.matchString("]"))return{v:t};for(;n=e.read();){if(t.push(n.v),e.allowWhitespace(),e.matchString("]"))return{v:t};if(!e.matchString(","))return null;e.allowWhitespace()}return null}]});var Zc,Jc=function(e,t){var n=new Lc(e,{values:t});return n.result},Yc=/^([a-zA-Z_$][a-zA-Z_$0-9]*)\(/;Zc=ic.extend({converters:[sc]});var Xc,eh,th=function(e){var t,n,i,r,s,a,o,l,d;if("string"==typeof e){if(n=Yc.exec(e))return t={m:n[1]},r="["+e.slice(t.m.length+1,-1)+"]",i=new Zc(r),t.a=ac(i.result[0]),t;if(-1===e.indexOf(":"))return e.trim();e=[e]}if(t={},o=[],l=[],e){for(;e.length;)if(s=e.shift(),"string"==typeof s){if(a=s.indexOf(":"),-1!==a){a&&o.push(s.substr(0,a)),s.length>a+1&&(l[0]=s.substring(a+1));break}o.push(s)}else o.push(s);l=l.concat(e)}return o.length?l.length||"string"!=typeof o?(t={n:1===o.length&&"string"==typeof o[0]?o[0]:o},1===l.length&&"string"==typeof l[0]?(d=Jc("["+l[0]+"]"),t.a=d?d.value:l[0].trim()):t.d=l):t=o:t="",t},nh=/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,ih=/^[\s\n\/>]/,rh=/^on/,sh=/^on-([a-zA-Z\\*\\.$_][a-zA-Z\\*\\.$_0-9\-]+)$/,ah=/^(?:change|reset|teardown|update|construct|config|init|render|unrender|detach|insert)$/,oh={"intro-outro":"t0",intro:"t1",outro:"t2",decorator:"o"},lh={exclude:!0};Xc=[on,Xt,jc,mn,Uc,Qc],eh={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rt","rp"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tfoot:["tbody"],tr:["tr","tbody"],td:["td","th","tr"],th:["td","th","tr"]};var dh,uh,ch=mn,hh=/^[ \t\f\r\n]+/,fh=/[ \t\f\r\n]+$/,ph=function(e,t,n){var i;t&&(i=e[0],"string"==typeof i&&(i=i.replace(hh,""),i?e[0]=i:e.shift())),n&&(i=S(e),"string"==typeof i&&(i=i.replace(fh,""),i?e[e.length-1]=i:e.pop()))},mh=/^\s*\r?\n/,vh=/\r?\n\s*$/,gh=function(e){var t,n,i,r,s;for(t=1;t<e.length;t+=1)n=e[t],i=e[t-1],r=e[t-2],gn(n)&&yn(i)&&gn(r)&&vh.test(r)&&mh.test(n)&&(e[t-2]=r.replace(vh,"\n"),e[t]=n.replace(mh,"")),wn(n)&&gn(i)&&vh.test(i)&&gn(n.f[0])&&mh.test(n.f[0])&&(e[t-1]=i.replace(vh,"\n"),n.f[0]=n.f[0].replace(mh,"")),gn(n)&&wn(i)&&(s=S(i.f),gn(s)&&vh.test(s)&&mh.test(n)&&(i.f[i.f.length-1]=s.replace(vh,"\n"),e[t]=n.replace(mh,"")));return e},yh=bn,wh=/[ \t\f\r\n]+/g,bh=/^(?:pre|script|style|textarea)$/i,xh=/^\s+/,_h=/\s+$/;dh=ic.extend({init:function(e,t){kn(t,this),this.sectionDepth=0,this.interpolate={script:!t.interpolate||t.interpolate.script!==!1,style:!t.interpolate||t.interpolate.style!==!1},t.sanitize===!0&&(t.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),this.sanitizeElements=t.sanitize&&t.sanitize.elements,this.sanitizeEventAttributes=t.sanitize&&t.sanitize.eventAttributes,this.includeLinePositions=t.includeLinePositions,this.StandardParser=dh},postProcess:function(e,t){return this.sectionDepth>0&&this.error("A section was left open"),En(e,t.stripComments!==!1,t.preserveWhitespace,!t.preserveWhitespace,!t.preserveWhitespace,t.rewriteElse!==!1),e},converters:[on,Xt,jc,ch,Uc]}),uh=function(e){var t,n=void 0===arguments[1]?{}:arguments[1];kn(n),t={v:2},t.t=new dh(e,n).result;var i={};return yh(n.ractive?[n.ractive]:[],i,t.t),a(i)||(t.p=i),t};var Eh,kh,Ch,Sh=["preserveWhitespace","sanitize","stripComments","delimiters","tripleDelimiters","interpolate"],Ah={parse:Sn,fromId:An,isHashedId:Tn,isParsed:Nn,getParseOptions:On,createHelper:Cn},Th=Ah,Nh={name:"template",extend:function(e,t,n){var i;"template"in n&&(i=n.template,t.template="function"==typeof i?i:Fn(i,t))},init:function(e,t,n){var i,r;i="template"in n?n.template:e.prototype.template,"function"==typeof i&&(r=i,i=jn(t,r),t._config.template={fn:r,result:i}),i=Fn(i,t),t.template=i.t,i.p&&In(t.partials,i.p)},reset:function(e){var t,n=Pn(e);return n?(t=Fn(n,e),e.template=t.t,In(e.partials,t.p,!0),!0):void 0}};Eh=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"],kh=function(e,t){this.name=e,this.useDefaults=t},kh.prototype={constructor:kh,extend:function(e,t,n){this.configure(this.useDefaults?e.defaults:e,this.useDefaults?t:t.constructor,n)},init:function(e,t,n){this.configure(this.useDefaults?e.defaults:e,t,n)},configure:function(e,t,n){var i,r=this.name,s=n[r];i=Go(e[r]);for(var a in s)i[a]=s[a];t[r]=i},reset:function(e){var t=e[this.name],n=!1;return Object.keys(t).forEach(function(e){var i=t[e];i._fn&&(i._fn.isOwner?t[e]=i._fn:delete t[e],n=!0)}),n}},Ch=Eh.map(function(e){return new kh(e,"computed"===e)});var Oh,Ph,jh,Lh,Fh,Ih;Lh={adapt:Id,css:$d,data:qd,template:Nh},jh=Object.keys(Vo),Ih=qn(jh.filter(function(e){return!Lh[e]})),Fh=qn(jh.concat(Ch.map(function(e){return e.name}))),Ph=[].concat(jh.filter(function(e){return!Ch[e]&&!Lh[e]}),Ch,Lh.data,Lh.template,Lh.css),Oh={extend:function(e,t,n){return $n("extend",e,t,n)},init:function(e,t,n){return $n("init",e,t,n)},reset:function(e){return Ph.filter(function(t){return t.reset&&t.reset(e)}).map(function(e){return e.name})},order:Ph,getConstructTarget:function(e,t){return t.onconstruct?{onconstruct:Vn(e,"onconstruct",t.onconstruct).bind(e),fire:e.fire.bind(e)}:e}};var Vh=function(){return t(this.node)},Rh=function(e){this.type=Bd,this.text=e.template};Rh.prototype={detach:Vh,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createTextNode(this.text)),this.node},toString:function(e){return e?sn(this.text):this.text},unrender:function(e){return e?this.detach():void 0}};var Mh=function(e,t,n){var i;this.ref=t,this.resolved=!1,this.root=e.root,this.parentFragment=e.parentFragment,this.callback=n,i=z(e.root,t,e.parentFragment),void 0!=i?this.resolve(i):Al.addUnresolved(this)};Mh.prototype={resolve:function(e){this.keypath&&!e&&Al.addUnresolved(this),this.resolved=!0,this.keypath=e,this.callback(e)},forceResolution:function(){this.resolve(V(this.ref))},rebind:function(e,t){var n;void 0!=this.keypath&&(n=this.keypath.replace(e,t),void 0!==n&&this.resolve(n))},unbind:function(){this.resolved||Al.removeUnresolved(this)}};var Dh=function(e,t,n){this.parentFragment=e.parentFragment,this.ref=t,this.callback=n,this.rebind()},zh={"@keypath":{prefix:"c",prop:["context"]},"@index":{prefix:"i",prop:["index"]},"@key":{prefix:"k",prop:["key","index"]}};Dh.prototype={rebind:function(){var e,t=this.ref,n=this.parentFragment,i=zh[t];if(!i)throw new Error('Unknown special reference "'+t+'" - valid references are @index, @key and @keypath');if(this.cached)return this.callback(V("@"+i.prefix+ri(this.cached,i)));if(-1!==i.prop.indexOf("index")||-1!==i.prop.indexOf("key"))for(;n;){if(n.owner.currentSubtype===Eu&&void 0!==(e=ri(n,i)))return this.cached=n,n.registerIndexRef(this),this.callback(V("@"+i.prefix+e));n=!n.parent&&n.owner&&n.owner.component&&n.owner.component.parentFragment&&!n.owner.component.instance.isolated?n.owner.component.parentFragment:n.parent}else for(;n;){if(void 0!==(e=ri(n,i)))return this.callback(V("@"+i.prefix+e.str));n=n.parent}},unbind:function(){this.cached&&this.cached.unregisterIndexRef(this)}};var $h=function(e,t,n){this.parentFragment=e.parentFragment,this.ref=t,this.callback=n,t.ref.fragment.registerIndexRef(this),this.rebind()};$h.prototype={rebind:function(){var e,t=this.ref.ref;e="k"===t.ref.t?"k"+t.fragment.key:"i"+t.fragment.index,void 0!==e&&this.callback(V("@"+e))},unbind:function(){this.ref.ref.fragment.unregisterIndexRef(this)}},si.resolve=function(e){var t,n,i={};for(t in e.refs)n=e.refs[t],i[n.ref.n]="k"===n.ref.t?n.fragment.key:n.fragment.index;return i};var Wh,qh={},Bh=Function.prototype.bind;Wh=function(e,t,n,i){var r,s=this;r=e.root,this.root=r,this.parentFragment=t,this.callback=i,this.owner=e,this.str=n.s,this.keypaths=[],this.pending=n.r.length,this.refResolvers=n.r.map(function(e,t){return ai(s,e,function(e){s.resolve(t,e)})}),this.ready=!0,this.bubble()},Wh.prototype={bubble:function(){this.ready&&(this.uniqueString=di(this.str,this.keypaths),this.keypath=ui(this.uniqueString),this.createEvaluator(),this.callback(this.keypath))},unbind:function(){for(var e;e=this.refResolvers.pop();)e.unbind()},resolve:function(e,t){this.keypaths[e]=t,this.bubble()},createEvaluator:function(){var e,t,n,i,r,s=this;i=this.keypath,e=this.root.viewmodel.computations[i.str],e?this.root.viewmodel.mark(i):(r=oi(this.str,this.refResolvers.length),t=this.keypaths.map(function(e){var t;return"undefined"===e?function(){return void 0}:e.isSpecial?(t=e.value,function(){return t}):function(){var t=s.root.viewmodel.get(e,{noUnwrap:!0});return"function"==typeof t&&(t=hi(t,s.root)),t}}),n={deps:this.keypaths.filter(ci),get:function(){var e=t.map(li);return r.apply(null,e)}},e=this.root.viewmodel.compute(i,n))},rebind:function(e,t){this.refResolvers.forEach(function(n){return n.rebind(e,t)})}};var Uh=function(e,t,n){var i=this;this.resolver=t,this.root=t.root,this.parentFragment=n,this.viewmodel=t.root.viewmodel,"string"==typeof e?this.value=e:e.t===fu?this.refResolver=ai(this,e.n,function(e){i.resolve(e)}):new Wh(t,n,e,function(e){i.resolve(e)})};Uh.prototype={resolve:function(e){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.keypath=e,this.value=this.viewmodel.get(e),this.bind(),this.resolver.bubble()},bind:function(){this.viewmodel.register(this.keypath,this)},rebind:function(e,t){this.refResolver&&this.refResolver.rebind(e,t)},setValue:function(e){this.value=e,this.resolver.bubble()},unbind:function(){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.refResolver&&this.refResolver.unbind()},forceResolution:function(){this.refResolver&&this.refResolver.forceResolution()}};var Hh=function(e,t,n){var i,r,s,a,o=this;this.parentFragment=a=e.parentFragment,this.root=i=e.root,this.mustache=e,this.ref=r=t.r,this.callback=n,this.unresolved=[],(s=z(i,r,a))?this.base=s:this.baseResolver=new Mh(this,r,function(e){o.base=e,o.baseResolver=null,o.bubble()}),this.members=t.m.map(function(e){return new Uh(e,o,a)}),this.ready=!0,this.bubble()};Hh.prototype={getKeypath:function(){var e=this.members.map(fi);return!e.every(pi)||this.baseResolver?null:this.base.join(e.join("."))},bubble:function(){this.ready&&!this.baseResolver&&this.callback(this.getKeypath())},unbind:function(){this.members.forEach(H)},rebind:function(e,t){var n;this.members.forEach(function(i){i.rebind(e,t)&&(n=!0)}),n&&this.bubble()},forceResolution:function(){this.baseResolver&&(this.base=V(this.ref),this.baseResolver.unbind(),this.baseResolver=null),this.members.forEach(mi),this.bubble()}};var Qh={getValue:ii,init:vi,resolve:gi,rebind:yi},Gh=function(e){this.type=Ud,Qh.init(this,e)};Gh.prototype={update:function(){this.node.data=void 0==this.value?"":this.value},resolve:Qh.resolve,rebind:Qh.rebind,detach:Vh,unbind:ni,render:function(){return this.node||(this.node=document.createTextNode(void 0!=this.value?this.value:"")),this.node},unrender:function(e){e&&t(this.node)},getValue:Qh.getValue,setValue:function(e){var t;this.keypath&&(t=this.root.viewmodel.wrapped[this.keypath.str])&&(e=t.get()),o(e,this.value)||(this.value=e,this.parentFragment.bubble(),this.node&&Al.addView(this))},firstNode:function(){return this.node},toString:function(e){var t=void 0!=this.value?""+this.value:"";return e?sn(t):t}};var Kh=function(e,t){Qh.rebind.call(this,e,t)},Zh=function(e){this.type=Qd,this.subtype=this.currentSubtype=e.template.n,this.inverted=this.subtype===_u,this.pElement=e.pElement,this.fragments=[],this.fragmentsToCreate=[],this.fragmentsToRender=[],this.fragmentsToUnrender=[],e.template.i&&(this.indexRefs=e.template.i.split(",").map(function(e,t){return{n:e,t:0===t?"k":"i"}})),this.renderedFragments=[],this.length=0,Qh.init(this,e)};Zh.prototype={bubble:wi,detach:bi,find:xi,findAll:_i,findAllComponents:Ei,findComponent:ki,findNextNode:Ci,firstNode:Si,getIndexRef:function(e){if(this.indexRefs)for(var t=this.indexRefs.length;t--;){var n=this.indexRefs[t];if(n.n===e)return n}},getValue:Qh.getValue,shuffle:Ai,rebind:Kh,render:Ni,resolve:Qh.resolve,setValue:Oi,toString:$i,unbind:Wi,unrender:qi,update:Hi};var Jh,Yh,Xh={};try{Do("table").innerHTML="foo"}catch(Jo){Jh=!0,Yh={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}var ef=function(e,t,n){var i,r,s,a,o,l=[];if(null!=e&&""!==e){for(Jh&&(r=Yh[t.tagName])?(i=Ji("DIV"),i.innerHTML=r[0]+e+r[1],i=i.querySelector(".x"),"SELECT"===i.tagName&&(s=i.options[i.selectedIndex])):t.namespaceURI===jo.svg?(i=Ji("DIV"),i.innerHTML='<svg class="x">'+e+"</svg>",i=i.querySelector(".x")):(i=Ji(t.tagName),i.innerHTML=e,"SELECT"===i.tagName&&(s=i.options[i.selectedIndex]));a=i.firstChild;)l.push(a),n.appendChild(a);if("SELECT"===t.tagName)for(o=l.length;o--;)l[o]!==s&&(l[o].selected=!1)}return l},tf=function(e){this.type=Hd,Qh.init(this,e)};tf.prototype={detach:Qi,find:Gi,findAll:Ki,firstNode:Zi,getValue:Qh.getValue,rebind:Qh.rebind,render:er,resolve:Qh.resolve,setValue:tr,toString:nr,unbind:ni,unrender:ir,update:rr};var nf,rf,sf,af,of=function(){this.parentFragment.bubble()},lf=function(e){return this.node?zo(this.node,e)?this.node:this.fragment&&this.fragment.find?this.fragment.find(e):void 0:null},df=function(e,t){t._test(this,!0)&&t.live&&(this.liveQueries||(this.liveQueries=[])).push(t),this.fragment&&this.fragment.findAll(e,t)},uf=function(e,t){this.fragment&&this.fragment.findAllComponents(e,t)},cf=function(e){return this.fragment?this.fragment.findComponent(e):void 0},hf=/^true|on|yes|1$/i,ff=/^[0-9]+$/,pf=function(e,t){var n,i,r;return r=t.a||{},i={},n=r.twoway,void 0!==n&&(i.twoway=0===n||hf.test(n)),n=r.lazy,void 0!==n&&(i.lazy=0!==n&&ff.test(n)?parseInt(n):0===n||hf.test(n)),i};nf="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),rf="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),sf=function(e){for(var t={},n=e.length;n--;)t[e[n].toLowerCase()]=e[n];return t},af=sf(nf.concat(rf));var mf=function(e){var t=e.toLowerCase();return af[t]||t},vf=function(e,t){var n,i;if(n=t.indexOf(":"),-1===n||(i=t.substr(0,n),"xmlns"===i))e.name=e.element.namespace!==jo.html?mf(t):t;else if(t=t.substring(n+1),e.name=mf(t),e.namespace=jo[i.toLowerCase()],e.namespacePrefix=i,!e.namespace)throw'Unknown namespace ("'+i+'")'},gf={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},yf=function(e){this.init(e)};yf.prototype={bubble:dr,init:cr,rebind:hr,render:fr,toString:pr,unbind:vr,update:Nr};var wf,bf=function(e,t){var n,i,r=[];for(n in t)"twoway"!==n&&"lazy"!==n&&t.hasOwnProperty(n)&&(i=new yf({element:e,name:n,value:t[n],root:e.root}),r[n]=i,"value"!==n&&r.push(i));return(i=r.value)&&r.push(i),r};"undefined"!=typeof document&&(wf=Do("div"));var xf=function(e,t){this.element=e,this.root=e.root,this.parentFragment=e.parentFragment,this.attributes=[],this.fragment=new im({root:e.root,owner:this,template:[t]})};xf.prototype={bubble:function(){this.node&&this.update(),this.element.bubble()},rebind:function(e,t){this.fragment.rebind(e,t)},render:function(e){this.node=e,this.isSvg=e.namespaceURI===jo.svg,this.update()},unbind:function(){this.fragment.unbind()},update:function(){var e,t,n=this;e=this.fragment.toString(),t=Or(e,this.isSvg),this.attributes.filter(function(e){return Pr(t,e)}).forEach(function(e){n.node.removeAttribute(e.name)}),t.forEach(function(e){n.node.setAttribute(e.name,e.value)}),this.attributes=t},toString:function(){return this.fragment.toString()}};var _f=function(e,t){return t?t.map(function(t){return new xf(e,t)}):[]},Ef=function(e){var t,n,i,r;if(this.element=e,this.root=e.root,this.attribute=e.attributes[this.name||"value"],t=this.attribute.interpolator,t.twowayBinding=this,n=t.keypath){if("}"===n.str.slice(-1))return p("Two-way binding does not work with expressions (`%s` on <%s>)",t.resolver.uniqueString,e.name),!1}else t.resolver.forceResolution(),n=t.keypath;this.attribute.isTwoway=!0,this.keypath=n,i=this.root.viewmodel.get(n),void 0===i&&this.getInitialValue&&(i=this.getInitialValue(),void 0!==i&&this.root.viewmodel.set(n,i)),(r=jr(e))&&(this.resetValue=i,r.formBindings.push(this))};Ef.prototype={handleChange:function(){var e=this;Al.start(this.root),this.attribute.locked=!0,this.root.viewmodel.set(this.keypath,this.getValue()),Al.scheduleTask(function(){return e.attribute.locked=!1}),Al.end()},rebound:function(){var e,t,n;t=this.keypath,n=this.attribute.interpolator.keypath,t!==n&&(A(this.root._twowayBindings[t.str],this),this.keypath=n,e=this.root._twowayBindings[n.str]||(this.root._twowayBindings[n.str]=[]),e.push(this))},unbind:function(){}},Ef.extend=function(e){var t,i=this;return t=function(e){Ef.call(this,e),this.init&&this.init()},t.prototype=Go(i.prototype),n(t.prototype,e),t.extend=Ef.extend,t};var kf,Cf=Ef,Sf=Cf.extend({getInitialValue:function(){return this.element.fragment?this.element.fragment.toString():""},render:function(){var e=this.element.node;e.addEventListener("change",Lr,!1),this.root.lazy||(e.addEventListener("input",Lr,!1),e.attachEvent&&e.addEventListener("keyup",Lr,!1))},unrender:function(){var e=this.element.node;e.removeEventListener("change",Lr,!1),e.removeEventListener("input",Lr,!1),e.removeEventListener("keyup",Lr,!1)},getValue:function(){return this.element.node.innerHTML}}),Af={},Tf=Cf.extend({name:"checked",init:function(){this.siblings=Fr(this.root._guid,"radio",this.element.getAttribute("name")),this.siblings.push(this)},render:function(){var e=this.element.node;e.addEventListener("change",Lr,!1),e.attachEvent&&e.addEventListener("click",Lr,!1)},unrender:function(){var e=this.element.node;e.removeEventListener("change",Lr,!1),e.removeEventListener("click",Lr,!1)},handleChange:function(){Al.start(this.root),this.siblings.forEach(function(e){e.root.viewmodel.set(e.keypath,e.getValue())}),Al.end()},getValue:function(){return this.element.node.checked},unbind:function(){A(this.siblings,this)}}),Nf=Cf.extend({name:"name",init:function(){this.siblings=Fr(this.root._guid,"radioname",this.keypath.str),this.siblings.push(this),this.radioName=!0},getInitialValue:function(){return this.element.getAttribute("checked")?this.element.getAttribute("value"):void 0},render:function(){var e=this.element.node;e.name="{{"+this.keypath.str+"}}",e.checked=this.root.viewmodel.get(this.keypath)==this.element.getAttribute("value"),e.addEventListener("change",Lr,!1),e.attachEvent&&e.addEventListener("click",Lr,!1)},unrender:function(){var e=this.element.node;e.removeEventListener("change",Lr,!1),e.removeEventListener("click",Lr,!1)},getValue:function(){var e=this.element.node;return e._ractive?e._ractive.value:e.value},handleChange:function(){this.element.node.checked&&Cf.prototype.handleChange.call(this)},rebound:function(e,t){var n;Cf.prototype.rebound.call(this,e,t),(n=this.element.node)&&(n.name="{{"+this.keypath.str+"}}")},unbind:function(){A(this.siblings,this)}}),Of=Cf.extend({name:"name",getInitialValue:function(){return this.noInitialValue=!0,[]},init:function(){var e,t;this.checkboxName=!0,this.siblings=Fr(this.root._guid,"checkboxes",this.keypath.str),this.siblings.push(this),this.noInitialValue&&(this.siblings.noInitialValue=!0),this.siblings.noInitialValue&&this.element.getAttribute("checked")&&(e=this.root.viewmodel.get(this.keypath),t=this.element.getAttribute("value"),e.push(t))},unbind:function(){A(this.siblings,this)},render:function(){var e,t,n=this.element.node;e=this.root.viewmodel.get(this.keypath),t=this.element.getAttribute("value"),this.isChecked=r(e)?E(e,t):e==t,n.name="{{"+this.keypath.str+"}}",n.checked=this.isChecked,n.addEventListener("change",Lr,!1),n.attachEvent&&n.addEventListener("click",Lr,!1)},unrender:function(){var e=this.element.node;e.removeEventListener("change",Lr,!1),e.removeEventListener("click",Lr,!1)},changed:function(){var e=!!this.isChecked;return this.isChecked=this.element.node.checked,this.isChecked===e},handleChange:function(){this.isChecked=this.element.node.checked,Cf.prototype.handleChange.call(this)},getValue:function(){return this.siblings.filter(Ir).map(Vr)}}),Pf=Cf.extend({name:"checked",render:function(){var e=this.element.node;e.addEventListener("change",Lr,!1),e.attachEvent&&e.addEventListener("click",Lr,!1)},unrender:function(){var e=this.element.node;e.removeEventListener("change",Lr,!1),e.removeEventListener("click",Lr,!1)},getValue:function(){return this.element.node.checked}}),jf=Cf.extend({getInitialValue:function(){var e,t,n,i,r=this.element.options;if(void 0===this.element.getAttribute("value")&&(t=e=r.length,e)){for(;t--;)if(r[t].getAttribute("selected")){n=r[t].getAttribute("value"),i=!0;break}if(!i)for(;++t<e;)if(!r[t].getAttribute("disabled")){n=r[t].getAttribute("value");break}return void 0!==n&&(this.element.attributes.value.value=n),n}},render:function(){this.element.node.addEventListener("change",Lr,!1)},unrender:function(){this.element.node.removeEventListener("change",Lr,!1)},setValue:function(e){this.root.viewmodel.set(this.keypath,e)},getValue:function(){var e,t,n,i,r;for(e=this.element.node.options,n=e.length,t=0;n>t;t+=1)if(i=e[t],e[t].selected)return r=i._ractive?i._ractive.value:i.value},forceUpdate:function(){var e=this,t=this.getValue();void 0!==t&&(this.attribute.locked=!0,Al.scheduleTask(function(){return e.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,t))}}),Lf=jf.extend({getInitialValue:function(){return this.element.options.filter(function(e){return e.getAttribute("selected")}).map(function(e){return e.getAttribute("value")})},render:function(){var e;this.element.node.addEventListener("change",Lr,!1),e=this.root.viewmodel.get(this.keypath),void 0===e&&this.handleChange()},unrender:function(){this.element.node.removeEventListener("change",Lr,!1)},setValue:function(){throw new Error("TODO not implemented yet")},getValue:function(){var e,t,n,i,r,s;for(e=[],t=this.element.node.options,i=t.length,n=0;i>n;n+=1)r=t[n],r.selected&&(s=r._ractive?r._ractive.value:r.value,e.push(s));return e},handleChange:function(){var e,t,n;return e=this.attribute,t=e.value,n=this.getValue(),void 0!==t&&k(n,t)||jf.prototype.handleChange.call(this),this},forceUpdate:function(){var e=this,t=this.getValue();void 0!==t&&(this.attribute.locked=!0,Al.scheduleTask(function(){return e.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,t))},updateModel:function(){void 0!==this.attribute.value&&this.attribute.value.length||this.root.viewmodel.set(this.keypath,this.initialValue)}}),Ff=Cf.extend({render:function(){this.element.node.addEventListener("change",Lr,!1)},unrender:function(){this.element.node.removeEventListener("change",Lr,!1)},getValue:function(){return this.element.node.files}});kf=Cf.extend({getInitialValue:function(){return""},getValue:function(){return this.element.node.value},render:function(){var e,t=this.element.node,n=!1;this.rendered=!0,e=this.root.lazy,this.element.lazy===!0?e=!0:this.element.lazy===!1?e=!1:l(this.element.lazy)?(e=!1,n=+this.element.lazy):l(e||"")&&(n=+e,e=!1,this.element.lazy=n),this.handler=n?Mr:Lr,t.addEventListener("change",Lr,!1),e||(t.addEventListener("input",this.handler,!1),t.attachEvent&&t.addEventListener("keyup",this.handler,!1)),t.addEventListener("blur",Rr,!1)},unrender:function(){var e=this.element.node;this.rendered=!1,e.removeEventListener("change",Lr,!1),e.removeEventListener("input",this.handler,!1),e.removeEventListener("keyup",this.handler,!1),e.removeEventListener("blur",Rr,!1)}});var If=kf.extend({getInitialValue:function(){return void 0},getValue:function(){var e=parseFloat(this.element.node.value);return isNaN(e)?void 0:e}}),Vf=/^event(?:\.(.+))?/,Rf={},Mf={touchstart:!0,touchmove:!0,touchend:!0,touchcancel:!0,touchleave:!0},Df=function(e,t,n){this.init(e,t,n)};Df.prototype={bubble:$r,fire:Wr,getAction:qr,init:Br,listen:Kr,rebind:Jr,render:Yr,resolve:Xr,unbind:es,unrender:ts};var zf=function(e,t){var n,i,r,s,a=[];for(i in t)if(t.hasOwnProperty(i))for(r=i.split("-"),n=r.length;n--;)s=new Df(e,r[n],t[i]),a.push(s);return a},$f=function(e,t){var n,i,r,s=this;this.element=e,this.root=n=e.root,i=t.n||t,("string"==typeof i||(r=new im({template:i,root:n,owner:e}),i=r.toString(),r.unbind(),""!==i))&&(t.a?this.params=t.a:t.d&&(this.fragment=new im({template:t.d,root:n,owner:e}),this.params=this.fragment.getArgsList(),this.fragment.bubble=function(){this.dirtyArgs=this.dirtyValue=!0,s.params=this.getArgsList(),s.ready&&s.update()}),this.fn=v("decorators",n,i),this.fn||p(ll(i,"decorator")))};$f.prototype={init:function(){var e,t,n;if(e=this.element.node,this.params?(n=[e].concat(this.params),t=this.fn.apply(this.root,n)):t=this.fn.call(this.root,e),!t||!t.teardown)throw new Error("Decorator definition must return an object with a teardown method");this.actual=t,this.ready=!0},update:function(){this.actual.update?this.actual.update.apply(this.root,this.params):(this.actual.teardown(!0),this.init())},rebind:function(e,t){this.fragment&&this.fragment.rebind(e,t)},teardown:function(e){this.torndown=!0,this.ready&&this.actual.teardown(),!e&&this.fragment&&this.fragment.unbind()}};var Wf,qf,Bf,Uf=function(e){return e.replace(/-([a-zA-Z])/g,function(e,t){return t.toUpperCase()})};No?(qf={},Bf=Do("div").style,Wf=function(e){var t,n,i;if(e=Uf(e),!qf[e])if(void 0!==Bf[e])qf[e]=e;else for(i=e.charAt(0).toUpperCase()+e.substring(1),t=Fo.length;t--;)if(n=Fo[t],void 0!==Bf[n+i]){qf[e]=n+i;break}return qf[e]}):Wf=null;var Hf,Qf,Gf=Wf;No?(Qf=window.getComputedStyle||legacy.getComputedStyle,Hf=function(e){var t,n,i,s,a;if(t=Qf(this.node),"string"==typeof e)return a=t[Gf(e)],"0px"===a&&(a=0),a;if(!r(e))throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties");for(n={},i=e.length;i--;)s=e[i],a=t[Gf(s)],"0px"===a&&(a=0),n[s]=a;return n}):Hf=null;var Kf=function(e,t){var n;if("string"==typeof e)this.node.style[Gf(e)]=t;else for(n in e)e.hasOwnProperty(n)&&(this.node.style[Gf(n)]=e[n]);return this},Zf=function(e){var t;this.duration=e.duration,this.step=e.step,this.complete=e.complete,"string"==typeof e.easing?(t=e.root.easing[e.easing],t||(m(ll(e.easing,"easing")),t=vs)):t="function"==typeof e.easing?e.easing:vs,this.easing=t,this.start=cl(),this.end=this.start+this.duration,this.running=!0,jl.add(this)};Zf.prototype={tick:function(e){var t,n;return this.running?e>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(t=e-this.start,n=this.easing(t/this.duration),this.step&&this.step(n),!0):!1},stop:function(){this.abort&&this.abort(),this.running=!1}};var Jf,Yf,Xf,ep,tp,np,ip,rp,sp=new RegExp("^-(?:"+Fo.join("|")+")-"),ap=function(e){return e.replace(sp,"")},op=new RegExp("^(?:"+Fo.join("|")+")([A-Z])"),lp=function(e){var t;return e?(op.test(e)&&(e="-"+e),t=e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})):""},dp={},up={};No?(Yf=Do("div").style,function(){void 0!==Yf.transition?(Xf="transition",ep="transitionend",tp=!0):void 0!==Yf.webkitTransition?(Xf="webkitTransition",ep="webkitTransitionEnd",tp=!0):tp=!1}(),Xf&&(np=Xf+"Duration",ip=Xf+"Property",rp=Xf+"TimingFunction"),Jf=function(e,t,n,i,r){setTimeout(function(){var s,a,o,l,d;l=function(){a&&o&&(e.root.fire(e.name+":end",e.node,e.isIntro),r())},s=(e.node.namespaceURI||"")+e.node.tagName,e.node.style[ip]=i.map(Gf).map(lp).join(","),e.node.style[rp]=lp(n.easing||"linear"),e.node.style[np]=n.duration/1e3+"s",d=function(t){var n;n=i.indexOf(Uf(ap(t.propertyName))),-1!==n&&i.splice(n,1),i.length||(e.node.removeEventListener(ep,d,!1),o=!0,l())},e.node.addEventListener(ep,d,!1),setTimeout(function(){for(var r,u,c,h,f,m=i.length,v=[];m--;)h=i[m],r=s+h,tp&&!up[r]&&(e.node.style[Gf(h)]=t[h],dp[r]||(u=e.getStyle(h),dp[r]=e.getStyle(h)!=t[h],up[r]=!dp[r],up[r]&&(e.node.style[Gf(h)]=u))),(!tp||up[r])&&(void 0===u&&(u=e.getStyle(h)),c=i.indexOf(h),-1===c?p("Something very strange happened with transitions. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!"):i.splice(c,1),f=/[^\d]*$/.exec(t[h])[0],v.push({name:Gf(h),interpolator:dl(parseFloat(u),parseFloat(t[h])),suffix:f}));v.length?new Zf({root:e.root,duration:n.duration,easing:Uf(n.easing||""),step:function(t){var n,i;for(i=v.length;i--;)n=v[i],e.node.style[n.name]=n.interpolator(t)+n.suffix},complete:function(){a=!0,l()}}):a=!0,i.length||(e.node.removeEventListener(ep,d,!1),o=!0,l())},0)},n.delay||0)}):Jf=null;var cp,hp,fp,pp,mp;if("undefined"!=typeof document){if(cp="hidden",mp={},cp in document)fp="";
else for(pp=Fo.length;pp--;)hp=Fo[pp],cp=hp+"Hidden",cp in document&&(fp=hp);void 0!==fp?(document.addEventListener(fp+"visibilitychange",gs),gs()):("onfocusout"in document?(document.addEventListener("focusout",ys),document.addEventListener("focusin",ws)):(window.addEventListener("pagehide",ys),window.addEventListener("blur",ys),window.addEventListener("pageshow",ws),window.addEventListener("focus",ws)),mp.hidden=!1)}var vp,gp,yp;No?(gp=window.getComputedStyle||legacy.getComputedStyle,vp=function(e,t,n){var i,r=this;if(4===arguments.length)throw new Error("t.animateStyle() returns a promise - use .then() instead of passing a callback");if(mp.hidden)return this.setStyle(e,t),yp||(yp=xl.resolve());"string"==typeof e?(i={},i[e]=t):(i=e,n=t),n||(p('The "%s" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340',this.name),n=this);var s=new xl(function(e){var t,s,a,o,l,d,u;if(!n.duration)return r.setStyle(i),void e();for(t=Object.keys(i),s=[],a=gp(r.node),l={},d=t.length;d--;)u=t[d],o=a[Gf(u)],"0px"===o&&(o=0),o!=i[u]&&(s.push(u),r.node.style[Gf(u)]=o);return s.length?void Jf(r,i,n,s,e):void e()});return s}):vp=null;var wp=function(e,t){return"number"==typeof e?e={duration:e}:"string"==typeof e?e="slow"===e?{duration:600}:"fast"===e?{duration:200}:{duration:400}:e||(e={}),i({},e,t)},bp=function(e,t,n){this.init(e,t,n)};bp.prototype={init:ms,start:bs,getStyle:Hf,setStyle:Kf,animateStyle:vp,processParams:wp};var xp,_p;xp=function(){var e=this.node,t=this.fragment.toString(!1);if(window&&window.appearsToBeIELessEqual8&&(e.type="text/css"),e.styleSheet)e.styleSheet.cssText=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}},_p=function(){this.node.type&&"text/javascript"!==this.node.type||p("Script tag was updated. This does not cause the code to be re-evaluated!"),this.node.text=this.fragment.toString(!1)};var Ep=function(){var e,t;return this.template.y?"<!DOCTYPE"+this.template.dd+">":(e="<"+this.template.e,e+=this.attributes.map(Ts).join("")+this.conditionalAttributes.map(Ts).join(""),"option"===this.name&&Ss(this)&&(e+=" selected"),"input"===this.name&&As(this)&&(e+=" checked"),e+=">","textarea"===this.name&&void 0!==this.getAttribute("value")?e+=sn(this.getAttribute("value")):void 0!==this.getAttribute("contenteditable")&&(e+=this.getAttribute("value")),this.fragment&&(t="script"!==this.name&&"style"!==this.name,e+=this.fragment.toString(t)),xc.test(this.template.e)||(e+="</"+this.template.e+">"),e)},kp=function(e){this.init(e)};kp.prototype={bubble:of,detach:sr,find:lf,findAll:df,findAllComponents:uf,findComponent:cf,findNextNode:ar,firstNode:or,getAttribute:lr,init:ls,rebind:ds,render:_s,toString:Ep,unbind:Ns,unrender:Os};var Cp=/^\s*$/,Sp=/^\s*/,Ap=function(e){var t,n,i,r;return t=e.split("\n"),n=t[0],void 0!==n&&Cp.test(n)&&t.shift(),i=S(t),void 0!==i&&Cp.test(i)&&t.pop(),r=t.reduce(js,null),r&&(e=t.map(function(e){return e.replace(r,"")}).join("\n")),e},Tp=function(e,t){var n;return t?n=e.split("\n").map(function(e,n){return n?t+e:e}).join("\n"):e},Np=function(e){var t,n;t=this.parentFragment=e.parentFragment,this.root=t.root,this.type=Jd,this.index=e.index,this.name=e.template.r,this.fragment=this.fragmentToRender=this.fragmentToUnrender=null,Qh.init(this,e),!this.keypath&&(n=Ls(this.root,this.name))&&(ni.call(this),this.isNamed=!0,this.setTemplate(n))};Np.prototype={bubble:function(){this.parentFragment.bubble()},detach:function(){return this.fragment.detach()},find:function(e){return this.fragment.find(e)},findAll:function(e,t){return this.fragment.findAll(e,t)},findComponent:function(e){return this.fragment.findComponent(e)},findAllComponents:function(e,t){return this.fragment.findAllComponents(e,t)},firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},getPartialName:function(){return this.isNamed&&this.name?this.name:void 0===this.value?this.name:this.value},getValue:function(){return this.fragment.getValue()},rebind:function(e,t){this.isNamed||yi.call(this,e,t),this.fragment.rebind(e,t)},render:function(){return this.docFrag=document.createDocumentFragment(),this.update(),this.rendered=!0,this.docFrag},resolve:Qh.resolve,setValue:function(e){var t;(void 0===e||e!==this.value)&&(void 0!==e&&(t=Ls(this.root,""+e)),!t&&this.name&&(t=Ls(this.root,this.name))&&(ni.call(this),this.isNamed=!0),t||(this.root.debug?f:m)('Could not find template for partial "%s"',this.name),this.value=e,this.setTemplate(t||[]),this.bubble(),this.rendered&&Al.addView(this))},setTemplate:function(e){this.fragment&&(this.fragment.unbind(),this.fragmentToUnrender=this.fragment),this.fragment=new im({template:e,root:this.root,owner:this,pElement:this.parentFragment.pElement}),this.fragmentToRender=this.fragment},toString:function(e){var t,n,i,r;return t=this.fragment.toString(e),n=this.parentFragment.items[this.index-1],n&&n.type===Bd?(i=n.text.split("\n").pop(),(r=/^\s+$/.exec(i))?Tp(t,r[0]):t):t},unbind:function(){this.isNamed||ni.call(this),this.fragment&&this.fragment.unbind()},unrender:function(e){this.rendered&&(this.fragment&&this.fragment.unrender(e),this.rendered=!1)},update:function(){var e,t;this.fragmentToUnrender&&(this.fragmentToUnrender.unrender(!0),this.fragmentToUnrender=null),this.fragmentToRender&&(this.docFrag.appendChild(this.fragmentToRender.render()),this.fragmentToRender=null),this.rendered&&(e=this.parentFragment.getNode(),t=this.parentFragment.findNextNode(this),e.insertBefore(this.docFrag,t))}};var Op=new x("detach"),Pp={},jp=/\$\{([^\}]+)\}/g,Lp=function(e){return"function"==typeof e?{get:e}:"string"==typeof e?{get:sa(e)}:("object"==typeof e&&"string"==typeof e.get&&(e={get:sa(e.get),set:e.set}),e)},Fp=function(e,t){this.computation=e,this.viewmodel=e.viewmodel,this.ref=t,this.root=this.viewmodel.ractive,this.parentFragment=this.root.component&&this.root.component.parentFragment};Fp.prototype={resolve:function(e){this.computation.softDeps.push(e),this.computation.unresolvedDeps[e.str]=null,this.viewmodel.register(e,this.computation,"computed")}};var Ip=function(e,t,n){var i=this;this.ractive=e,this.viewmodel=e.viewmodel,this.key=t,this.getter=n.get,this.setter=n.set,this.hardDeps=n.deps||[],this.softDeps=[],this.unresolvedDeps={},this.depValues={},this.hardDeps&&this.hardDeps.forEach(function(t){return e.viewmodel.register(t,i,"computed")}),this._dirty=this._firstRun=!0};Ip.prototype={constructor:Ip,init:function(){var e;this.bypass=!0,e=this.ractive.viewmodel.get(this.key),this.ractive.viewmodel.clearCache(this.key.str),this.bypass=!1,this.setter&&void 0!==e&&this.set(e)},invalidate:function(){this._dirty=!0},get:function(){var e,t,n,i=this,r=!1;if(!this.getting){if(this.getting=!0,this._dirty){if(e=this.ractive,this._firstRun||!this.hardDeps.length&&!this.softDeps.length?r=!0:[this.hardDeps,this.softDeps].forEach(function(t){var n,s,a;if(!r)for(a=t.length;a--;)if(n=t[a],s=e.viewmodel.get(n),!o(s,i.depValues[n.str]))return i.depValues[n.str]=s,void(r=!0)}),r){e.viewmodel.capture();try{this.value=this.getter.call(e)}catch(s){e.debug&&(p('Failed to compute "%s"',this.key.str),Yo(s.stack||s)),this.value=void 0}t=e.viewmodel.release(),n=this.updateDependencies(t),n&&[this.hardDeps,this.softDeps].forEach(function(t){t.forEach(function(t){i.depValues[t.str]=e.viewmodel.get(t)})})}this._dirty=!1}return this.getting=this._firstRun=!1,this.value}},set:function(e){if(this.setting)return void(this.value=e);if(!this.setter)throw new Error("Computed properties without setters are read-only. (This may change in a future version of Ractive!)");this.setter.call(this.ractive,e)},updateDependencies:function(e){var t,n,i,r,s;for(n=this.softDeps,t=n.length;t--;)i=n[t],-1===e.indexOf(i)&&(r=!0,this.viewmodel.unregister(i,this,"computed"));for(t=e.length;t--;)i=e[t],-1!==n.indexOf(i)||this.hardDeps&&-1!==this.hardDeps.indexOf(i)||(r=!0,aa(this.viewmodel,i)&&!this.unresolvedDeps[i.str]?(s=new Fp(this,i.str),e.splice(t,1),this.unresolvedDeps[i.str]=s,Al.addUnresolved(s)):this.viewmodel.register(i,this,"computed"));return r&&(this.softDeps=e.slice()),r}};var Vp={FAILED_LOOKUP:!0},Rp={};ha.prototype.setValue=function(e){this.viewmodel.set(this.keypath,e,{noMapping:!0})},fa.prototype={ensureKeypath:function(){if(!this.keypath&&(u(this.force)&&this.force(),!this.keypath))throw new Error('Mapping "'+this.localKey.str+'" on component "'+this.local.ractive.component.name+'" does not have a keypath. This is usually caused by an ambiguous complex reference, which can usually be fixed by scoping your references.')},get:function(e,t){return this.resolved?this.origin.get(this.map(e),t):void 0},getValue:function(){return this.keypath?this.origin.get(this.keypath):void 0},initViewmodel:function(e){this.local=e,this.setup()},map:function(e){return e.replace(this.localKey,this.keypath)},register:function(e,t,n){this.deps.push({keypath:e,dep:t,group:n}),this.resolved&&this.origin.register(this.map(e),t,n)},resolve:function(e){void 0!==this.keypath&&this.unbind(!0),this.keypath=e,this.setup()},set:function(e,t){this.ensureKeypath(),this.origin.set(this.map(e),t)},setup:function(){var e=this;void 0!==this.keypath&&(this.resolved=!0,this.trackData&&(this.tracker=new ha(this.localKey,this.local),this.origin.register(this.keypath,this.tracker)),this.deps.length&&(this.deps.forEach(function(t){var n=e.map(t.keypath);e.origin.register(n,t.dep,t.group),u(t.dep.setValue)?t.dep.setValue(e.origin.get(n)):e.local.mark(t.dep.key)}),this.origin.mark(this.keypath)))},setValue:function(e){this.ensureKeypath(),this.origin.set(this.keypath,e)},unbind:function(e){var t=this;e||delete this.local.mappings[this.localKey],this.deps.forEach(function(e){t.origin.unregister(t.map(e.keypath),e.dep,e.group)}),this.tracker&&this.origin.unregister(this.keypath,this.tracker)},unregister:function(e,t,n){for(var i=this.deps,r=i.length;r--;)if(i[r].dep===t){i.splice(r,1);break}this.origin.unregister(this.map(e),t,n)}};var Mp=function(e,t){var n,i,r,s;return n={},i=0,r=e.map(function(e,r){var a,o,l;o=i,l=t.length;do{if(a=t.indexOf(e,o),-1===a)return s=!0,-1;o=a+1}while(n[a]&&l>o);return a===i&&(i+=1),a!==r&&(s=!0),n[a]=!0,a})},Dp={},zp={implicit:!0},$p={noCascade:!0},Wp=function(e,t){var n,i;this.ractive=e,this.mappings=t||Go(null);for(n in t)t[n].initViewmodel(this);if(e.data&&e.parameters!==!0)for(n in e.data)(i=this.mappings[n])&&void 0===i.getValue()&&i.setValue(e.data[n]);this.cache={},this.cacheMap=Go(null),this.deps={computed:Go(null),"default":Go(null)},this.depsMap={computed:Go(null),"default":Go(null)},this.patternObservers=[],this.specials=Go(null),this.wrapped=Go(null),this.computations=Go(null),this.captureGroups=[],this.unresolvedImplicitDependencies=[],this.changes=[],this.implicitChanges={},this.noCascade={}};Wp.prototype={adapt:Us,applyChanges:Ys,capture:ia,clearCache:ra,compute:oa,get:la,init:ua,map:pa,mark:ma,merge:va,register:wa,release:xa,set:_a,smartUpdate:ka,teardown:Sa,unregister:Aa},Na.prototype={constructor:Na,begin:function(e){this.inProcess[e._guid]=!0},end:function(e){var t=e.parent;t&&this.inProcess[t._guid]?Oa(this.queue,t).push(e):Pa(this,e),delete this.inProcess[e._guid]}};var qp=new x("construct"),Bp=new x("config"),Up=new Na("init"),Hp=0,Qp=ja,Gp=function(e,t,i,r,s){var a,o,l,d,u,c={};for(o=e.parentFragment,l=e.root,s=s||{},n(c,s||{}),s.content=r||[],c[""]=s.content,t.defaults.el&&p("The <%s/> component has a default `el` property; it has been disregarded",e.name),d=o;d;){if(d.owner.type===iu){u=d.owner.container;break}d=d.parent}return a=Go(t.prototype),Qp(a,{el:null,append:!0,data:i.data,partials:s,magic:l.magic||t.defaults.magic,modifyArrays:l.modifyArrays,adapt:l.adapt},{parent:l,component:e,container:u,mappings:i.mappings,inlinePartials:c}),a};Fa.prototype={bubble:function(){this.dirty||(this.dirty=!0,Al.addView(this))},update:function(){var e=this.parameters.component.instance.viewmodel;this.parameters.addData(this.key.str,this.fragment.getValue()),e.mark(this.key),this.dirty=!1},rebind:function(e,t){this.fragment.rebind(e,t)},unbind:function(){this.fragment.unbind()}};var Kp=["_data","_mappings"];$a.prototype={resolve:function(e){this.resolved=!0,this.ready?this.readyResolve(e):this.notReadyResolve(e)},notReadyResolve:function(e){if(e.isSpecial)this.parameters.addData(this.key.str,e.value);else{var t=this.parameters.addMapping(this.key,e);void 0===t.getValue()&&(t.updatable=!0)}},readyResolve:function(e){var t=this.parameters.component.instance.viewmodel;e.isSpecial?(this.parameters.addData(this.key.str,e.value),t.mark(this.key)):t.reversedMappings&&t.reversedMappings[this.key.str]?t.reversedMappings[this.key.str].rebind(e):t.mappings[this.key.str].resolve(e)}},Ba.prototype={add:function(e,t){if("string"==typeof t){var n=Jc(t);this.addData(e.str,n?n.value:t)}else if(0===t)this.addData(e.str);else{var i=void 0;i=Ua(t)?new $a(this,e,t[0]).resolver:new Fa(this,e,t),this.component.resolvers.push(i)}},addData:function(e,t){this.data[e]=t},addMapping:function(e,t,n){return this.mappings[e.str]=new fa(e,{origin:this.parentViewmodel,keypath:t,force:n})}};var Zp=function(e){var t,n;for(t=e.root;t;)(n=t._liveComponentQueries["_"+e.name])&&n.push(e.instance),t=t.parent},Jp=new x("teardown"),Yp=function(e,t){this.init(e,t)};Yp.prototype={detach:Ms,find:Ds,findAll:zs,findAllComponents:$s,findComponent:Ws,findNextNode:qs,firstNode:Bs,init:Ga,rebind:Ka,render:Za,toString:Ja,unbind:Ya,unrender:eo};var Xp=Yp,em=function(e){this.type=Yd,this.value=e.template.c};em.prototype={detach:Vh,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createComment(this.value)),this.node},toString:function(){return"<!--"+this.value+"-->"},unrender:function(e){e&&this.node.parentNode.removeChild(this.node)}};var tm=function(e){var t,n;this.type=iu,this.container=t=e.parentFragment.root,this.component=n=t.component,this.container=t,this.containerFragment=e.parentFragment,this.parentFragment=n.parentFragment;var i=this.name=e.template.yn||"";this.fragment=new im({owner:this,root:t.parent,template:t._inlinePartials[i]||[],pElement:this.containerFragment.pElement}),r(n.yielders[i])?n.yielders[i].push(this):n.yielders[i]=[this],Al.scheduleTask(function(){if(n.yielders[i].length>1)throw new Error("A component template can only have one {{yield"+(i?" "+i:"")+"}} declaration at a time")})};tm.prototype={detach:function(){return this.fragment.detach()},find:function(e){return this.fragment.find(e)},findAll:function(e,t){return this.fragment.findAll(e,t)},findComponent:function(e){return this.fragment.findComponent(e)},findAllComponents:function(e,t){return this.fragment.findAllComponents(e,t)},findNextNode:function(){return this.containerFragment.findNextNode(this)},firstNode:function(){return this.fragment.firstNode()},getValue:function(e){return this.fragment.getValue(e)},render:function(){return this.fragment.render()},unbind:function(){this.fragment.unbind()},unrender:function(e){this.fragment.unrender(e),A(this.component.yielders[this.name],this)},rebind:function(e,t){this.fragment.rebind(e,t)},toString:function(){return this.fragment.toString()}};var nm=function(e){this.declaration=e.template.a};nm.prototype={init:il,render:il,unrender:il,teardown:il,toString:function(){return"<!DOCTYPE"+this.declaration+">"}};var im=function(e){this.init(e)};im.prototype={bubble:Bn,detach:Un,find:Hn,findAll:Qn,findAllComponents:Gn,findComponent:Kn,findNextNode:Zn,firstNode:Jn,getArgsList:Xn,getNode:ei,getValue:ti,init:to,rebind:io,registerIndexRef:function(e){var t=this.registeredIndexRefs;-1===t.indexOf(e)&&t.push(e)},render:ro,toString:so,unbind:lo,unregisterIndexRef:function(e){var t=this.registeredIndexRefs;t.splice(t.indexOf(e),1)},unrender:co};var rm,sm,am=["template","partials","components","decorators","events"],om=new x("reset"),lm=function(e,t){var n,i=function(t,n,s){s&&s.partials[e]||t.forEach(function(t){t.type===Jd&&t.getPartialName()===e&&n.push(t),t.fragment&&i(t.fragment.items,n,s),r(t.fragments)?i(t.fragments,n,s):r(t.items)?i(t.items,n,s):t.type===nu&&t.instance&&i(t.instance.fragment.items,n,t.instance),t.type===Zd&&(r(t.attributes)&&i(t.attributes,n,s),r(t.conditionalAttributes)&&i(t.conditionalAttributes,n,s))})},s=[];return i(this.fragment.items,s),this.partials[e]=t,n=Al.start(this,!0),s.forEach(function(t){t.value=void 0,t.setValue(e)}),Al.end(),n},dm=od("reverse"),um=/\*/,cm=od("shift"),hm=od("sort"),fm=od("splice"),pm=new x("teardown"),mm=new x("unrender"),vm=od("unshift"),gm=new x("update"),ym={add:b,animate:et,detach:nt,find:it,findAll:ot,findAllComponents:lt,findComponent:dt,findContainer:ut,findParent:ct,fire:mt,get:vt,insert:gt,merge:wt,observe:_t,observeOnce:Et,off:kt,on:Ct,once:St,pop:ld,push:dd,render:Nt,reset:ho,resetPartial:lm,resetTemplate:fo,reverse:dm,set:po,shift:cm,sort:hm,splice:fm,subtract:mo,teardown:vo,toggle:yo,toHTML:wo,toHtml:wo,unrender:bo,unshift:vm,update:xo,updateModel:_o},wm=1,bm=function(e){var t,n,i={};return e&&(t=e._ractive)?(i.ractive=t.root,i.keypath=t.keypath.str,i.index={},(n=si(t.proxy.parentFragment))&&(i.index=si.resolve(n)),i):i};rm=function(e){Qp(this,e)},sm={extend:{value:To},getNodeInfo:{value:bm},parse:{value:uh},Promise:{value:xl},svg:{value:Lo},magic:{value:Po},VERSION:{value:"0.6.1"},adaptors:{writable:!0,value:{}},components:{writable:!0,value:{}},decorators:{writable:!0,value:{}},easing:{writable:!0,value:Ro},events:{writable:!0,value:{}},interpolators:{writable:!0,value:ul},partials:{writable:!0,value:{}},transitions:{writable:!0,value:{}}},Zo(rm,sm),rm.prototype=n(ym,Vo),rm.prototype.constructor=rm,rm.defaults=rm.prototype;var xm="function";if(typeof Date.now!==xm||typeof String.prototype.trim!==xm||typeof Object.keys!==xm||typeof Array.prototype.indexOf!==xm||typeof Array.prototype.forEach!==xm||typeof Array.prototype.map!==xm||typeof Array.prototype.filter!==xm||"undefined"!=typeof window&&typeof window.addEventListener!==xm)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");return rm})},{}],27:[function(e,t){(function(e){"undefined"!=typeof window?window.jQuery:"undefined"!=typeof e?e.jQuery:null;t.exports=function(){var e=function(e){"undefined"==typeof e.preventDefault?e.returnValue=!1:e.preventDefault()},t=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},n=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1),e.detachEvent&&e.detachEvent("on"+t,n)},i=function(){var e;navigator.userAgent.match(/Chrome/i)?e="Chrome":navigator.userAgent.match(/OS 5(_\d)+ like Mac OS X/i)?e="Safari":navigator.userAgent.match(/Opera Mini/i)?e="Operamini":navigator.userAgent.match(/Opera/i)?e="Opera":navigator.userAgent.match(/IEMobile/i)?e="IE":navigator.userAgent.match(/Mozilla/i)?e="Firefox":navigator.userAgent.match(/Android/i)?e="Android":navigator.userAgent.match(/MSIE/i)&&(e="IE"),navigator.userAgent.match(/Android 2.3/i)&&jQuery("body").addClass("Android_2_3"),jQuery("body").addClass("browser-"+e)},r=function(){var e;navigator.userAgent.match(/BlackBerry/i)?e="BlackBerry":navigator.userAgent.match(/iPhone|iPad|iPod/i)?e="iPhone":navigator.userAgent.match(/IEMobile/i)?e="Windows":navigator.userAgent.match(/Android/i)?e="Android":navigator.userAgent.match(/Windows/i)?e="Windows":navigator.userAgent.match(/Linux/i)&&(e="Linux"),jQuery("body").addClass("platform-"+e)};return{addEventHandler:t,platformType:r,browserName:i,addEventHandler:t,removeEventHandler:n,preventDefault:e}}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],28:[function(require,module,exports){module.exports=function(){isValidEmailId=function(e){var t=!1;if(null==e)return t;if(e=this.trim(e),""==e||-1!=e.search(/\s/))return t;var n=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,i=e.match(n);return null==i||i[0]!=e?t:!0};var isValidCountryCode=function(e){var t,n=!1;return null==e?n:(e=this.trim(e),""==e||-1!=e.search(/\s/)?n:("+"==e.charAt(0)&&(e=e.replace("+","")),t=e.match(/^[0-9]{1,4}$/),null==t||t[0]!=e?n:!0))},isValidMobileNumber=function(mobile,countryCode){var returnValue=!1,matches;if(countryCode&&!this.isValidCountryCode(countryCode))return returnValue;if(null==mobile)return returnValue;if(mobile=this.trim(mobile),""==mobile||-1!=mobile.search(/\s/))return returnValue;var validMobilePatterns=new Array;validMobilePatterns[91]="/^[987][0-9]{9}$/",validMobilePatterns["001"]="/^[0-9]{10}$/",validMobilePatterns[44]="/^[987][0-9]{9}$/",validMobilePatterns[971]="/^5[0-9]{8,9}/";var validMobileRegExp=validMobilePatterns[countryCode];return validMobileRegExp||(validMobileRegExp="/^[1-9][0-9]{7,10}$/"),validMobileRegExp=eval(validMobileRegExp),matches=mobile.match(validMobileRegExp),null==matches||matches[0]!=mobile?returnValue:!0},isValidName=function(e,t){if(null==e)return!1;if(e=this.trim(e),"name"==e.toLowerCase()||"full name"==e.toLowerCase())return!1;if(""==e)return!1;var n=/^[a-zA-Z\s\.]+$/;t&&(n=/^[a-zA-Z\s\.0-9]+$/);var i=e.match(n);return null==i||i[0]!=e?!1:!0},trim=function(e){return e=e.replace(/\s+/g," "),e=e.replace(/^\s|\s$/g,"")},isNumeric=function(e){return matches=e.match(/^[0-9]+$/),null!=matches&&matches[0]==e},isDecimal=function(e){return matches=e.match(/^\d+\.\d{0,3}$/),null!=matches&&matches[0]==e},validateEmail=function(e,t){void 0==t&&(void 0==e.next()||-1==e.next().className.indexOf("error-block")?(t=new Element("div",{"class":"error-block",style:"display:none"}),t.innerHTML="<div class='help_wrap'><p><span></span></p><div class='help_arrow'></div></div>",e.parentNode.insertBefore(t,e.nextSibling)):t=e.next());var n=e.value;return n==e.placeholder&&(n=""),""==n?(t.show(),focusEle=e,t.getElementsByTagName("span")[0].innerHTML="Please enter email id",e.addClassName("redborder"),!1):Validator.isValidEmailId(n)?(t.hide(),e.removeClassName("redborder"),!0):(t.show(),focusEle=e,t.getElementsByTagName("span")[0].innerHTML="Please enter valid email id",e.addClassName("redborder"),!1)},validateMobile=function(e,t,n){return void 0==n&&(void 0==e.next()||-1==e.next().className.indexOf("error-block")?(n=new Element("div",{"class":"error-block",style:"display:none"}),n.innerHTML="<div class='help_wrap'><p><span></span></p><div class='help_arrow'></div></div>",e.parentNode.insertBefore(n,e.nextSibling)):n=e.next()),""==e.value?(n.show(),focusEle=e,n.getElementsByTagName("span")[0].innerHTML="Please enter mobile number",e.addClassName("redborder"),!1):""==t.value?(n.show(),focusEle=e,n.getElementsByTagName("span")[0].innerHTML="Please enter country code",e.addClassName("redborder"),!1):Validator.isValidMobileNumber(e.value,t.value)?(n.hide(),e.removeClassName("redborder"),!0):(n.show(),focusEle=e,n.getElementsByTagName("span")[0].innerHTML="Please enter valid mobile number",e.addClassName("redborder"),!1)},validateName=function(e,t){void 0==t&&(void 0==e.next()||-1==e.next().className.indexOf("error-block")?(t=new Element("div",{"class":"error-block",style:"display:none"}),t.innerHTML="<div class='help_wrap'><p><span></span></p><div class='help_arrow'></div></div>",e.parentNode.insertBefore(t,e.nextSibling)):t=e.next());var n=e.value;return n==e.placeholder&&(n=""),""==n?(t.show(),focusEle=e,t.getElementsByTagName("span")[0].innerHTML="Please enter name",e.addClassName("redborder"),!1):Validator.isValidName(n)?(t.hide(),e.removeClassName("redborder"),!0):(t.show(),focusEle=e,t.getElementsByTagName("span")[0].innerHTML="Please enter valid name",e.addClassName("redborder"),!1)},validatePassword=function(e,t){return"undefined"==typeof t&&("undefined"==typeof e.next()||-1==e.next().className.indexOf("error-block")?(t=new Element("div",{"class":"error-block",style:"display:none"}),t.innerHTML="<div class='help_wrap'><p><span></span></p><div class='help_arrow'></div></div>",e.parentNode.insertBefore(t,e.nextSibling)):t=e.next()),""==e.value||e.placeholder==e.value?(t.show(),focusEle=e,t.getElementsByTagName("span")[0].innerHTML="Please enter password",!1):e.value.length<6?(t.show(),focusEle=e,t.getElementsByTagName("span")[0].innerHTML="Password should be atleast 6 char",!1):(t.hide(),!0)},elementValidate=function(e,t,n){var i=e.value;return""==i?(t.show(),focusEle=e,t.getElementsByTagName("span")[0].innerHTML=n,e.addClassName("redborder"),!1):(t.hide(),e.removeClassName("redborder"),!0)},isEmpty=function(e){var t=!1;return null==e?t=!0:(""==e||-1!=e.search(/\s/))&&(e=e.trim(),t=!0),t},isRegXMatching=function(e,t){var n=!0;if(Validator.isEmpty(t))n=!1;else{var i=t.match(e);(null==i||i[0]!=name)&&(n=!1)}return n},isValidDate=function(e){var t=new Date(e);return!isNaN(t.valueOf())},dateComparision=function(e,t,n){var i=!1;if(!Validator.isEmpty(e)&&!Validator.isEmpty(t)&&!Validator.isEmpty(n)){var r=new Date(e),s=new Date(t);"less"==n&&s>r?i=!0:"greater"==n&&r>s&&(i=!0)}return i},numberComparision=function(e,t,n){var i=!1;return Validator.isEmpty(e)||Validator.isEmpty(t)||Validator.isEmpty(n)||Validator.isNumeric(e)&&Validator.isNumeric(t)&&("less"==n&&t>e?i=!0:"greater"==n&&e>t&&(i=!0)),i},isValidPercentNumber=function(e){var t=!1;return!Validator.isEmpty(e)&&Validator.isNumeric(e)&&e>=0&&100>=e&&(t=!0),t},isValidImage=function(e){var t=["jpeg","jpg","png","gif","bmp"],n=e.split(".").pop().toLowerCase(),i=!1;for(var r in t)if(n===t[r]){i=!0;break}return i},isValidImageSize=function(e,t){void 0==t&&(t=2097152)};return{elementValidate:elementValidate,dateComparision:dateComparision,isDecimal:isDecimal,isEmpty:isEmpty,isNumeric:isNumeric,isRegXMatching:isRegXMatching,isValidCountryCode:isValidCountryCode,isValidDate:isValidDate,isValidImage:isValidImage,isValidImageSize:isValidImageSize,isValidMobileNumber:isValidMobileNumber,isValidName:isValidName,isValidPercentNumber:isValidPercentNumber,numberComparision:numberComparision,trim:trim,validateEmail:validateEmail,validateMobile:validateMobile,validateName:validateName,validatePassword:validatePassword}}()},{}],29:[function(e){var t=e("../components/header"),n=e("../components/ga.js"),i=e("../components/listing-image-gallery.js"),r=e("../components/shortlist.js"),s=(e("../libs/jquery.flexslider.js"),e("../components/contact-flow.js")),a=e("../components/modal-image-gallery"),o=e("../components/search-filters-pills-results"),l=e("../components/snippets"),d=e("../components/affix-sidebar"),u=e("../components/scroll-to-top"),c=e("../components/lazier-load");e("../libs/cfLazyLoader"),e("../libs/jquery.unveil.js"),n.init(),t.init(),i.init(),a.init(),s.initViewContact(),o.init(),l.init(),d.init(),r.cfShortlist("#searchResultsWidget",'[data-cf-role="shortlist"]'),u.init(),c.startAfterOnLoad()},{"../components/affix-sidebar":1,"../components/contact-flow.js":4,"../components/ga.js":5,"../components/header":6,"../components/lazier-load":7,"../components/listing-image-gallery.js":8,"../components/modal-image-gallery":9,"../components/scroll-to-top":11,"../components/search-filters-pills-results":12,"../components/shortlist.js":18,"../components/snippets":20,"../libs/cfLazyLoader":21,"../libs/jquery.flexslider.js":23,"../libs/jquery.unveil.js":25}],30:[function(e,t){var n=function(){"use strict";var e,t,n,i,r,s,a={width:"100%",height:"4px",zIndex:9999,top:"0"},o={width:0,height:"100%",clear:"both",transition:"height .3s"};return e=function(e,t){var n;for(n in t)e.style[n]=t[n];e.style["float"]="left"},i=function(){var e=this,t=this.width-this.here;.1>t&&t>-.1?(r.call(this,this.here),this.moving=!1,100==this.width&&(this.el.style.height=0,setTimeout(function(){e.cont.el.removeChild(e.el)},300))):(r.call(this,this.width-t/4),setTimeout(function(){e.go()},16))},r=function(e){this.width=e,this.el.style.width=this.width+"%"},s=function(){var e=new t(this);this.bars.unshift(e)},t=function(t){this.el=document.createElement("div"),this.el.style.backgroundColor=t.opts.bg,this.width=0,this.here=0,this.moving=!1,this.cont=t,e(this.el,o),t.el.appendChild(this.el)},t.prototype.go=function(e){e?(this.here=e,this.moving||(this.moving=!0,i.call(this))):this.moving&&i.call(this)},n=function(t){var n,i=this.opts=t||{};i.bg=i.bg||"#000",this.bars=[],n=this.el=document.createElement("div"),e(this.el,a),i.id&&(n.id=i.id),n.style.position=i.target?"relative":"fixed",i.target?i.target.insertBefore(n,i.target.firstChild):document.getElementsByTagName("body")[0].appendChild(n),s.call(this)},n.prototype.go=function(e){this.bars[0].go(e),100==e&&s.call(this)},n}();t.exports=n},{}]},{},[29]);